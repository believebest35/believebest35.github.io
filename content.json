{"meta":{"title":"Xinrui Tang","subtitle":"","description":"è¿™é‡Œæ˜¯æˆ‘å†™ä¸€äº›æ— èŠçš„ä¸œè¥¿çš„åœ°æ–¹","author":"Xinrui Tang","url":"http://believebest35.github.io","root":"/"},"pages":[{"title":"about me","date":"2020-07-22T11:26:47.000Z","updated":"2020-07-22T12:20:53.959Z","comments":false,"path":"about/index.html","permalink":"http://believebest35.github.io/about/index.html","excerpt":"","text":"Hello, this is Xinrui Tangâ€™s blog by hexo."},{"title":"about","date":"2020-10-13T11:42:13.000Z","updated":"2020-10-13T11:42:13.660Z","comments":true,"path":"about/index-1.html","permalink":"http://believebest35.github.io/about/index-1.html","excerpt":"","text":""},{"title":"tags","date":"2020-10-13T11:38:43.000Z","updated":"2020-10-13T11:38:43.060Z","comments":true,"path":"tags/index-1.html","permalink":"http://believebest35.github.io/tags/index-1.html","excerpt":"","text":""},{"title":"","date":"2020-07-22T11:26:00.000Z","updated":"2020-07-22T12:12:13.920Z","comments":false,"path":"tags/index.html","permalink":"http://believebest35.github.io/tags/index.html","excerpt":"","text":""},{"title":"","date":"2020-07-22T11:24:27.000Z","updated":"2020-07-22T12:12:41.598Z","comments":false,"path":"categories/index.html","permalink":"http://believebest35.github.io/categories/index.html","excerpt":"","text":""}],"posts":[{"title":"è®¾è®¡æ¨¡å¼åŸºç¡€(Javaæè¿°)","slug":"design-pattern","date":"2020-11-10T11:43:44.000Z","updated":"2020-11-18T03:08:50.033Z","comments":true,"path":"2020/11/10/design-pattern/","link":"","permalink":"http://believebest35.github.io/2020/11/10/design-pattern/","excerpt":"ä¸€äº›å…³äºè®¾è®¡æ¨¡å¼çš„æ–‡ç« ï¼š å›¾è¯´è®¾è®¡æ¨¡å¼ å»–é›ªå³°Javaè®¾è®¡æ¨¡å¼æ•™ç¨‹ Java 23ç§è®¾è®¡æ¨¡å¼å…¨å½’çº³ LeetBook æ·±å…¥æµ…å‡ºè®¾è®¡æ¨¡å¼ Javaè®¾è®¡æ¨¡å¼ â€¦","text":"ä¸€äº›å…³äºè®¾è®¡æ¨¡å¼çš„æ–‡ç« ï¼š å›¾è¯´è®¾è®¡æ¨¡å¼ å»–é›ªå³°Javaè®¾è®¡æ¨¡å¼æ•™ç¨‹ Java 23ç§è®¾è®¡æ¨¡å¼å…¨å½’çº³ LeetBook æ·±å…¥æµ…å‡ºè®¾è®¡æ¨¡å¼ Javaè®¾è®¡æ¨¡å¼ â€¦ è®¾è®¡æ¨¡å¼åˆ†ç±» åˆ›å»ºå‹æ¨¡å¼ ç»“æ„å‹æ¨¡å¼ è¡Œä¸ºå‹æ¨¡å¼ å…­å¤§è®¾è®¡åŸåˆ™ å¼€é—­åŸåˆ™ï¼šä¸€ä¸ªè½¯ä»¶å®ä½“å¦‚ç±»ã€æ¨¡å—å’Œå‡½æ•°åº”è¯¥å¯¹ä¿®æ”¹å°é—­ï¼Œå¯¹æ‰©å±•å¼€æ”¾ã€‚ å•ä¸€èŒè´£åŸåˆ™ï¼šä¸€ä¸ªç±»åªåšä¸€ä»¶äº‹ï¼Œä¸€ä¸ªç±»åº”è¯¥åªæœ‰ä¸€ä¸ªå¼•èµ·å®ƒä¿®æ”¹çš„åŸå› ã€‚ é‡Œæ°æ›¿æ¢åŸåˆ™ï¼šå­ç±»åº”è¯¥å¯ä»¥å®Œå…¨æ›¿æ¢çˆ¶ç±»ã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨ä½¿ç”¨ç»§æ‰¿æ—¶ï¼Œåªæ‰©å±•æ–°åŠŸèƒ½ï¼Œè€Œä¸è¦ç ´åçˆ¶ç±»åŸæœ‰çš„åŠŸèƒ½ã€‚ ä¾èµ–å€’ç½®åŸåˆ™ï¼šç»†èŠ‚åº”è¯¥ä¾èµ–äºæŠ½è±¡ï¼ŒæŠ½è±¡ä¸åº”ä¾èµ–äºç»†èŠ‚ã€‚æŠŠæŠ½è±¡å±‚æ”¾åœ¨ç¨‹åºè®¾è®¡çš„é«˜å±‚ï¼Œå¹¶ä¿æŒç¨³å®šï¼Œç¨‹åºçš„ç»†èŠ‚å˜åŒ–ç”±ä½å±‚çš„å®ç°å±‚æ¥å®Œæˆã€‚ è¿ªç±³ç‰¹æ³•åˆ™ï¼šåˆåâ€œæœ€å°‘çŸ¥é“åŸåˆ™â€ï¼Œä¸€ä¸ªç±»ä¸åº”çŸ¥é“è‡ªå·±æ“ä½œçš„ç±»çš„ç»†èŠ‚ï¼Œæ¢è¨€ä¹‹ï¼Œåªå’Œæœ‹å‹è°ˆè¯ï¼Œä¸å’Œæœ‹å‹çš„æœ‹å‹è°ˆè¯ã€‚ æ¥å£éš”ç¦»åŸåˆ™ï¼šå®¢æˆ·ç«¯ä¸åº”ä¾èµ–å®ƒä¸éœ€è¦çš„æ¥å£ã€‚å¦‚æœä¸€ä¸ªæ¥å£åœ¨å®ç°æ—¶ï¼Œéƒ¨åˆ†æ–¹æ³•ç”±äºå†—ä½™è¢«å®¢æˆ·ç«¯ç©ºå®ç°ï¼Œåˆ™åº”è¯¥å°†æ¥å£æ‹†åˆ†ï¼Œè®©å®ç°ç±»åªéœ€ä¾èµ–è‡ªå·±éœ€è¦çš„æ¥å£æ–¹æ³•ã€‚ åˆ›å»ºå‹æ¨¡å¼å·¥å‚æ¨¡å¼ Factoryä¸€èˆ¬åˆ›å»ºæ–°å¯¹è±¡æ˜¯ä½¿ç”¨æ„é€ å‡½æ•°ç›´æ¥newä¸€ä¸ªæ–°å¯¹è±¡å‡ºæ¥ï¼Œä½†è¿™æ ·æŠŠå¯¹è±¡çš„æ„é€ è¿‡ç¨‹æš´éœ²äº†å‡ºæ¥ï¼Œå¹¶ä¸”é‡è½½çš„æ„é€ å‡½æ•°çš„åŒºåˆ«åªèƒ½åœ¨ä½“ç°åœ¨å‚æ•°ä¸Šï¼Œå·¥å‚æ¨¡å¼ä¾¿å¯ä»¥å°è£…å¯¹è±¡çš„æ„é€ è¿‡ç¨‹ã€‚ ç®€å•å·¥å‚æ¨¡å¼ä¸€ä¸ªç®€å•çš„æ —å­ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041public class Main &#123; public static void main(String[] args) throws Exception &#123; MaskFactory factory = new MaskFactory(); // è¾“å‡ºï¼šè¿™æ˜¯åŒ»ç”¨å£ç½© System.out.println(factory.create(\"Surgfical\")); // è¾“å‡ºï¼šè¿™æ˜¯ N95 å£ç½© System.out.println(factory.create(\"N95\")); &#125;&#125;abstract class Mask &#123;&#125;class SurgicalMask extends Mask &#123; @Override public String toString() &#123; return \"è¿™æ˜¯åŒ»ç”¨å£ç½©\"; &#125;&#125;class N95Mask extends Mask &#123; @Override public String toString() &#123; return \"è¿™æ˜¯ N95 å£ç½©\"; &#125;&#125;class MaskFactory &#123; public Mask create(String type)&#123; if (type.equals(\"Surgical\")) return new SurgicalMask(); else if (type.equals(\"N95\")) return new N95Mask(); else throw new IllegalArgumentException(\"Unsupported mask type\"); &#125;&#125; å³ä½¿ç”¨ä¸€ä¸ªè¶…çº§å·¥å‚ç±»ç”¨æ¥å°è£…æ‰€æœ‰çš„å¯¹è±¡æ„é€ ç»†èŠ‚ï¼Œç‰¹åˆ«æ˜¯å½“ä¸€ä¸ªå¯¹è±¡æ„é€ è¿‡ç¨‹ç‰¹åˆ«å¤æ‚æ—¶ååˆ†å¥½ç”¨ï¼Œè¿™æ ·ä½¿å¾—è°ƒç”¨è€…ä¸éœ€è¦å…³å¿ƒå¯¹è±¡çš„æ„é€ ç»†èŠ‚ï¼Œåªéœ€è¦å’Œå·¥å‚ç±»è¿›è¡Œäº¤äº’ã€‚ å…¶å®å¯ä»¥å°†å·¥å‚ç±»ä¸­æ–¹æ³•ç»Ÿä¸€æ”¹å†™ä¸ºé™æ€æ–¹æ³•ï¼Œè¿™æ ·å°±å¯ä»¥çœå»æ„é€ å·¥å‚ç±»çš„ä¸€ä¸ªå®ä¾‹ã€‚å³ 123456public static Mask create(String type) &#123; // ...&#125;Mask mask = MaskFactory.create(\"N95\");// ... ä¼˜ç‚¹ éšè—æ„é€ è¿‡ç¨‹ï¼Œå½“æ„é€ è¿‡ç¨‹å‡ºç°å˜åŒ–æ—¶è°ƒç”¨è€…ä¹Ÿæ— éœ€å…³å¿ƒã€‚ ç¼ºç‚¹ å¦‚æœéœ€è¦ç”Ÿäº§çš„äº§å“è¿‡å¤šï¼Œæ­¤æ¨¡å¼ä¼šå¯¼è‡´å·¥å‚ç±»è¿‡äºåºå¤§ï¼Œæ‰¿æ‹…è¿‡å¤šçš„èŒè´£ï¼Œå˜æˆè¶…çº§ç±»ã€‚å°±æ˜¯è¯´è¿™ä¸ªç±»ä¸æ­¢ä¸€ä¸ªå¼•èµ·ä¿®æ”¹çš„åŸå› ï¼Œè¿èƒŒäº†å•ä¸€èŒè´£åŸåˆ™ã€‚ å½“è¦ç”Ÿäº§æ–°çš„äº§å“æ—¶ï¼Œå¿…é¡»åœ¨å·¥å‚ç±»ä¸­æ·»åŠ æ–°çš„åˆ†æ”¯ã€‚è€Œå¼€é—­åŸåˆ™å‘Šè¯‰æˆ‘ä»¬ï¼šç±»åº”è¯¥å¯¹ä¿®æ”¹å°é—­ã€‚æˆ‘ä»¬å¸Œæœ›åœ¨æ·»åŠ æ–°åŠŸèƒ½æ—¶ï¼Œåªéœ€å¢åŠ æ–°çš„ç±»ï¼Œè€Œä¸æ˜¯ä¿®æ”¹æ—¢æœ‰çš„ç±»ï¼Œæ‰€ä»¥è¿™å°±è¿èƒŒäº†å¼€é—­åŸåˆ™ã€‚ å·¥å‚æ–¹æ³•æ¨¡å¼ä¸ºäº†é¿å…å·¥å‚ç±»è¿‡äºåºå¤§ï¼Œå¯ä»¥ç»™æ¯ä¸€ç±»äº§å“å•ç‹¬è®¾è®¡ä¸€ä¸ªå·¥å‚ç±»ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839public class Main &#123; public static void main(String[] args) throws Exception &#123; // è¾“å‡ºï¼šè¿™æ˜¯åŒ»ç”¨å£ç½© System.out.println(SurgicalMaskFactory.create()); // è¾“å‡ºï¼šè¿™æ˜¯ N95 å£ç½© System.out.println(N95MaskFactory.create()); &#125;&#125;abstract class Mask &#123;&#125;class SurgicalMask extends Mask &#123; @Override public String toString() &#123; return \"è¿™æ˜¯åŒ»ç”¨å£ç½©\"; &#125;&#125;class N95Mask extends Mask &#123; @Override public String toString() &#123; return \"è¿™æ˜¯ N95 å£ç½©\"; &#125;&#125;class N95MaskFactory &#123; public static Mask create() &#123; // è®¾ç½®ä¸ºé™æ€æ–¹æ³•ï¼Œæ— éœ€newå·¥å‚å®ä¾‹ return new N95Mask(); &#125;&#125;class SurgicalMaskFactory &#123; public static Mask create() &#123; return new SurgicalMask(); &#125;&#125; å¯¹äºæ¯ä¸ªäº§å“éƒ½è®¾è®¡å·¥å‚ç±»è™½ç„¶çœ‹ä¸Šå»å¹¶æ²¡æœ‰é™ä½è€¦åˆåº¦ï¼Œç”šè‡³ä½¿å¾—ä»£ç é‡å¢åŠ äº†ï¼Œä½†æ˜¯å·¥å‚æ–¹æ³•æ¨¡å¼ä¾æ—§å°è£…äº†äº§å“çš„å…·ä½“æ„é€ ç»†èŠ‚ã€‚ ä¸¤ä¸ªä¼˜ç‚¹ å½“ç”Ÿäº§çš„äº§å“ç§ç±»è¶Šæ¥è¶Šå¤šæ—¶ï¼Œå·¥å‚ç±»ä¸ä¼šå˜æˆè¶…çº§ç±»ã€‚å·¥å‚ç±»ä¼šè¶Šæ¥è¶Šå¤šï¼Œä¿æŒçµæ´»ã€‚ä¸ä¼šè¶Šæ¥è¶Šå¤§ã€å˜å¾—è‡ƒè‚¿ã€‚å¦‚æœN95çš„ç”Ÿäº§è¿‡ç¨‹éœ€è¦ä¿®æ”¹æ—¶ï¼Œåªéœ€ä¿®æ”¹N95å·¥å‚ã€‚å¤–ç§‘å£ç½©çš„ç”Ÿäº§è¿‡ç¨‹éœ€è¦ä¿®æ”¹æ—¶ï¼Œåªéœ€ä¿®æ”¹å¤–ç§‘å£ç½©å·¥å‚ã€‚ç¬¦åˆå•ä¸€èŒè´£åŸåˆ™ã€‚ å½“éœ€è¦ç”Ÿäº§æ–°çš„äº§å“æ—¶ï¼Œæ— éœ€æ›´æ”¹æ—¢æœ‰çš„å·¥å‚ï¼Œåªéœ€è¦æ·»åŠ æ–°çš„å·¥å‚å³å¯ã€‚ä¿æŒäº†é¢å‘å¯¹è±¡çš„å¯æ‰©å±•æ€§ï¼Œç¬¦åˆå¼€é—­åŸåˆ™ã€‚ æŠ½è±¡å·¥å‚æ¨¡å¼ Abstract factoryä»¥ä¸Šçš„å·¥å‚æ–¹æ³•å¯ä»¥æå–å‡ºå…¬å…±çš„å·¥å‚æ¥å£ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748public class Main &#123; public static void main(String[] args) throws Exception &#123; IFactory factory_1 = new SurgicalMaskFactory(); IFactory factory_2 = new N95MaskFactory(); // è¾“å‡ºï¼šè¿™æ˜¯åŒ»ç”¨å£ç½© System.out.println(factory_1.create()); // è¾“å‡ºï¼šè¿™æ˜¯ N95 å£ç½© System.out.println(factory_2.create()); &#125;&#125;abstract class Mask &#123;&#125;class SurgicalMask extends Mask &#123; @Override public String toString() &#123; return \"è¿™æ˜¯åŒ»ç”¨å£ç½©\"; &#125;&#125;class N95Mask extends Mask &#123; @Override public String toString() &#123; return \"è¿™æ˜¯ N95 å£ç½©\"; &#125;&#125;interface IFactory &#123; // æŠ½è±¡å‡ºçš„å…¬å…±å·¥å‚æ¥å£ Mask create();&#125;class SurgicalMaskFactory implements IFactory&#123; @Override public Mask create() &#123; return new SurgicalMask(); &#125;&#125;class N95MaskFactory implements IFactory &#123; @Override public Mask create() &#123; return new N95Mask(); &#125;&#125; æŠ½è±¡å·¥å‚æ¨¡å¼åœ¨åˆ›å»ºå·¥å‚å®ä¾‹æ—¶æŒ‡å®šäº†å…·ä½“çš„å·¥å‚ç±»åï¼Œåœ¨ä½¿ç”¨æ—¶å°±æ— éœ€å†å…³å¿ƒæ˜¯å“ªä¸ªå·¥å‚ç±»ï¼Œåªéœ€è¦å°†æ­¤å·¥å‚å½“ä½œæŠ½è±¡çš„ IFactory æ¥å£ä½¿ç”¨å³å¯ã€‚ ç”±äºå®¢æˆ·ç«¯åªå’Œ IFactory æ‰“äº¤é“äº†ï¼Œè°ƒç”¨çš„æ˜¯æ¥å£ä¸­çš„æ–¹æ³•ï¼Œä½¿ç”¨æ—¶æ ¹æœ¬ä¸éœ€è¦çŸ¥é“æ˜¯åœ¨å“ªä¸ªå…·ä½“å·¥å‚ä¸­å®ç°çš„è¿™äº›æ–¹æ³•ï¼Œè¿™å°±ä½¿å¾—æ›¿æ¢å·¥å‚å˜å¾—éå¸¸å®¹æ˜“ã€‚ æŠ½è±¡å·¥å‚æ¨¡å¼å¾ˆå¥½çš„å‘æŒ¥äº†å¼€é—­åŸåˆ™ã€ä¾èµ–å€’ç½®åŸåˆ™ï¼Œä½†ç¼ºç‚¹æ˜¯æŠ½è±¡å·¥å‚æ¨¡å¼å¤ªé‡äº†ï¼Œå¦‚æœ IFactory æ¥å£éœ€è¦æ–°å¢åŠŸèƒ½ï¼Œåˆ™ä¼šå½±å“åˆ°æ‰€æœ‰çš„å…·ä½“å·¥å‚ç±»ã€‚ä½¿ç”¨æŠ½è±¡å·¥å‚æ¨¡å¼ï¼Œæ›¿æ¢å…·ä½“å·¥å‚æ—¶åªéœ€æ›´æ”¹ä¸€è¡Œä»£ç ï¼Œä½†è¦æ–°å¢æŠ½è±¡æ–¹æ³•åˆ™éœ€è¦ä¿®æ”¹æ‰€æœ‰çš„å…·ä½“å·¥å‚ç±»ã€‚æ‰€ä»¥æŠ½è±¡å·¥å‚æ¨¡å¼é€‚ç”¨äºå¢åŠ åŒç±»å·¥å‚è¿™æ ·çš„æ¨ªå‘æ‰©å±•éœ€æ±‚ï¼Œä¸é€‚åˆæ–°å¢åŠŸèƒ½è¿™æ ·çš„çºµå‘æ‰©å±•ã€‚ å•ä¾‹æ¨¡å¼ Singletonå•ä¾‹æ¨¡å¼ä¿è¯ä¸€ä¸ªç±»åœ¨å…¨å±€ä¸­ä»…æœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¯¹è±¡ä¸ä¼šè¢«é‡å¤åˆ›å»ºï¼Œå…¶å®ç°åˆ†ä¸ºé¥¿æ±‰å¼å’Œæ‡’æ±‰å¼ã€‚ é¥¿æ±‰å¼ï¼šå˜é‡åœ¨å£°æ˜æ—¶ä¾¿åˆå§‹åŒ–ã€‚ æ‡’æ±‰å¼ï¼šå…ˆå£°æ˜ä¸€ä¸ªç©ºå˜é‡ï¼Œéœ€è¦ç”¨æ—¶æ‰åˆå§‹åŒ–ã€‚ å…³äºæ‡’æ±‰å¼çš„å®ç°ç”±äºJavaï¼ŒC++è¯­è¨€ç‰¹æ€§çš„åŸå› ï¼Œåœ¨å¤šçº¿ç¨‹æ—¶ä¼šå‡ºç°çº¿ç¨‹å®‰å…¨çš„é—®é¢˜ï¼ˆé‡å¤åˆ›å»ºå®ä¾‹ï¼‰ï¼Œå…·ä½“å¯ä»¥å‚è§è¿™ä¸€ç¯‡æ–‡æ¡£ æ‡’æ±‰å¼å…·ä½“å®ç°å‚è§å…¶å®ƒæ–‡ç« ã€‚ é¥¿æ±‰å¼å®ç°ï¼š 12345678910public class Singleton &#123; private static Singleton instance = new Singleton(); private Singleton() &#123; &#125; public static Singleton getInstance() &#123; return instance; &#125;&#125; æ„é€ å‡½æ•°å®šä¹‰ä¸ºç§æœ‰æˆå‘˜ï¼Œé€šè¿‡getInstance()æ–¹æ³•è·å–å®ä¾‹ã€‚ å»ºé€ è€…æ¨¡å¼ Builder å°†ä¸€ä¸ªå¤æ‚çš„æ„å»ºä¸å…¶è¡¨ç¤ºç›¸åˆ†ç¦»ï¼Œä½¿å¾—åŒæ ·çš„æ„å»ºè¿‡ç¨‹å¯ä»¥åˆ›å»ºä¸åŒçš„è¡¨ç¤ºã€‚ å»ºé€ è€…æ¨¡å¼ä¸€èˆ¬ç”¨äºåˆ›å»ºä¸€ä¸ªå¤æ‚çš„å¯¹è±¡ï¼Œå…¶åˆ›å»ºè¿‡ç¨‹éœ€è¦è®¸å¤šé…ç½®ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061public class MilkTea &#123; private final String type; private final String size; private final boolean pearl; private final boolean ice; private MilkTea() &#123;&#125; private MilkTea(Builder builder) &#123; this.type = builder.type; this.size = builder.size; this.pearl = builder.pearl; this.ice = builder.ice; &#125; public String getType() &#123; return type; &#125; public String getSize() &#123; return size; &#125; public boolean isPearl() &#123; return pearl; &#125; public boolean isIce() &#123; return ice; &#125; public static class Builder &#123; private final String type; private String size = \"ä¸­æ¯\"; private boolean pearl = true; private boolean ice = false; public Builder(String type) &#123; this.type = type; &#125; public Builder size(String size) &#123; this.size = size; return this; &#125; public Builder pearl(boolean pearl) &#123; this.pearl = pearl; return this; &#125; public Builder ice(boolean cold) &#123; this.ice = cold; return this; &#125; public MilkTea build() &#123; return new MilkTea(this); &#125; &#125;&#125; MilkTea çš„æ„é€ æ–¹æ³•è®¾ç½®ä¸ºç§æœ‰çš„ï¼Œæ‰€ä»¥å¤–éƒ¨ä¸èƒ½é€šè¿‡ new æ„å»ºå‡º MilkTea å®ä¾‹ï¼Œåªèƒ½é€šè¿‡ Builder æ„å»ºã€‚å¯¹äºå¿…é¡»é…ç½®çš„å±æ€§ï¼Œé€šè¿‡ Builder çš„æ„é€ æ–¹æ³•ä¼ å…¥ï¼Œå¯é€‰çš„å±æ€§é€šè¿‡ Builder çš„é“¾å¼è°ƒç”¨æ–¹æ³•ä¼ å…¥ï¼Œå¦‚æœä¸é…ç½®ï¼Œå°†ä½¿ç”¨é»˜è®¤é…ç½®ï¼Œä¹Ÿå°±æ˜¯ä¸­æ¯ã€åŠ çç ã€ä¸åŠ å†°ã€‚æ ¹æ®ä¸åŒçš„é…ç½®å¯ä»¥åˆ¶ä½œå‡ºä¸åŒçš„å¥¶èŒ¶ã€‚ 123456789101112131415161718192021222324252627282930313233343536public class User &#123; private void buyMilkTea() &#123; MilkTea milkTea = new MilkTea.Builder(\"åŸå‘³\").build(); show(milkTea); MilkTea chocolate =new MilkTea.Builder(\"å·§å…‹åŠ›å‘³\") .ice(false) .build(); show(chocolate); MilkTea strawberry = new MilkTea.Builder(\"è‰è“å‘³\") .size(\"å¤§æ¯\") .pearl(false) .ice(true) .build(); show(strawberry); &#125; private void show(MilkTea milkTea) &#123; String pearl; if (milkTea.isPearl()) pearl = \"åŠ çç \"; else pearl = \"ä¸åŠ çç \"; String ice; if (milkTea.isIce()) &#123; ice = \"åŠ å†°\"; &#125; else &#123; ice = \"ä¸åŠ å†°\"; &#125; System.out.println(\"ä¸€ä»½\" + milkTea.getSize() + \"ã€\" + pearl + \"ã€\" + ice + \"çš„\" + milkTea.getType() + \"å¥¶èŒ¶\"); &#125;&#125; åŸå‹æ¨¡å¼ Prototype ç”¨åŸå‹å®ä¾‹æŒ‡å®šåˆ›å»ºå¯¹è±¡çš„ç§ç±»ï¼Œå¹¶ä¸”é€šè¿‡æ‹·è´è¿™äº›åŸå‹åˆ›å»ºæ–°çš„å¯¹è±¡ã€‚ åŸå‹æ¨¡å¼æ˜¯æŒ‡æ ¹æ®å·²ç»æœ‰çš„å¯¹è±¡ï¼Œå¤åˆ¶ä¸€ä¸ªæ–°çš„å®Œå…¨ç›¸åŒçš„å¯¹è±¡ï¼Œä½†æ˜¯è¿™ä¸¤ä¸ªå¯¹è±¡åœ¨å†…å­˜ä¸­å ä¸ä¸€æ ·çš„å†…å­˜ã€‚ 1234567891011public class MilkTea &#123; public String type; public boolean ice; public MilkTea clone() &#123; MilkTea milktea = new Milktea(); milktea.type = this.type; milktea.ice = this.ice; return milktea; &#125;&#125; Javaä¸­æœ‰Cloneableæ¥å£çš„è¯­æ³•ç³–ï¼Œå› æ­¤å¯ä»¥å…å»è‡ªè¡Œç¼–å†™clone()ã€‚ 12345678910public class MilkTea implements Cloneable&#123; public String type; public boolean ice; @NonNull @Override protected MilkTea clone() throws CloneNotSupportedException &#123; return (MilkTea) super.clone(); &#125;&#125; æ³¨æ„å¯¹äºå¼•ç”¨ç±»å‹çš„æ‹·è´æ˜¯æµ…æ‹·è´ï¼Œè‹¥éœ€è¦æ·±æ‹·è´è¿˜æ˜¯éœ€è¦è‡ªè¡Œå®ç°clone()ã€‚ ç»“æ„å‹æ¨¡å¼é€‚é…å™¨æ¨¡å¼ Adapter å°†ä¸€ä¸ªç±»çš„æ¥å£è½¬æ¢æˆå®¢æˆ·å¸Œæœ›çš„å¦å¤–ä¸€ä¸ªæ¥å£ï¼Œä½¿å¾—åŸæœ¬ç”±äºæ¥å£ä¸å…¼å®¹è€Œä¸èƒ½ä¸€èµ·å·¥ä½œçš„é‚£äº›ç±»å¯ä»¥ä¸€èµ·å·¥ä½œã€‚ é€‚é…å™¨æ¨¡å¼ç›¸å½“äºæŠŠä¸€äº›ä¸å…¼å®¹çš„å‡½æ•°æ¥å£å†åšä¸€å±‚å°è£…ï¼Œå°è£…å±‚å°†å¤–éƒ¨ä¸å…¼å®¹çš„å‚æ•°è½¬æ¢ä¸ºè¢«å°è£…å‡½æ•°å¯ä»¥æ¥å—çš„ç±»å‹ï¼Œç±»ä¼¼æ‰‹æœºç”µæºé€‚é…å™¨ï¼Œå°†220Vç”µå‹è½¬æ¢ä¸ºæ‰‹æœºçš„å……ç”µç”µå‹ï¼Œæ•™ç¨‹ä¸­ç»™å‡ºçš„ç¤ºä¾‹è¾ƒä¸ºç®€å•ï¼Œå°±ä¸å†ç»™å‡ºã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œé€‚é…å™¨æ¨¡å¼å¹¶ä¸æ¨èå¤§èŒƒå›´ä½¿ç”¨ï¼Œä¼˜è‰¯çš„ç³»ç»Ÿè®¾è®¡å¯ä»¥é¿å…æ¥å£ä¸å…¼å®¹æƒ…å†µçš„å‡ºç°ï¼Œåªæœ‰å½“åæœŸå¼€å‘é‡åˆ°æ¥å£ä¸å…¼å®¹çš„æƒ…å†µæ‰è€ƒè™‘ä½¿ç”¨é€‚é…å™¨æ¨¡å¼ã€‚ æ¡¥æ¥æ¨¡å¼ Bridgeæ¡¥æ¥æ¨¡å¼çš„ç›®çš„æ˜¯ä¸ºäº†é¿å…å­ç±»ç»§æ‰¿å¸¦æ¥çš„ç»§æ‰¿çˆ†ç‚¸ã€‚è€ƒè™‘ç¤ºä¾‹ï¼š 1234567891011121314151617181920212223242526interface IShape &#123; public void draw();&#125;class Rectangle implements IShape &#123; @Override public void draw() &#123; System.out.println(\"ç»˜åˆ¶çŸ©å½¢\"); &#125;&#125;class Round implements IShape &#123; @Override public void draw() &#123; System.out.println(\"ç»˜åˆ¶åœ†å½¢\"); &#125;&#125;class Triangle implements IShape &#123; @Override public void draw() &#123; System.out.println(\"ç»˜åˆ¶ä¸‰è§’å½¢\"); &#125;&#125; å‡è®¾éœ€è¦ç»™æ¯ä¸€ç§å½¢çŠ¶æ·»åŠ é¢œè‰²å±æ€§ï¼Œå‡è®¾å†å•ç‹¬è®¾ç½®ä¸€ä¸ªé¢œè‰²ç±»ï¼Œå¹¶é€šè¿‡ç»§æ‰¿çš„æ–¹å¼å®ç°ä¼šå‡ºç°ç»§æ‰¿çˆ†ç‚¸çš„é—®é¢˜ï¼Œå› æ­¤éœ€è¦é€šè¿‡æ¡¥æ¥çš„æ–¹å¼æ¥è§£å†³ã€‚ å®šä¹‰é¢œè‰²ç±»ï¼š 123456789101112131415161718192021222324interface Color &#123; public String getColor();&#125;class Red implements Color &#123; @Override public String getColor() &#123; return \"Red\"; &#125;&#125;class Green implements Color &#123; @Override public String getColor() &#123; return \"Green\"; &#125;&#125;class Blue implements Color &#123; @Override public String getColor() &#123; return \"Blue\"; &#125;&#125; ä½¿ç”¨æ¡¥æ¥ï¼š 12345678910111213class Rectangle implements IShape &#123; private Color color; void setColor(Color color) &#123; this.color = color; &#125; @Override public void draw() &#123; System.out.println(\"ç»˜åˆ¶çŸ©å½¢\"); &#125;&#125;// ... ç»„åˆæ¨¡å¼ Compositeç»„åˆæ¨¡å¼ è£…é¥°æ¨¡å¼ Decoratorå¯¹äºè£…é¥°æ¨¡å¼ç†è§£è¿™ä¸ªå›¾å³å¯ï¼š 123456789101112131415 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ Component â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â–² â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ComponentA â”‚â”‚ComponentB â”‚... â”‚ Decorator â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â–² â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚DecoratorA â”‚ â”‚DecoratorB â”‚... â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Componentæ˜¯æ¥å£ï¼ŒComponentAå’ŒComponentBå±äºå…·ä½“çš„å­ç±»ï¼Œåé¢ä¾¿æ˜¯å•ç‹¬çš„è£…é¥°å™¨ç±»ï¼Œå¯ä»¥å¢å¼ºåŸæœ‰å­ç±»çš„åŠŸèƒ½ã€‚ å¤–è§‚æ¨¡å¼ Facadeå¤–è§‚æ¨¡å¼å°±æ˜¯å°è£…ï¼Œå³å¯ä»¥å°†ä¸€ç³»åˆ—ç±»ä¼¼çš„å·¥ä½œå°è£…åœ¨ä¸€ä¸ªç»Ÿä¸€çš„æ–¹æ³•é‡Œé¢è¿›è¡Œã€‚ 12345678910111213public class Facade &#123; public void open() &#123; Browser.open(); IDE.open(); Wechat.open(); &#125; public void close() &#123; Browser.close(); IDE.close(); Wechat.close(); &#125;&#125; ä»¥ä¸Šå°†ç±»ä¼¼çš„å·¥ä½œå°è£…åœ¨äº†ä¸€ä¸ªç±»ä¸­ã€‚ äº«å…ƒæ¨¡å¼ Flyweightäº«å…ƒæ¨¡å¼æŒ‡çš„æ˜¯ç¨‹åºåº”è¯¥å°½å¯èƒ½çš„å¤ç”¨ï¼Œå…¶æ ¸å¿ƒæ€æƒ³å¾ˆç®€å•ï¼Œå¦‚æœä¸€ä¸ªå¯¹è±¡å®ä¾‹ä¸€ç»åˆ›å»ºå°±ä¸å¯å˜ï¼Œé‚£ä¹ˆåå¤åˆ›å»ºç›¸åŒçš„å®ä¾‹å°±æ²¡æœ‰å¿…è¦ï¼Œç›´æ¥å‘è°ƒç”¨æ–¹è¿”å›ä¸€ä¸ªå…±äº«çš„å®ä¾‹å°±è¡Œï¼Œè¿™æ ·å³èŠ‚çœå†…å­˜ï¼Œåˆå¯ä»¥å‡å°‘åˆ›å»ºå¯¹è±¡çš„è¿‡ç¨‹ï¼Œæé«˜è¿è¡Œé€Ÿåº¦ã€‚ ä»£ç†æ¨¡å¼ Proxyä»£ç†æ¨¡å¼ ä»£ç†æ¨¡å¼é€šè¿‡å°è£…ä¸€ä¸ªå·²æœ‰æ¥å£ï¼Œå¹¶å‘è°ƒç”¨æ–¹è¿”å›ç›¸åŒçš„æ¥å£ç±»å‹ï¼Œèƒ½è®©è°ƒç”¨æ–¹åœ¨ä¸æ”¹å˜ä»»ä½•ä»£ç çš„å‰æä¸‹å¢å¼ºæŸäº›åŠŸèƒ½ï¼ˆä¾‹å¦‚ï¼Œé‰´æƒã€å»¶è¿ŸåŠ è½½ã€è¿æ¥æ± å¤ç”¨ç­‰ï¼‰ã€‚ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼š 1234567891011121314151617public AProxy implements A &#123; private A a; public AProxy(A a) &#123; this.a = a; &#125; public void a() &#123; if (getCurrentUser().isRoot()) &#123; this.a.a(); &#125; else &#123; throw new SecurityException(\"Forbidden\"); &#125; &#125;&#125; ä»£ç†ç±»ä¾¿èƒ½å®ç°æƒé™çš„é‰´å®šã€‚ ä½¿ç”¨Proxyæ¨¡å¼è¦æ±‚è°ƒç”¨æ–¹æŒæœ‰æ¥å£ï¼Œä½œä¸ºProxyçš„ç±»ä¹Ÿå¿…é¡»å®ç°ç›¸åŒçš„æ¥å£ç±»å‹ã€‚ è¡Œä¸ºå‹æ¨¡å¼è´£ä»»é“¾æ¨¡å¼ Chain of responsibilityè´£ä»»é“¾æ¨¡å¼ è´£ä»»é“¾æ¨¡å¼ï¼ˆChain of Responsibilityï¼‰æ˜¯ä¸€ç§å¤„ç†è¯·æ±‚çš„æ¨¡å¼ï¼Œå®ƒè®©å¤šä¸ªå¯¹è±¡éƒ½æœ‰æœºä¼šå¤„ç†è¯¥è¯·æ±‚ï¼Œç›´åˆ°å…¶ä¸­æŸä¸ªå¤„ç†æˆåŠŸä¸ºæ­¢ã€‚è´£ä»»é“¾æ¨¡å¼æŠŠå¤šä¸ªå¯¹è±¡ä¸²æˆé“¾ï¼Œç„¶åè®©è¯·æ±‚åœ¨é“¾ä¸Šä¼ é€’ï¼š 1234567891011121314151617181920212223 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ Request â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚â”Œ â”€ â”€ â”€ â”€ â”¼ â”€ â”€ â”€ â”€ â” â–¼â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ ProcessorA â”‚â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚â”‚ â–¼ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚ ProcessorB â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚ â”‚ â–¼â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ ProcessorC â”‚â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚â”” â”€ â”€ â”€ â”€ â”¼ â”€ â”€ â”€ â”€ â”˜ â”‚ â–¼ Aã€Bã€Cçš„å¤„ç†èƒ½åŠ›ä¾æ¬¡å¢å¼ºï¼Œè´Ÿè´£çš„è´£ä»»èŒƒå›´ä¾æ¬¡æ‰©å¤§ã€‚ ç¤ºä¾‹ï¼š æ–°å»ºä¸€ä¸ªç¨‹åºå‘˜æŠ½è±¡ç±»ï¼š 123456789public abstract class Programmer &#123; protected Programmer next; public void setNext(Programmer next) &#123; this.next = next; &#125; abstract void handle(Bug bug);&#125; åœ¨è¿™ä¸ªæŠ½è±¡ç±»ä¸­ï¼š next å¯¹è±¡è¡¨ç¤ºå¦‚æœè‡ªå·±è§£å†³ä¸äº†ï¼Œéœ€è¦å°†è´£ä»»ä¼ é€’ç»™çš„ä¸‹ä¸€ä¸ªäººï¼› handle æ–¹æ³•è¡¨ç¤ºè‡ªå·±å¤„ç†æ­¤ bug çš„é€»è¾‘ï¼Œåœ¨è¿™é‡Œåˆ¤æ–­æ˜¯è‡ªå·±è§£å†³æˆ–è€…ç»§ç»­ä¼ é€’ã€‚ æ–°å»ºèœé¸Ÿç¨‹åºå‘˜ç±»ï¼š 123456789101112131415public class NewbieProgrammer extends Programmer &#123; @Override public void handle(Bug bug) &#123; if (bug.value &gt; 0 &amp;&amp; bug.value &lt;= 20) &#123; solve(bug); &#125; else if (next != null) &#123; next.handle(bug); &#125; &#125; private void solve(Bug bug) &#123; System.out.println(\"èœé¸Ÿç¨‹åºå‘˜è§£å†³äº†ä¸€ä¸ªéš¾åº¦ä¸º \" + bug.value + \" çš„ bug\"); &#125;&#125; æ–°å»ºæ™®é€šç¨‹åºå‘˜ç±»ï¼š 123456789101112131415public class NormalProgrammer extends Programmer &#123; @Override public void handle(Bug bug) &#123; if (bug.value &gt; 20 &amp;&amp; bug.value &lt;= 50) &#123; solve(bug); &#125; else if (next != null) &#123; next.handle(bug); &#125; &#125; private void solve(Bug bug) &#123; System.out.println(\"æ™®é€šç¨‹åºå‘˜è§£å†³äº†ä¸€ä¸ªéš¾åº¦ä¸º \" + bug.value + \" çš„ bug\"); &#125;&#125; æ–°å»ºä¼˜ç§€ç¨‹åºå‘˜ç±»ï¼š 123456789101112131415public class GoodProgrammer extends Programmer &#123; @Override public void handle(Bug bug) &#123; if (bug.value &gt; 50 &amp;&amp; bug.value &lt;= 100) &#123; solve(bug); &#125; else if (next != null) &#123; next.handle(bug); &#125; &#125; private void solve(Bug bug) &#123; System.out.println(\"ä¼˜ç§€ç¨‹åºå‘˜è§£å†³äº†ä¸€ä¸ªéš¾åº¦ä¸º \" + bug.value + \" çš„ bug\"); &#125;&#125; å®¢æˆ·ç«¯æµ‹è¯•ï¼š 1234567891011121314151617181920212223import org.junit.Test;public class Client4 &#123; @Test public void test() &#123; NewbieProgrammer newbie = new NewbieProgrammer(); NormalProgrammer normal = new NormalProgrammer(); GoodProgrammer good = new GoodProgrammer(); Bug easy = new Bug(20); Bug middle = new Bug(50); Bug hard = new Bug(100); // ç»„æˆè´£ä»»é“¾ newbie.setNext(normal); normal.setNext(good); // ä»èœé¸Ÿç¨‹åºå‘˜å¼€å§‹ï¼Œæ²¿ç€è´£ä»»é“¾ä¼ é€’ newbie.handle(easy); newbie.handle(middle); newbie.handle(hard); &#125;&#125; è´£ä»»é“¾çš„å»ºç«‹éœ€è¦å®¢æˆ·ç«¯æ¥ä¿è¯ï¼Œå› æ­¤å®¢æˆ·ç«¯çš„è´£ä»»é“¾å»ºç«‹å®¹æ˜“å‡ºé”™ï¼Œå¯¼è‡´å‡ºç°å¾ªç¯è°ƒç”¨ã€‚ å‘½ä»¤æ¨¡å¼ Commandå‘½ä»¤æ¨¡å¼æŒ‡çš„æ˜¯å°†è¯·æ±‚å°è£…ä¸ºå‘½ä»¤ã€‚ç¤ºä¾‹ï¼š 1234567891011121314151617181920212223242526public class TextEditor &#123; private StringBuilder buffer = new StringBuilder(); public void copy() &#123; ... &#125; public void paste() &#123; String text = getFromClipBoard(); add(text); &#125; public void add(String s) &#123; buffer.append(s); &#125; public void delete() &#123; if (buffer.length() &gt; 0) &#123; buffer.deleteCharAt(buffer.length() - 1); &#125; &#125; public String getState() &#123; return buffer.toString(); &#125;&#125; ä»¥ä¸Šæ¨¡æ‹Ÿäº†ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨çš„æ“ä½œï¼Œå®¢æˆ·ç«¯ç›´æ¥è°ƒç”¨ç±»æ¥å£æä¾›çš„ä»£ç å¦‚ä¸‹ï¼š 12345TextEditor editor = new TextEditor();editor.add(\"Command pattern in text editor.\\n\");editor.copy();editor.paste();System.out.println(editor.getState()); è°ƒç”¨æ–¹éœ€è¦äº†è§£TextEditorçš„æ‰€æœ‰æ¥å£ä¿¡æ¯ã€‚ ä½¿ç”¨å‘½ä»¤æ¨¡å¼åˆ™å¯ä»¥å¯¹ä½¿ç”¨çš„æ¥å£è¿›è¡Œå°è£…ï¼Œä»¥å‘½ä»¤ç±»å¯¹è±¡çš„å½¢å¼è¿›è¡Œè°ƒç”¨ã€‚ å¼•å…¥ä¸€ä¸ªCommandæ¥å£ï¼š 123public interface Command &#123; void execute();&#125; ä»ä¸­æ´¾ç”Ÿå…·ä½“çš„å‘½ä»¤ç±»ï¼š 123456789101112131415161718192021222324public class CopyCommand implements Command &#123; // æŒæœ‰æ‰§è¡Œè€…å¯¹è±¡: private TextEditor receiver; public CopyCommand(TextEditor receiver) &#123; this.receiver = receiver; &#125; public void execute() &#123; receiver.copy(); &#125;&#125;public class PasteCommand implements Command &#123; private TextEditor receiver; public PasteCommand(TextEditor receiver) &#123; this.receiver = receiver; &#125; public void execute() &#123; receiver.paste(); &#125;&#125; å®¢æˆ·ç«¯å¯ä»¥æ”¹å†™ä¸ºï¼š 12345678910TextEditor editor = new TextEditor();editor.add(\"Command pattern in text editor.\\n\");// æ‰§è¡Œä¸€ä¸ªCopyCommand:Command copy = new CopyCommand(editor);copy.execute();editor.add(\"----\\n\");// æ‰§è¡Œä¸€ä¸ªPasteCommand:Command paste = new PasteCommand(editor);paste.execute();System.out.println(editor.getState()); å€˜è‹¥éœ€æ±‚å¾ˆç®€å•ï¼Œåˆ™ä¸éœ€è¦å‘½ä»¤æ¨¡å¼ï¼Œä½†è‹¥éœ€è¦æ”¯æŒUndoã€Redoçš„åŠŸèƒ½æ—¶ï¼Œå°±éœ€è¦ä½¿ç”¨å‘½ä»¤æ¨¡å¼ï¼Œå› ä¸ºå¯ä»¥ç»™æ¯ä¸ªå‘½ä»¤å¢åŠ undo()ï¼Œ 1234public interface Command &#123; void execute(); void undo();&#125; åœ¨å°†ä½¿ç”¨çš„ä¸€ç³»åˆ—å‘½ä»¤å¯¹è±¡ç”¨listä¿å­˜èµ·æ¥ï¼Œå°±å¯ä»¥æ”¯æŒundoï¼Œredoæ“ä½œã€‚ 1234567891011121314151617181920212223â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ Client â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â–¼â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ Invoker â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”Œâ”€â”€â”€â”€â”€â”€â”€â”â”‚List commandsâ”‚â”€ â”€&gt;â”‚Commandâ”‚â”‚invoke(c) â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”˜â”‚undo() â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”œâ”€&gt;â”‚ CopyCommand â”‚ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ â”‚editor.copy() â”‚â”€ â” â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”€&gt;â”‚ TextEditor â”‚ â””â”€&gt;â”‚ PasteCommand â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚editor.paste()â”‚â”€ â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ è§£é‡Šå™¨æ¨¡å¼ Interpreterè§£é‡Šå™¨æ¨¡å¼ç›¸å¯¹æ¯”è¾ƒå¤æ‚ï¼Œæ„Ÿè§‰ä½¿ç”¨ç›¸å¯¹è¾ƒå°‘ï¼Œä¸€èˆ¬éœ€è¦è‡ªå·±è®¾å®šä¸€å¥—æ–‡æ³•è§„åˆ™ï¼Œç„¶åå®ç°å…·ä½“çš„è§£é‡Šå™¨æ¥è§£ææŒ‰ç…§æ–‡æ³•è§„åˆ™æ’åˆ—çš„å­—ç¬¦ä¸²ï¼Œå³è§£é‡Šå™¨æ˜¯ç”¨æ¥è§£å†³ä¸€ç§ç‰¹å®šé—®é¢˜çš„æ¨¡å¼ã€‚ä¾‹å¦‚æ­£åˆ™è¡¨è¾¾å¼ï¼Œéœ€è¦å¯¹åº”çš„æ­£åˆ™å¼•æ“ã€‚ è¿­ä»£å™¨æ¨¡å¼ Iteratorè¿­ä»£å™¨æ¨¡å¼åœ¨Javaçš„Listç­‰ç±»å‹ä»¥åŠC++çš„stlæä¾›çš„æ ‡å‡†å®¹å™¨ä¸­ååˆ†å¸¸è§ï¼Œä¸»è¦ç›®çš„æ˜¯éšè—åº•å±‚å®¹å™¨çš„å…·ä½“å®ç°ç»†èŠ‚ï¼Œå¹¶å‘ä¸Šå±‚æä¾›ä¸€ä¸ªéå†å®¹å™¨çš„æ–¹æ³•ã€‚ ä¸€èˆ¬çš„è¿­ä»£å™¨æ¨¡å¼ä¸ºäº†é™åˆ¶å¤–éƒ¨ç±»å¯¹å®¹å™¨ç±»å…ƒç´ çš„ä¿®æ”¹ï¼Œåªä¼šç»™å‡ºä¸¤ä¸ªæ¥å£ï¼Œnext()å’ŒhasNext()ï¼Œç”¨æ¥è®¿é—®ä¸‹ä¸€ä¸ªå…ƒç´ ä»¥åŠæŸ¥è¯¢æ˜¯å¦æœ‰ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚ C++ä¸­å¯¹äºvectorçš„éå†ï¼š 123456vector&lt;int&gt; nums;// ...for (auto num : nums)&#123; // ...&#125; ä»¥ä¸Šå³å¯éå†vectorå†…éƒ¨çš„æ‰€æœ‰å…ƒç´ ï¼Œå¦‚æœä»¥å¼•ç”¨æ–¹å¼è¿›è¡Œè®¿é—®ï¼Œè¿˜å¯ä»¥å¯¹å†…éƒ¨å…ƒç´ è¿›è¡Œä¿®æ”¹ã€‚ ä¸­ä»‹æ¨¡å¼ Mediatorä¸­ä»‹è€…æ¨¡å¼ ä¸­ä»‹è€…æ¨¡å¼ å¤‡å¿˜å½•æ¨¡å¼ Mementoå¤‡å¿˜å½•æ¨¡å¼ å¤‡å¿˜å½•æ¨¡å¼ å°†å¯¹è±¡æŸä¸ªæ—¶åˆ»çš„çŠ¶æ€ä¿å­˜èµ·æ¥ï¼Œä»¥ä¾¿æŸä¸ªæ—¶åˆ»è¿›è¡Œæ¢å¤ï¼Œè¿™å°±æ˜¯å¤‡å¿˜å½•æ¨¡å¼ã€‚ å¤‡å¿˜å½•æ¨¡å¼ï¼ˆMementoï¼‰ï¼Œä¸»è¦ç”¨äºæ•è·ä¸€ä¸ªå¯¹è±¡çš„å†…éƒ¨çŠ¶æ€ï¼Œä»¥ä¾¿åœ¨å°†æ¥çš„æŸä¸ªæ—¶å€™æ¢å¤æ­¤çŠ¶æ€ã€‚ è§‚å¯Ÿè€…æ¨¡å¼ Observerè§‚å¯Ÿè€…æ¨¡å¼ è§‚å¯Ÿè€…æ¨¡å¼ çŠ¶æ€æ¨¡å¼ State å…è®¸ä¸€ä¸ªå¯¹è±¡åœ¨å…¶å†…éƒ¨çŠ¶æ€æ”¹å˜æ—¶æ”¹å˜å®ƒçš„è¡Œä¸ºã€‚å¯¹è±¡çœ‹èµ·æ¥ä¼¼ä¹ä¿®æ”¹äº†å®ƒçš„ç±»ã€‚ ç­–ç•¥æ¨¡å¼ Strategy ç­–ç•¥æ¨¡å¼ï¼ˆStrategy Patternï¼‰ï¼šå®šä¹‰äº†ä¸€ç³»åˆ—ç®—æ³•ï¼Œå¹¶å°†æ¯ä¸€ä¸ªç®—æ³•å°è£…èµ·æ¥ï¼Œè€Œä¸”ä½¿å®ƒä»¬è¿˜å¯ä»¥ç›¸äº’æ›¿æ¢ã€‚ç­–ç•¥æ¨¡å¼è®©ç®—æ³•ç‹¬ç«‹äºä½¿ç”¨å®ƒçš„å®¢æˆ·è€Œç‹¬ç«‹å˜åŒ–ã€‚ æ¨¡æ¿æ–¹æ³•æ¨¡å¼ Template method å®šä¹‰ä¸€ä¸ªæ“ä½œä¸­çš„ç®—æ³•çš„éª¨æ¶ï¼Œè€Œå°†ä¸€äº›æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»ä¸­ï¼Œä½¿å¾—å­ç±»å¯ä»¥ä¸æ”¹å˜ä¸€ä¸ªç®—æ³•çš„ç»“æ„å³å¯é‡å®šä¹‰è¯¥ç®—æ³•çš„æŸäº›ç‰¹å®šæ­¥éª¤ã€‚ è®¿é—®è€…æ¨¡å¼ Visitorè®¿é—®è€…æ¨¡å¼ è®¿é—®è€…æ¨¡å¼ è®¿é—®è€…æ¨¡å¼çš„æ ¸å¿ƒå°±æ˜¯å°†å¯¹æ•°æ®çš„è®¿é—®ä¸æ•°æ®çš„ç»“æ„è¿›è¡Œè§£è€¦ï¼Œ è®¿é—®è€…æ¨¡å¼ï¼ˆVisitor Patternï¼‰ï¼šè¡¨ç¤ºä¸€ä¸ªä½œç”¨äºæŸå¯¹è±¡ç»“æ„ä¸­çš„å„å…ƒç´ çš„æ“ä½œã€‚å®ƒä½¿ä½ å¯ä»¥åœ¨ä¸æ”¹å˜å„å…ƒç´ çš„ç±»çš„å‰æä¸‹å®šä¹‰ä½œç”¨äºè¿™äº›å…ƒç´ çš„æ–°æ“ä½œã€‚ éœ€è¦æ³¨æ„å•åˆ†æ´¾å’Œå¤šåˆ†æ´¾çš„é—®é¢˜ã€‚ 1234567891011121314151617181920public class Food &#123; public String name() &#123; return \"food\"; &#125;&#125;public class Watermelon extends Food &#123; @Override public String name() &#123; return \"watermelon\"; &#125;&#125;public class Client &#123; @Test public void test() &#123; Food food = new Watermelon(); System.out.println(food.name()); //æ ¹æ®å¤šæ€æ€§è´¨è¾“å‡ºwatermelon &#125;&#125; æ ¹æ®å¤šæ€ï¼Œä»¥ä¸Šä»£ç è¾“å‡ºwatermelonã€‚ 123456789101112131415public class Client &#123; @Test public void test() &#123; Food food = new Watermelon(); eat(food); &#125; public void eat(Food food) &#123; System.out.println(\"eat food\"); &#125; public void eat(Watermelon watermelon) &#123; System.out.println(\"eat watermelon\"); &#125;&#125; ä»¥ä¸Šä»£ç è¾“å‡ºeat food è¿™æ˜¯ç”±äº Java åœ¨è°ƒç”¨é‡è½½æ–¹æ³•æ—¶ï¼Œåªä¼šæ ¹æ®æ–¹æ³•ç­¾åä¸­å£°æ˜çš„å‚æ•°ç±»å‹æ¥åˆ¤æ–­è°ƒç”¨å“ªä¸ªæ–¹æ³•ï¼Œä¸ä¼šå»åˆ¤æ–­å‚æ•°è¿è¡Œæ—¶çš„å…·ä½“ç±»å‹æ˜¯ä»€ä¹ˆã€‚ Java å¯¹é‡å†™æ–¹æ³•å’Œé‡è½½æ–¹æ³•çš„è°ƒç”¨æ–¹å¼æ˜¯ä¸åŒçš„ã€‚ è°ƒç”¨é‡å†™æ–¹æ³•æ—¶ï¼Œä¸å¯¹è±¡çš„è¿è¡Œæ—¶ç±»å‹æœ‰å…³ï¼› è°ƒç”¨é‡è½½æ–¹æ³•æ—¶ï¼Œåªä¸æ–¹æ³•ç­¾åä¸­å£°æ˜çš„å‚æ•°ç±»å‹æœ‰å…³ï¼Œä¸å¯¹è±¡è¿è¡Œæ—¶çš„å…·ä½“ç±»å‹æ— å…³ã€‚ å•åˆ†æ´¾ã€åŒé‡åˆ†æ´¾çš„å®šä¹‰ï¼š æ–¹æ³•çš„æ¥æ”¶è€…å’Œæ–¹æ³•çš„å‚æ•°ç»Ÿç§°ä¸ºæ–¹æ³•çš„å®—é‡ã€‚ æ ¹æ®åˆ†æ´¾åŸºäºå¤šå°‘ä¸ªå®—é‡ï¼Œå¯ä»¥å°†åˆ†æ´¾åˆ†ä¸ºå•åˆ†æ´¾å’Œå¤šåˆ†æ´¾ã€‚å•åˆ†æ´¾æ˜¯æŒ‡æ ¹æ®ä¸€ä¸ªå®—é‡å°±å¯ä»¥çŸ¥é“åº”è¯¥è°ƒç”¨å“ªä¸ªæ–¹æ³•ï¼Œå¤šåˆ†æ´¾æ˜¯æŒ‡éœ€è¦æ ¹æ®å¤šä¸ªå®—é‡æ‰èƒ½ç¡®å®šè°ƒç”¨ç›®æ ‡ã€‚","categories":[],"tags":[{"name":"Java","slug":"Java","permalink":"http://believebest35.github.io/tags/Java/"},{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"http://believebest35.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}]},{"title":"Javaå¤šçº¿ç¨‹åŸºç¡€","slug":"Java-4","date":"2020-11-03T08:23:28.000Z","updated":"2020-11-06T03:28:27.822Z","comments":true,"path":"2020/11/03/Java-4/","link":"","permalink":"http://believebest35.github.io/2020/11/03/Java-4/","excerpt":"è¿›ç¨‹å’Œçº¿ç¨‹ä¸€ä¸ªå…¸å‹ç¤ºä¾‹ï¼š 123456789101112131415 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚Process â”‚ â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚ Thread â”‚â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚Process â”‚â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚Process â”‚ â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚ Thread â”‚â”‚â”‚â”‚ Thread â”‚â”‚â”‚â”‚ Thread â”‚â”‚â”‚Process â”‚â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”‚ Thread â”‚â”‚â”‚â”‚ Thread â”‚â”‚â”‚â”‚ Thread â”‚â”‚â”‚â”‚ Thread â”‚â”‚â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ Operating System â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜","text":"è¿›ç¨‹å’Œçº¿ç¨‹ä¸€ä¸ªå…¸å‹ç¤ºä¾‹ï¼š 123456789101112131415 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚Process â”‚ â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚ Thread â”‚â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚Process â”‚â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚Process â”‚ â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚ Thread â”‚â”‚â”‚â”‚ Thread â”‚â”‚â”‚â”‚ Thread â”‚â”‚â”‚Process â”‚â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”‚ Thread â”‚â”‚â”‚â”‚ Thread â”‚â”‚â”‚â”‚ Thread â”‚â”‚â”‚â”‚ Thread â”‚â”‚â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ Operating System â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ å¤šä¸ªè¿›ç¨‹å¹¶è¡Œï¼Œæ‹¥æœ‰çš„èµ„æºç›¸äº’ç‹¬ç«‹ã€‚è¿›ç¨‹å†…éƒ¨å¤šä¸ªçº¿ç¨‹å¹¶è¡Œï¼Œå…±äº«è¿›ç¨‹æ‰€æ‹¥æœ‰çš„èµ„æºã€‚ Javaæä¾›å¤šçº¿ç¨‹æ”¯æŒå¤šä»»åŠ¡ã€‚ åˆ›å»ºæ–°çº¿ç¨‹Javaç¨‹åºå¯åŠ¨åï¼ŒJVMä»ä¸»çº¿ç¨‹æ‰§è¡Œmain()æ–¹æ³•ï¼Œmain()æ–¹æ³•æ‰§è¡Œä¸­åˆå¯ä»¥å¯åŠ¨æ–°çš„çº¿ç¨‹ã€‚ä¸»è¦æœ‰ä¸¤ç§æ–¹å¼ ç»§æ‰¿Threadç»§æ‰¿Threadç±»ï¼Œå¹¶è¦†å†™run()æ–¹æ³•ã€‚ 1234567891011121314151617public class Main&#123; public static void main(String[] args) &#123; Thread t = new MyThread(); t.start(); // å¯åŠ¨æ–°çº¿ç¨‹ &#125;&#125;class MyThread extends Thread&#123; @Override public void run() &#123; System.out.println(\"start new thread!\"); &#125;&#125; æ³¨æ„éœ€è¦é€šè¿‡è°ƒç”¨start()æ¥å¯åŠ¨æ–°çº¿ç¨‹ï¼Œå¦‚æœé€šè¿‡run()ï¼Œåˆ™æ˜¯å‡½æ•°è°ƒç”¨ï¼Œä¾æ—§åªæœ‰ä¸€ä¸ªçº¿ç¨‹ã€‚ ä¼ å…¥Runnableå®ä¾‹åˆ›å»ºThreadå®ä¾‹æ—¶ï¼Œä¼ å…¥ä¸€ä¸ªRunnableå®ä¾‹ 1234567891011121314151617public class Main&#123; public static void main(String[] args) &#123; Thread t = new Thread(new MyRunnable()); t.start(); // å¯åŠ¨æ–°çº¿ç¨‹ &#125;&#125;class MyRunnable implements Runnable&#123; @Override public void run() &#123; System.out.println(\"start new thread!\"); &#125;&#125; è®¾å®šçº¿ç¨‹ä¼˜å…ˆçº§ 1Thread.setPriority(int n) // 1~10, é»˜è®¤å€¼5 å½“å‰çº¿ç¨‹æš‚åœ 1Thread.sleep(20); // å½“å‰çº¿ç¨‹æš‚åœ20ms çº¿ç¨‹çŠ¶æ€123456789101112131415161718 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ New â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â–¼â”Œ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚ Runnable â”‚ â”‚ Blocked â”‚â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚ Waiting â”‚ â”‚Timed Waitingâ”‚â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”‚ â–¼ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ Terminated â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Newï¼šæ–°åˆ›å»ºçš„çº¿ç¨‹ï¼Œå°šæœªæ‰§è¡Œï¼› Runnableï¼šè¿è¡Œä¸­çš„çº¿ç¨‹ï¼Œæ­£åœ¨æ‰§è¡Œrun()æ–¹æ³•çš„Javaä»£ç ï¼› Blockedï¼šè¿è¡Œä¸­çš„çº¿ç¨‹ï¼Œå› ä¸ºæŸäº›æ“ä½œè¢«é˜»å¡è€ŒæŒ‚èµ·ï¼› Waitingï¼šè¿è¡Œä¸­çš„çº¿ç¨‹ï¼Œå› ä¸ºæŸäº›æ“ä½œåœ¨ç­‰å¾…ä¸­ï¼› Timed Waitingï¼šè¿è¡Œä¸­çš„çº¿ç¨‹ï¼Œå› ä¸ºæ‰§è¡Œsleep()æ–¹æ³•æ­£åœ¨è®¡æ—¶ç­‰å¾…ï¼› Terminatedï¼šçº¿ç¨‹å·²ç»ˆæ­¢ï¼Œå› ä¸ºrun()æ–¹æ³•æ‰§è¡Œå®Œæ¯•ã€‚ ä½¿ç”¨join()æ–¹æ³•å¯ä»¥ä½¿ä¸€ä¸ªè¿›ç¨‹ç­‰å¾…å¦ä¸€ä¸ªè¿›ç¨‹ç»“æŸã€‚ 123456789101112131415161718192021public class Main&#123; public static void main(String[] args) throws InterruptedException &#123; System.out.println(\"Main thread begin !!!\"); Thread t = new Thread(new MyRunnable()); t.start(); t.join(); // ç­‰å¾…tçº¿ç¨‹çš„ç»“æŸ System.out.println(\"Main thread end !!!\"); &#125;&#125;class MyRunnable implements Runnable&#123; @Override public void run() &#123; System.out.println(\"Sub thread begin !!!\"); System.out.println(\"Sub thread end !!!\"); &#125;&#125; è¾“å‡º 1234Main thread begin !!!Sub thread begin !!!Sub thread end !!!Main thread end !!! å¦‚æœtçº¿ç¨‹å·²ç»ç»“æŸï¼Œå¯¹å®ä¾‹tè°ƒç”¨join()ä¼šç«‹åˆ»è¿”å›ã€‚æ­¤å¤–ï¼Œjoin(long)çš„é‡è½½æ–¹æ³•ä¹Ÿå¯ä»¥æŒ‡å®šä¸€ä¸ªç­‰å¾…æ—¶é—´ï¼Œè¶…è¿‡ç­‰å¾…æ—¶é—´åå°±ä¸å†ç»§ç»­ç­‰å¾…ã€‚ ä¸­æ–­çº¿ç¨‹åœ¨å¦ä¸€ä¸ªçº¿ç¨‹ä¸­å¯¹ç›®æ ‡è¿›ç¨‹è°ƒç”¨interrupt()æ–¹æ³•ï¼Œç›®æ ‡çº¿ç¨‹æ£€æµ‹è‡ªèº«çŠ¶æ€æ˜¯å¦æ˜¯interruptedçŠ¶æ€ï¼Œå¦‚æœæ˜¯ï¼Œå°±ç«‹åˆ»ç»“æŸè¿è¡Œã€‚ 1234567891011121314151617181920public class Main &#123; public static void main(String[] args) throws InterruptedException &#123; Thread t = new MyThread(); t.start(); Thread.sleep(1); // æš‚åœ1æ¯«ç§’ t.interrupt(); // ä¸­æ–­tçº¿ç¨‹ t.join(); // ç­‰å¾…tçº¿ç¨‹ç»“æŸ System.out.println(\"end\"); &#125;&#125;class MyThread extends Thread &#123; public void run() &#123; int n = 0; while (!isInterrupted()) &#123; n++; System.out.println(n + \" hello!\"); &#125; &#125;&#125; main()çº¿ç¨‹ä¸­çš„interrupt()æ–¹æ³•åªæ˜¯å‘ç›®æ ‡çº¿ç¨‹å‘å‡ºä¸­æ­¢è¿è¡Œçš„è¯·æ±‚ï¼Œç›®æ ‡çº¿ç¨‹çš„åœæ­¢éœ€è¦ç›®æ ‡çº¿ç¨‹ä»£ç è‡ªèº«å†³å®šã€‚ å‡è®¾çº¿ç¨‹aæ‰§è¡Œäº†join()æ–¹æ³•ï¼Œè‡ªèº«é™·å…¥ç­‰å¾…ï¼Œæœ‰çº¿ç¨‹bå¯¹çº¿ç¨‹aè°ƒç”¨interrupt()ï¼Œåˆ™join()æ–¹æ³•ä¼šç«‹åˆ»æŠ›å‡ºInterruptedExceptionã€‚çº¿ç¨‹åªè¦æ•è·åˆ°join()æ–¹æ³•æŠ›å‡ºçš„InterruptedExceptionï¼Œå°±è¯´æ˜æœ‰å…¶ä»–çº¿ç¨‹å¯¹å…¶è°ƒç”¨äº†interrupt()æ–¹æ³•ï¼Œé€šå¸¸æƒ…å†µä¸‹è¯¥çº¿ç¨‹åº”è¯¥ç«‹åˆ»ç»“æŸè¿è¡Œã€‚ å¦ä¸€ä¸ªå¸¸ç”¨çš„ä¸­æ–­çº¿ç¨‹çš„æ–¹æ³•æ˜¯è®¾ç½®æ ‡å¿—ä½ã€‚ç”¨ä¸€ä¸ªrunningæ ‡å¿—ä½æ¥æ ‡è¯†çº¿ç¨‹æ˜¯å¦åº”è¯¥ç»§ç»­è¿è¡Œï¼Œåœ¨å¤–éƒ¨çº¿ç¨‹ä¸­ï¼Œé€šè¿‡æŠŠrunningæ ‡å¿—ä½è®¾ç½®ä¸ºfalseï¼Œå°±å¯ä»¥è®©çº¿ç¨‹ç»“æŸã€‚ 1234567891011121314151617181920public class Main &#123; public static void main(String[] args) throws InterruptedException &#123; HelloThread t = new HelloThread(); t.start(); Thread.sleep(1); t.running = false; // æ ‡å¿—ä½ç½®ä¸ºfalse &#125;&#125;class HelloThread extends Thread &#123; public volatile boolean running = true; public void run() &#123; int n = 0; while (running) &#123; n++; System.out.println(n + \" hello!\"); &#125; System.out.println(\"end!\"); &#125;&#125; boolean runningæ˜¯ä¸€ä¸ªçº¿ç¨‹é—´å…±äº«çš„å˜é‡ã€‚çº¿ç¨‹é—´å…±äº«å˜é‡éœ€è¦ä½¿ç”¨volatileå…³é”®å­—æ ‡è®°ï¼Œç¡®ä¿æ¯ä¸ªçº¿ç¨‹éƒ½èƒ½è¯»å–åˆ°æ›´æ–°åçš„å˜é‡å€¼ã€‚ å®ˆæŠ¤è¿›ç¨‹è§åŸæ–‡ åŸæ–‡æ•™ç¨‹å…³äºå®ˆæŠ¤è¿›ç¨‹çš„è®²è§£ä¹Ÿä¸ç»†è‡´ï¼Œä»¥åéœ€è¦å†å­¦ä¹ ã€‚ çº¿ç¨‹åŒæ­¥ç»å…¸æ —å­ï¼ˆè¯»è€…ä¸å†™è€…é—®é¢˜ï¼‰ï¼Œè‹¥æœ‰å¤šä¸ªçº¿ç¨‹åŒæ—¶è¯»å†™ä¸€ä¸ªå˜é‡ï¼Œä¼šé€ æˆæ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ï¼Œå› æ­¤æ¶‰åŠåˆ°æ•°æ®å…±äº«çš„é—®é¢˜ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940public class Main &#123; public static void main(String[] args) throws Exception &#123; Thread add = new AddThread(); Thread dec = new DecThread(); add.start(); dec.start(); add.join(); dec.join(); System.out.println(Counter.count); &#125;&#125;class Counter &#123; public static int count = 0;&#125;class AddThread extends Thread &#123; public void run() &#123; for (int i = 0; i &lt; 10000; i++) &#123; Counter.count += 1; &#125; &#125;&#125;class DecThread extends Thread &#123; public void run() &#123; for (int i = 0; i &lt; 10000; i++) &#123; Counter.count -= 1; &#125; &#125;&#125; å¦‚ä¸Šaddçº¿ç¨‹å¯¹é™æ€å˜é‡Counter.countè¿›è¡Œ10000æ¬¡è‡ªå¢æ“ä½œï¼Œè€Œdecçº¿ç¨‹å¯¹å…¶è¿›è¡Œ10000æ¬¡è‡ªå‡æ“ä½œï¼Œç†è®ºä¸Šæœ€å`Counter.countçš„ç»“æœåº”è¯¥ä¸º0ï¼Œä½†æ˜¯ç”±äºçº¿ç¨‹å›å†™çš„é€Ÿåº¦ä¸ä¸€è‡´ï¼Œæ¯æ¬¡è¿è¡Œçš„ç»“æœå‡ä¸ä¸€è‡´ã€‚ é€šè¿‡é”ğŸ”’æœºåˆ¶æ¥è§£å†³ä¸´ç•ŒåŒºèµ„æºçš„è¯»å†™é—®é¢˜ã€‚ æœªåŠ é”ï¼š 1234567891011â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”â”‚Thread1â”‚ â”‚Thread2â”‚â””â”€â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”˜ â”‚ â”‚ â”‚ILOAD (100) â”‚ â”‚ â”‚ILOAD (100) â”‚ â”‚IADD â”‚ â”‚ISTORE (101) â”‚IADD â”‚ â”‚ISTORE (101)â”‚ â–¼ â–¼ åŠ äº†é”ï¼š 123456789101112131415â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”â”‚Thread1â”‚ â”‚Thread2â”‚â””â”€â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”˜ â”‚ â”‚ â”‚-- lock -- â”‚ â”‚ILOAD (100) â”‚ â”‚IADD â”‚ â”‚ISTORE (101) â”‚ â”‚-- unlock -- â”‚ â”‚ â”‚-- lock -- â”‚ â”‚ILOAD (101) â”‚ â”‚IADD â”‚ â”‚ISTORE (102) â”‚ â”‚-- unlock -- â–¼ â–¼ ä½¿ç”¨å…³é”®å­—synchronizedä¿®æ”¹åŸæ¥çš„ä»£ç å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344public class Main &#123; public static void main(String[] args) throws Exception &#123; Thread add = new AddThread(); Thread dec = new DecThread(); dec.start(); add.start(); dec.join(); add.join(); System.out.println(Counter.count); &#125;&#125;class Counter &#123; public static final Object lock = new Object(); // é”å¯¹è±¡ï¼Ÿ public static int count = 0;&#125;class AddThread extends Thread &#123; public void run() &#123; for (int i=0; i&lt;10000; i++) &#123; synchronized(Counter.lock) &#123; Counter.count += 1; &#125; &#125; &#125;&#125;class DecThread extends Thread &#123; public void run() &#123; for (int i=0; i&lt;10000; i++) &#123; synchronized(Counter.lock) &#123; Counter.count -= 1; &#125; &#125; &#125;&#125; ç¨‹åºè¿›å…¥è¢«synchronizedåŒ…å«çš„ä»£ç å—æ—¶ï¼Œä¼šè‡ªåŠ¨è¯·æ±‚è·å¾—é”ï¼Œé€€å‡ºä»£ç å—æ—¶ä¼šè‡ªåŠ¨é‡Šæ”¾é”ã€‚ 123synchronized(Counter.lock) &#123; // è·å–é” ...&#125; // é‡Šæ”¾é” å…³äºsynchronizedï¼š æ‰¾å‡ºä¿®æ”¹å…±äº«å˜é‡çš„çº¿ç¨‹ä»£ç å—ï¼› é€‰æ‹©ä¸€ä¸ªå…±äº«å®ä¾‹ä½œä¸ºé”ï¼› ä½¿ç”¨synchronized(lockObject) { ... }ã€‚ ä¸€äº›åŸå­æ“ä½œä¸éœ€è¦åŠ é”ï¼š åŸºæœ¬ç±»å‹ï¼ˆlongå’Œdoubleé™¤å¤–ï¼‰èµ‹å€¼ï¼Œä¾‹å¦‚ï¼šint n = mï¼› å¼•ç”¨ç±»å‹èµ‹å€¼ï¼Œä¾‹å¦‚ï¼šList&lt;String&gt; list = anotherListã€‚ ä½†æ˜¯ï¼Œå¦‚æœæ˜¯å¤šè¡Œèµ‹å€¼è¯­å¥ï¼Œå°±å¿…é¡»ä¿è¯æ˜¯åŒæ­¥æ“ä½œã€‚ åŒæ­¥æ–¹æ³•synchronizedé€»è¾‘å¯ä»¥è¿›è¡Œå°è£…ã€‚ 12345678910111213141516171819public class Counter &#123; private int count = 0; public void add(int n) &#123; synchronized(this) &#123; count += n; &#125; &#125; public void dec(int n) &#123; synchronized(this) &#123; count -= n; &#125; &#125; public int get() &#123; return count; &#125;&#125; è¿™æ ·å½“å…¶ä»–çº¿ç¨‹è°ƒç”¨add(), dec()æ–¹æ³•æ—¶ï¼Œä¸å¿…å…³å¿ƒåŒæ­¥ç­–ç•¥ã€‚ ä»¥ä¸Šçš„ç±»è®¾è®¡è¯´æ˜è¯¥ç±»æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚ ä¸‹é¢ä¸¤ç§å†™æ³•æ˜¯ç­‰ä»·çš„ï¼š 123456789public void add(int n) &#123; synchronized(this) &#123; // é”ä½this count += n; &#125; // è§£é”&#125;public synchronized void add(int n) &#123; // é”ä½this count += n;&#125; // è§£é” ç”¨synchronizedä¿®é¥°çš„æ–¹æ³•å°±æ˜¯åŒæ­¥æ–¹æ³•ï¼Œå®ƒè¡¨ç¤ºæ•´ä¸ªæ–¹æ³•éƒ½å¿…é¡»ç”¨thiså®ä¾‹åŠ é”ã€‚ å¯é‡å…¥é” Javaä¸­çš„çº¿ç¨‹é”æ˜¯å¯é‡å…¥é”ï¼Œå³JVMå…è®¸åŒä¸€ä¸ªçº¿ç¨‹å¤šæ¬¡è·å–åŒä¸€ä¸ªé”ã€‚ æ­»é”æ•°æ®åº“ã€æ“ä½œç³»ç»Ÿè¯¾ç¨‹ä¸­å¸¸è§æ­»é”ã€‚ è‹¥ä¸¤ä¸ªä»»åŠ¡äº’ç›¸æŒæœ‰å¯¹æ–¹æ‰€è¯·æ±‚çš„èµ„æºä½†ä¸ä¸»åŠ¨é‡Šæ”¾ï¼Œä¾¿ä¼šå½¢æˆæ­»é”ã€‚ 1234567891011121314151617public void add(int m) &#123; synchronized(lockA) &#123; // è·å¾—lockAçš„é” this.value += m; synchronized(lockB) &#123; // è·å¾—lockBçš„é” this.another += m; &#125; // é‡Šæ”¾lockBçš„é” &#125; // é‡Šæ”¾lockAçš„é”&#125;public void dec(int m) &#123; synchronized(lockB) &#123; // è·å¾—lockBçš„é” this.another -= m; synchronized(lockA) &#123; // è·å¾—lockAçš„é” this.value -= m; &#125; // é‡Šæ”¾lockAçš„é” &#125; // é‡Šæ”¾lockBçš„é”&#125; ä»¥ä¸Šå¯èƒ½å½¢æˆæ­»é”ã€‚ wait å’Œ notifyä»¥ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…é—®é¢˜ä¸ºä¾‹ï¼š æœ‰é—®é¢˜çš„ä»£ç ï¼š 12345678910111213class TaskQueue &#123; Queue&lt;String&gt; queue = new LinkedList&lt;&gt;(); public synchronized void addTask(String s) &#123; this.queue.add(s); &#125; public synchronized String getTask() &#123; while (queue.isEmpty()) &#123; &#125; return queue.remove(); &#125;&#125; é—®é¢˜åœ¨äºå½“é˜Ÿåˆ—ä¸ºç©ºæ—¶ï¼ŒgetTaskçº¿ç¨‹æ°¸è¿œä¸ä¼šé‡Šæ”¾è·å–åœ¨å½“å‰å¯¹è±¡ä¸Šçš„é”ï¼ŒassTaskçº¿ç¨‹æ°¸è¿œæ— æ³•è°ƒç”¨ã€‚ ä¿®æ”¹å¦‚ä¸‹ï¼š 1234567891011121314public synchronized String getTask() &#123; // æ³¨æ„å¿…é¡»åœ¨while()å¾ªç¯ä¸­è°ƒç”¨wait() while (queue.isEmpty()) &#123; // é‡Šæ”¾thisé”: this.wait(); // é‡æ–°è·å–thisé” &#125; return queue.remove();&#125;public synchronized void addTask(String s) &#123; this.queue.add(s); this.notify(); // å”¤é†’åœ¨thisé”ç­‰å¾…çš„çº¿ç¨‹&#125; notifyAll() å’Œ notify()ä½¿ç”¨notifyAll()å°†å”¤é†’æ‰€æœ‰å½“å‰æ­£åœ¨thisé”ç­‰å¾…çš„çº¿ç¨‹ï¼Œè€Œnotify()åªä¼šå”¤é†’å…¶ä¸­ä¸€ä¸ªï¼ˆéšæœºï¼‰ï¼Œé€šå¸¸æ¥è¯´ï¼ŒnotifyAll()æ›´å®‰å…¨ã€‚","categories":[],"tags":[{"name":"Java","slug":"Java","permalink":"http://believebest35.github.io/tags/Java/"},{"name":"å¤šçº¿ç¨‹","slug":"å¤šçº¿ç¨‹","permalink":"http://believebest35.github.io/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"}]},{"title":"Javaæ ¸å¿ƒç±»","slug":"Java-3","date":"2020-10-28T02:21:42.000Z","updated":"2020-10-28T09:06:39.116Z","comments":true,"path":"2020/10/28/Java-3/","link":"","permalink":"http://believebest35.github.io/2020/10/28/Java-3/","excerpt":"StringStringæ˜¯ä¸€ç§å¼•ç”¨ç±»å‹ï¼Œä¹Ÿæ˜¯ååˆ†é‡è¦çš„ç±»ï¼Œç”±äºStringç»å¸¸ä½¿ç”¨ï¼Œå› æ­¤Javaå…è®¸ä»¥å­—é¢é‡çš„å½¢å¼æ¥è¡¨ç¤ºStringã€‚","text":"StringStringæ˜¯ä¸€ç§å¼•ç”¨ç±»å‹ï¼Œä¹Ÿæ˜¯ååˆ†é‡è¦çš„ç±»ï¼Œç”±äºStringç»å¸¸ä½¿ç”¨ï¼Œå› æ­¤Javaå…è®¸ä»¥å­—é¢é‡çš„å½¢å¼æ¥è¡¨ç¤ºStringã€‚ 12String s1 = \"Hello!\";String s2 = new String(new char[] &#123;'H', 'e', 'l', 'l', 'o', '!'&#125;); Javaå†…éƒ¨å°†Stringè¡¨ç¤ºä¸ºä¸€ä¸ªcharå‹æ•°ç»„ã€‚ å­—ç¬¦ä¸²æ¯”è¾ƒStringä¸ºå¼•ç”¨ç±»å‹ï¼Œå…³äºå­—ç¬¦ä¸²å†…å®¹çš„æ¯”è¾ƒéœ€è¦ä½¿ç”¨equals()æ–¹æ³•ã€‚ 12345678public class Main &#123; public static void main(String[] args) &#123; String s1 = \"hello\"; String s2 = \"HELLO\".toLowerCase(); System.out.println(s1 == s2); System.out.println(s1.equals(s2)); &#125;&#125; ç¬¬ä¸€ä¸ªè¾“å‡ºfalseï¼ˆå®é™…åœ¨æ¯”è¾ƒæ‰€å¼•ç”¨å†…å®¹çš„åœ°å€ï¼‰ï¼Œç¬¬äºŒä¸ªè¾“å‡ºtrueï¼ˆæ¯”è¾ƒå¼•ç”¨å¯¹è±¡å®é™…çš„å†…å®¹ï¼‰ã€‚ ä¸€äº›å¸¸ç”¨çš„æ–¹æ³•1234567891011121314151617181920212223242526272829303132333435363738// æ˜¯å¦åŒ…å«å­ä¸²:\"Hello\".contains(\"ll\"); // true\"Hello\".indexOf(\"l\"); // 2\"Hello\".lastIndexOf(\"l\"); // 3\"Hello\".startsWith(\"He\"); // true\"Hello\".endsWith(\"lo\"); // true// å­—ä¸²\"Hello\".substring(2); // \"llo\"\"Hello\".substring(2, 4); // \"ll\" ç¬¬äºŒä¸ªå‚æ•°æŒ‡çš„æ˜¯ç»“æŸå­—ç¬¦ï¼ˆä¸åŒ…å«ï¼‰çš„ç´¢å¼•ï¼Œéœ€è¦ä¸C++ä¸­stringçš„substr()ç›¸åŒºåˆ†// å»ç©ºæ ¼\" \\tHello\\r\\n \".trim(); // \"Hello\" ç§»é™¤å­—ç¬¦ä¸²é¦–å°¾ç©ºç™½å­—ç¬¦ã€‚ç©ºç™½å­—ç¬¦åŒ…æ‹¬ç©ºæ ¼ï¼Œ\\tï¼Œ\\rï¼Œ\\n\"\\u3000Hello\\u3000\".strip(); // \"Hello\" strip()æ–¹æ³•ä¹Ÿå¯ä»¥ç§»é™¤å­—ç¬¦ä¸²é¦–å°¾ç©ºç™½å­—ç¬¦ï¼Œä½†ç±»ä¼¼ä¸­æ–‡çš„ç©ºæ ¼å­—ç¬¦\\u3000ä¹Ÿä¼šè¢«ç§»é™¤// åˆ¤ç©º æ˜¯å¦æœ‰ç©ºç™½å­—ç¬¦\"\".isEmpty(); // trueï¼Œå› ä¸ºå­—ç¬¦ä¸²é•¿åº¦ä¸º0\" \".isEmpty(); // falseï¼Œå› ä¸ºå­—ç¬¦ä¸²é•¿åº¦ä¸ä¸º0\" \\n\".isBlank(); // trueï¼Œå› ä¸ºåªåŒ…å«ç©ºç™½å­—ç¬¦\" Hello \".isBlank(); // falseï¼Œå› ä¸ºåŒ…å«éç©ºç™½å­—ç¬¦// å­—ç¬¦ä¸²æ›¿æ¢String s = \"hello\";s.replace('l', 'w'); // \"hewwo\"ï¼Œæ‰€æœ‰å­—ç¬¦'l'è¢«æ›¿æ¢ä¸º'w's.replace(\"ll\", \"~~\"); // \"he~~o\"ï¼Œæ‰€æœ‰å­ä¸²\"ll\"è¢«æ›¿æ¢ä¸º\"~~\"// æ­£åˆ™è¡¨è¾¾å¼æ›¿æ¢String s = \"A,,B;C ,D\";s.replaceAll(\"[\\\\,\\\\;\\\\s]+\", \",\"); // \"A,B,C,D\"// åˆ†å‰²å­—ç¬¦ä¸²String s = \"A,B,C,D\";String[] ss = s.split(\"\\\\,\"); // &#123;\"A\", \"B\", \"C\", \"D\"&#125;// æ‹¼æ¥å­—ç¬¦ä¸² é™æ€æ–¹æ³•String[] arr = &#123;\"A\", \"B\", \"C\"&#125;;String s = String.join(\"***\", arr); // \"A***B***C\" æ ¼å¼åŒ–å­—ç¬¦ä¸² 12345678910public class Main &#123; public static void main(String[] args) &#123; String s = \"Hi %s, your score is %d!\"; System.out.println(s.formatted(\"Alice\", 80)); System.out.println(String.format(\"Hi %s, your score is %.2f!\", \"Bob\", 59.5)); &#125;&#125;// Hi Alice, your score is 80!// Hi Bob, your score is 59.50! å¸¸ç”¨çš„å ä½ç¬¦æœ‰ï¼š %sï¼šæ˜¾ç¤ºå­—ç¬¦ä¸²ï¼› %dï¼šæ˜¾ç¤ºæ•´æ•°ï¼› %xï¼šæ˜¾ç¤ºåå…­è¿›åˆ¶æ•´æ•°ï¼› %fï¼šæ˜¾ç¤ºæµ®ç‚¹æ•°ã€‚ ç±»å‹è½¬æ¢ 12345678910111213141516String.valueOf(123); // \"123\"String.valueOf(45.67); // \"45.67\"String.valueOf(true); // \"true\"String.valueOf(new Object()); // ç±»ä¼¼java.lang.Object@636be97c// å­—ç¬¦ä¸²è½¬æ¢ä¸ºintç±»å‹int n1 = Integer.parseInt(\"123\"); // 123int n2 = Integer.parseInt(\"ff\", 16); // æŒ‰åå…­è¿›åˆ¶è½¬æ¢ï¼Œ255// å­—ç¬¦ä¸²è½¬æ¢ä¸ºbooleanç±»å‹boolean b1 = Boolean.parseBoolean(\"true\"); // trueboolean b2 = Boolean.parseBoolean(\"FALSE\"); // false// Stringå’Œchar[]char[] cs = \"Hello\".toCharArray(); // String -&gt; char[]String s = new String(cs); // char[] -&gt; String å­—ç¬¦ç¼–ç link StringBuilderJavaå¯ä»¥ä½¿ç”¨+ç›´æ¥æ‹¼æ¥å­—ç¬¦ä¸²ã€‚ 1234String s = \"\";for (int i = 0; i &lt; 1000; i++) &#123; s = s + \",\" + i;&#125; ä½†ä¸Šè¿°è¿‡ç¨‹ä½¿ç”¨+çš„æ•ˆç‡è¿‡ä½ã€‚ ä¸ºäº†èƒ½é«˜æ•ˆæ‹¼æ¥å­—ç¬¦ä¸²ï¼ŒJavaæ ‡å‡†åº“æä¾›äº†StringBuilderï¼Œå®ƒæ˜¯ä¸€ä¸ªå¯å˜å¯¹è±¡ï¼Œå¯ä»¥é¢„åˆ†é…ç¼“å†²åŒºï¼Œè¿™æ ·ï¼Œå¾€StringBuilderä¸­æ–°å¢å­—ç¬¦æ—¶ï¼Œä¸ä¼šåˆ›å»ºæ–°çš„ä¸´æ—¶å¯¹è±¡ 123456StringBuilder sb = new StringBuilder(1024);for (int i = 0; i &lt; 1000; i++) &#123; sb.append(','); sb.append(i);&#125;String s = sb.toString(); StringJoinerç”¨åˆ†éš”ç¬¦æ‹¼æ¥æ•°ç»„ 123456789101112131415import java.util.StringJoiner;public class Hello&#123; public static void main(String[] args) &#123; String[] names = &#123;\"Bob\", \"Alice\", \"Grace\"&#125;; var sj = new StringJoiner(\", \"); for (String name : names) &#123; sj.add(name); &#125; System.out.println(sj.toString()); &#125;&#125;// Bob, Alice, Grace è¿˜å¯ä»¥æŒ‡å®šå¼€å¤´å’Œç»“å°¾ 123456789101112131415import java.util.StringJoiner;public class Hello&#123; public static void main(String[] args) &#123; String[] names = &#123;\"Bob\", \"Alice\", \"Grace\"&#125;; var sj = new StringJoiner(\", \", \"Hello \", \"!\"); // ä»¥ , ä½œä¸ºåˆ†éš”ç¬¦ï¼Œ Hello ä½œä¸ºå¼€å¤´ï¼Œ ! ä½œä¸ºç»“å°¾ for (String name : names) &#123; sj.add(name); &#125; System.out.println(sj.toString()); &#125;&#125;// Hello Bob, Alice, Grace! String.join() é™æ€æ–¹æ³•ï¼Œä¸éœ€è¦æŒ‡å®šå¼€å¤´å’Œç»“å°¾ã€‚ 12String[] names &#x3D; &#123;&quot;Bob&quot;, &quot;Alice&quot;, &quot;Grace&quot;&#125;;var s &#x3D; String.join(&quot;, &quot;, names); åŒ…è£…ç±»å‹å¯ä»¥æŠŠJavaçš„åŸºæœ¬ç±»å‹åŒ…è£…ä¸ºå¼•ç”¨ç±»å‹ï¼ŒJavaæ ¸å¿ƒåº“ä¸ºæ¯ç§åŸºæœ¬ç±»å‹éƒ½æä¾›äº†å¯¹åº”çš„åŒ…è£…ç±»å‹ï¼š åŸºæœ¬ç±»å‹ å¯¹åº”çš„å¼•ç”¨ç±»å‹ boolean java.lang.Boolean byte java.lang.Byte short java.lang.Short int java.lang.Integer long java.lang.Long float java.lang.Float double java.lang.Double char java.lang.Character 123456789// é€šè¿‡é™æ€æ–¹æ³•valueOf(int)åˆ›å»ºIntegerå®ä¾‹:Integer n1 = Integer.valueOf(i);// é€šè¿‡é™æ€æ–¹æ³•valueOf(String)åˆ›å»ºIntegerå®ä¾‹:Integer n2 = Integer.valueOf(\"100\");// int å’Œ Integer äº’è½¬int i = 100;Integer n = Integer.valueOf(i);int x = n.intValue(); Javaå¯è¿›è¡Œè‡ªåŠ¨è£…/æ‹†ç®±ã€‚ 123// Javaç¼–è¯‘å™¨è‡ªåŠ¨åœ¨intå’ŒIntegerä¹‹é—´è½¬å‹ï¼šInteger n = 100; // ç¼–è¯‘å™¨è‡ªåŠ¨ä½¿ç”¨Integer.valueOf(int)int x = n; // ç¼–è¯‘å™¨è‡ªåŠ¨ä½¿ç”¨Integer.intValue() æ‰€æœ‰çš„åŒ…è£…ç±»å‹éƒ½æ˜¯ä¸å˜ç±»ã€‚ 123public final class Integer &#123; private final int value;&#125; å¯¹äºåŒ…è£…ç±»å‹çš„æ¯”è¾ƒï¼Œéœ€è¦ä½¿ç”¨equals()ã€‚ JavaBeanè‹¥ä¸€ä¸ªclassçš„å®šä¹‰éƒ½ç¬¦åˆè¿™æ ·çš„è§„èŒƒï¼š è‹¥å¹²privateå®ä¾‹å­—æ®µï¼› é€šè¿‡publicæ–¹æ³•æ¥è¯»å†™å®ä¾‹å­—æ®µã€‚ 12345678910public class Person &#123; private String name; private int age; public String getName() &#123; return this.name; &#125; public void setName(String name) &#123; this.name = name; &#125; public int getAge() &#123; return this.age; &#125; public void setAge(int age) &#123; this.age = age; &#125;&#125; è¯»å†™æ–¹æ³•ç¬¦åˆä»¥ä¸‹è¿™ç§å‘½åè§„èŒƒï¼š 1234// è¯»æ–¹æ³•:public Type getXyz()// å†™æ–¹æ³•:public void setXyz(Type value) é‚£ä¹ˆè¿™ç§classè¢«ç§°ä¸ºJavaBeanã€‚ booleanå­—æ®µæ¯”è¾ƒç‰¹æ®Šï¼Œå®ƒçš„è¯»æ–¹æ³•ä¸€èˆ¬å‘½åä¸ºisXyz()ï¼š 1234// è¯»æ–¹æ³•:public boolean isChild()// å†™æ–¹æ³•:public void setChild(boolean value) é€šå¸¸æŠŠä¸€ç»„å¯¹åº”çš„è¯»æ–¹æ³•ï¼ˆgetterï¼‰å’Œå†™æ–¹æ³•ï¼ˆsetterï¼‰ç§°ä¸ºå±æ€§ï¼ˆpropertyï¼‰ã€‚ä¾‹å¦‚ï¼Œnameå±æ€§ï¼š å¯¹åº”çš„è¯»æ–¹æ³•æ˜¯String getName() å¯¹åº”çš„å†™æ–¹æ³•æ˜¯setName(String) åªæœ‰getterçš„å±æ€§ç§°ä¸ºåªè¯»å±æ€§ï¼ˆread-onlyï¼‰ï¼Œä¾‹å¦‚ï¼Œå®šä¹‰ä¸€ä¸ªageåªè¯»å±æ€§ï¼š å¯¹åº”çš„è¯»æ–¹æ³•æ˜¯int getAge() æ— å¯¹åº”çš„å†™æ–¹æ³•setAge(int) ç±»ä¼¼çš„ï¼Œåªæœ‰setterçš„å±æ€§ç§°ä¸ºåªå†™å±æ€§ï¼ˆwrite-onlyï¼‰ã€‚ å¾ˆæ˜æ˜¾ï¼Œåªè¯»å±æ€§å¾ˆå¸¸è§ï¼Œåªå†™å±æ€§ä¸å¸¸è§ã€‚ å±æ€§åªéœ€è¦å®šä¹‰getterå’Œsetteræ–¹æ³•ï¼Œä¸ä¸€å®šéœ€è¦å¯¹åº”çš„å­—æ®µã€‚ 1234567891011121314public class Person &#123; private String name; private int age; public String getName() &#123; return this.name; &#125; public void setName(String name) &#123; this.name = name; &#125; public int getAge() &#123; return this.age; &#125; public void setAge(int age) &#123; this.age = age; &#125; public boolean isChild() &#123; return age &lt;= 6; &#125;&#125; äº†è§£æšä¸¾ç±»ã€è®°å½•ç±»","categories":[],"tags":[{"name":"Java","slug":"Java","permalink":"http://believebest35.github.io/tags/Java/"}]},{"title":"Javaé¢å‘å¯¹è±¡","slug":"Java-2","date":"2020-10-26T08:48:04.000Z","updated":"2020-10-28T02:21:16.144Z","comments":true,"path":"2020/10/26/Java-2/","link":"","permalink":"http://believebest35.github.io/2020/10/26/Java-2/","excerpt":"é¢å‘å¯¹è±¡å³æè¿°ç±»ä¸å®ä¾‹çš„ä¸€ç±»è§„åˆ™ã€‚","text":"é¢å‘å¯¹è±¡å³æè¿°ç±»ä¸å®ä¾‹çš„ä¸€ç±»è§„åˆ™ã€‚ 12345class Person &#123; public String name; public int age; private int height;&#125; ä»¥ä¸Šå®šä¹‰äº†ç±»Personä»¥åŠä¸¤ä¸ªå…¬å…±æ•°æ®æˆå‘˜ï¼Œä¸€ä¸ªç§æœ‰æ•°æ®æˆå‘˜ã€‚ 123Person tony = new Person();tony.name = \"tony\"; // é€šè¿‡ . è®¿é—®// tony.height = 100; æŠ¥é”™ æ–¹æ³•1234567class ClassName &#123; public TypeName1 objname1; private TypeName2 objname2; public ReturnType FuncName(Args) &#123; // ... &#125;&#125; å®šä¹‰ä¸€ä¸ªå…¬å…±æ–¹æ³•ï¼Œæä¾›å¯¹å¤–çš„æ¥å£ï¼Œä¹Ÿå¯ä»¥å®šä¹‰ç§æœ‰æ–¹æ³•ï¼Œä½†åªå¯ä»¥åœ¨å†…éƒ¨è°ƒç”¨ã€‚ å®šä¹‰æ¨¡ç‰ˆå¦‚ä¸‹ï¼š 1234ä¿®é¥°ç¬¦ æ–¹æ³•è¿”å›ç±»å‹ æ–¹æ³•å(æ–¹æ³•å‚æ•°åˆ—è¡¨) &#123; è‹¥å¹²æ–¹æ³•è¯­å¥; return æ–¹æ³•è¿”å›å€¼;&#125; thiså˜é‡ä¸C++çš„thisæŒ‡é’ˆç±»ä¼¼ï¼ŒJavaæ–¹æ³•å†…éƒ¨å­˜åœ¨éšå«çš„thiså˜é‡ï¼Œå§‹ç»ˆæŒ‡å‘å½“å‰çš„å®ä¾‹ï¼Œå¯é€šè¿‡this.fieldè®¿é—®å…·ä½“çš„å­—æ®µã€‚ 1234567class Person &#123; private String name; public void setName(String name) &#123; this.name = name; // å‰é¢çš„thisä¸å¯å°‘ï¼Œå°‘äº†å°±å˜æˆå±€éƒ¨å˜é‡nameäº† &#125;&#125; å¯å˜å‚æ•°å¯å˜å‚æ•°ç”¨ç±»å‹...å®šä¹‰ï¼Œå¯å˜å‚æ•°ç›¸å½“äºæ•°ç»„ç±»å‹ï¼š 1234567class Group &#123; private String[] names; public void setNames(String... names) &#123; this.names &#x3D; names; &#125;&#125; è°ƒç”¨æ—¶å¯ä»¥ä¼ å…¥çš„å‚æ•°ä¸ªæ•°å¯å˜ã€‚ 12345Group g = new Group();g.setNames(\"Xiao Ming\", \"Xiao Hong\", \"Xiao Jun\"); // ä¼ å…¥3ä¸ªStringg.setNames(\"Xiao Ming\", \"Xiao Hong\"); // ä¼ å…¥2ä¸ªStringg.setNames(\"Xiao Ming\"); // ä¼ å…¥1ä¸ªStringg.setNames(); // ä¼ å…¥0ä¸ªString å½“ä¼ å…¥0ä¸ªå‚æ•°æ—¶å¯ä¿è¯namesæ˜¯ä¸€ä¸ªç©ºæ•°ç»„è€Œä¸æ˜¯nullã€‚ æ„é€ æ–¹æ³•ç±»ä¼¼C++çš„æ„é€ å‡½æ•° 1234567891011121314151617class Person &#123; private String name; private int age; public Person(String name, int age) &#123; this.name = name; this.age = age; &#125; public String getName() &#123; return this.name; &#125; public int getAge() &#123; return this.age; &#125;&#125; æ„é€ æ–¹æ³•åç§°ä¸ç±»åç›¸åŒï¼Œä¸å¸¦è¿”å›å€¼ï¼Œå¯ä»¥é‡è½½ï¼Œè‹¥æ˜¾å¼å®šä¹‰æ„é€ æ–¹æ³•åˆ™ç¼–è¯‘å™¨ä¸ä¼šç”Ÿæˆé»˜è®¤æ„é€ æ–¹æ³•ï¼ˆå³æ— å‚æ•°çš„æ„é€ æ–¹æ³•ï¼‰ï¼Œè¦ä½¿ç”¨éœ€è‡ªå·±æ˜¾å¼å®šä¹‰ã€‚ æ„é€ å‡½æ•°ä¸­æ²¡æœ‰åˆå§‹åŒ–çš„å¼•ç”¨æˆå‘˜è‡ªåŠ¨åˆå§‹åŒ–ä¸ºnullï¼Œå…¶ä»–åŸºæœ¬ç±»å‹æŒ‰å„è‡ªç±»å‹çš„åˆå§‹é»˜è®¤å€¼è¿›è¡Œåˆå§‹åŒ–ã€‚ å¯ä»¥å¯¹å­—æ®µç›´æ¥è¿›è¡Œåˆå§‹åŒ– 123456789class Person &#123; private String name = \"Unamed\"; private int age = 10; public Person(String name, int age) &#123; this.name = name; this.age = age; &#125;&#125; æœ€åä¿ç•™æ„é€ æ–¹æ³•ä¼ å…¥çš„å­—æ®µå€¼ã€‚ ä¸€ä¸ªæ„é€ æ–¹æ³•å¯ä»¥è°ƒç”¨å…¶ä»–æ„é€ æ–¹æ³•ï¼Œä¾¿äºä»£ç å¤ç”¨ã€‚è°ƒç”¨å…¶ä»–æ„é€ æ–¹æ³•çš„è¯­æ³•æ˜¯this(â€¦) 1234567891011121314151617class Person &#123; private String name; private int age; public Person(String name, int age) &#123; this.name = name; this.age = age; &#125; public Person(String name) &#123; this(name, 18); // è°ƒç”¨å¦ä¸€ä¸ªæ„é€ æ–¹æ³•Person(String, int) &#125; public Person() &#123; this(\"Unnamed\"); // è°ƒç”¨å¦ä¸€ä¸ªæ„é€ æ–¹æ³•Person(String) &#125;&#125; æ–¹æ³•é‡è½½æ–¹æ³•åŒåä½†æ˜¯å‚æ•°ä¸åŒã€‚ 123456789101112131415161718class Hello &#123; public void hello() &#123; System.out.println(\"Hello, world!\"); &#125; public void hello(String name) &#123; System.out.println(\"Hello, \" + name + \"!\"); &#125; public void hello(String name, int age) &#123; if (age &lt; 18) &#123; System.out.println(\"Hi, \" + name + \"!\"); &#125; else &#123; System.out.println(\"Hello, \" + name + \"!\"); &#125; &#125;&#125; ç»§æ‰¿åŸºç±»å®šä¹‰ 123456789class Person &#123; private String name; private int age; public String getName() &#123;...&#125; public void setName(String name) &#123;...&#125; public int getAge() &#123;...&#125; public void setAge(int age) &#123;...&#125;&#125; æ´¾ç”Ÿç±»å®šä¹‰ 12345678class Student extends Person &#123; // ä¸è¦é‡å¤nameå’Œageå­—æ®µ/æ–¹æ³•, // åªéœ€è¦å®šä¹‰æ–°å¢scoreå­—æ®µ/æ–¹æ³•: private int score; public int getScore() &#123; â€¦ &#125; public void setScore(int score) &#123; â€¦ &#125;&#125; æ´¾ç”Ÿç±»ä¸­æˆå‘˜å‡½æ•°æ— æ³•è®¿é—®åŸºç±»ä¸­çš„ç§æœ‰å­—æ®µï¼Œè¦è®¿é—®éœ€æ”¹ä¸ºprotectedç±»å‹æˆå‘˜ã€‚ï¼ˆJavaçš„ç»§æ‰¿ç±»ä¼¼C++çš„publicå‹ç»§æ‰¿ï¼‰ ä¸åŒäºC++çš„æ˜¯ï¼ŒJavaä¸å…è®¸å¤šé‡ç»§æ‰¿ã€‚ protected12345678910class Person &#123; protected String name; protected int age;&#125;class Student extends Person &#123; public String hello() &#123; return \"Hello, \" + name; // OK! &#125;&#125; åŸºç±»çš„protectedå‹æˆå‘˜åœ¨æ´¾ç”Ÿç±»ä»å¯è®¿é—®ã€‚ superä½¿ç”¨superå¯ä»¥å®šä½åˆ°æ´¾ç”Ÿç±»ã€‚ 12345class Student extends Person &#123; public String hello() &#123; return \"Hello, \" + super.name; // ç­‰ä»·äº this.name æˆ–è€… name &#125;&#125; superä¹Ÿå¯ä»¥ä½¿ç”¨åœ¨åŸºç±»çš„æ„é€ å‡½æ•°ä¸­ 123456789101112131415161718192021222324public class Main &#123; public static void main(String[] args) &#123; Student s = new Student(\"Xiao Ming\", 12, 89); &#125;&#125;class Person &#123; protected String name; protected int age; public Person(String name, int age) &#123; this.name = name; this.age = age; &#125;&#125;class Student extends Person &#123; protected int score; public Student(String name, int age, int score) &#123; super(name, age); this.score = score; &#125;&#125; åŸºç±»ä¸ç»§æ‰¿æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°ï¼ŒåŸºç±»æ„é€ å‡½æ•°å¿…é¡»é¦–å…ˆè°ƒç”¨æ´¾ç”Ÿç±»æ„é€ å‡½æ•°ï¼Œé€šè¿‡super()çš„å½¢å¼è¿›è¡Œè°ƒç”¨ï¼Œä¸æ˜¾å¼è°ƒç”¨åˆ™ç¼–è¯‘å™¨ä¼šå°è¯•åœ¨åŸºç±»æ„é€ å‡½æ•°åŠ ä¸Šsuper()ï¼Œå®¹æ˜“å¯¼è‡´æ„é€ å‡½æ•°å‚æ•°ä¸åŒ¹é…ã€‚ ç±»å‹è½¬æ¢ å‘ä¸Šè½¬æ¢ï¼ˆæ´¾ç”Ÿç±»è½¬åŸºç±»ï¼‰ 1Person p = new Student(); ä¸Šè¿°è¡Œä¸ºåˆæ³• å‘ä¸‹è½¬æ¢ï¼ˆåŸºç±»è½¬æ´¾ç”Ÿç±»ï¼‰ 1Student s = new Person(); ä¸Šè¿°è¡Œä¸ºä¸åˆæ³• instanceofinstanceofç”¨äºåˆ¤æ–­æŸå®ä¾‹æ˜¯å¦ä¸ºæŸç±»å‹ã€‚ 12345678910Person p = new Person();System.out.println(p instanceof Person); // trueSystem.out.println(p instanceof Student); // falseStudent s = new Student();System.out.println(s instanceof Person); // trueSystem.out.println(s instanceof Student); // trueStudent n = null;System.out.println(n instanceof Student); // false 12345Person p = new Student();if (p instanceof Student) &#123; // åªæœ‰åˆ¤æ–­æˆåŠŸæ‰ä¼šå‘ä¸‹è½¬å‹: Student s = (Student) p; // ä¸€å®šä¼šæˆåŠŸ&#125; ç»§æ‰¿ä¸ç»„åˆ ç»§æ‰¿æ˜¯iså…³ç³» ç»„åˆæ˜¯haså…³ç³»ï¼Œè¦å®ç°ç»„åˆå°†å¦ä¸€ä¸ªç±»å®šä¹‰ä¸ºè‡ªå·±çš„ç±»æˆå‘˜å³å¯ã€‚ å¤šæ€è¦†å†™Javaä¸­çš„æ™®é€šæ–¹æ³•å°±ç±»ä¼¼C++ä¸­çš„è™šå‡½æ•°ï¼ŒåŠ¨æ€ç»‘å®šï¼ˆæ™šæ†ç»‘ï¼‰æ˜¯Javaçš„é»˜è®¤è¡Œä¸ºï¼Œå› æ­¤Javaä¸­ä¸éœ€è¦åƒC++ä¸­é‚£æ ·åŒºåˆ†é‡å†™è¦†ç›–ä»¥åŠé‡å†™éšè—ã€‚ ç±»ä¼¼äºC++å¤šæ€æœºåˆ¶çš„é‡å†™è¦†ç›–ï¼ŒJavaæä¾›è¦†å†™ã€‚ 123456789101112class Person &#123; public void run() &#123; System.out.println(\"Person.run\"); &#125;&#125;class Student extends Person &#123; @Override public void run() &#123; System.out.println(\"Student.run\"); &#125;&#125; æ´¾ç”Ÿç±»é‡æ–°å®šä¹‰äº†run()æ–¹æ³•ï¼Œå¹¶ä½¿ç”¨@Overrideæ˜¾å¼è¯´æ˜è¿›è¡Œè¦†å†™ï¼ˆé‡å†™è¦†ç›–ï¼‰ï¼Œéœ€è¦åŸºç±»å’Œæ´¾ç”Ÿç±»ä¸­æ–¹æ³•å‚æ•°ã€è¿”å›ç±»å‹ä¸€è‡´ã€‚ å¤šæ€ç¤ºä¾‹12345678910111213141516171819public class Main &#123; public static void main(String[] args) &#123; Person p = new Student(); p.run(); &#125;&#125;class Person &#123; public void run() &#123; System.out.println(\"Person.run\"); &#125;&#125;class Student extends Person &#123; @Override public void run() &#123; System.out.println(\"Student.run\"); &#125;&#125; å®é™…æ‰“å°Person.runï¼Œè¯´æ˜Javaå®ä¾‹æ–¹æ³•è°ƒç”¨æ˜¯åŸºäºæ™šæ†ç»‘çš„ã€‚ å¤šæ€æœºåˆ¶æŒ‡çš„æ˜¯é’ˆå¯¹æŸä¸ªç±»å‹çš„æ–¹æ³•è°ƒç”¨ï¼Œå…¶çœŸæ­£æ‰§è¡Œçš„æ–¹æ³•å–å†³äºè¿è¡Œæ—¶æœŸå®é™…ç±»å‹çš„æ–¹æ³•ã€‚ Javaæ–¹æ³•å‚æ•°ä¼ é€’æ—¶é’ˆå¯¹å¼•ç”¨ç±»å‹éƒ½ä¼ é€’å¼•ç”¨ï¼Œæ ¹æ®ä¼ å…¥å¼•ç”¨æ‰€æŒ‡çš„å®é™…ç±»å‹è°ƒç”¨æ–¹æ³•ï¼Œå› æ­¤æ”¯æŒå¤šæ€æœºåˆ¶ã€‚ é‡å†™Objectæ–¹æ³•Javaä¸­æ‰€æœ‰ç±»å‡ç»§æ‰¿äºObjectç±»ï¼Œå¯ä»¥å¯¹å…¶ä¸­ä¸€äº›å…¬å…±æ–¹æ³•è¿›è¡Œé‡å†™ã€‚ toString()ï¼šæŠŠinstanceè¾“å‡ºä¸ºStringï¼› equals()ï¼šåˆ¤æ–­ä¸¤ä¸ªinstanceæ˜¯å¦é€»è¾‘ç›¸ç­‰ï¼› hashCode()ï¼šè®¡ç®—ä¸€ä¸ªinstanceçš„å“ˆå¸Œå€¼ã€‚ 1234567891011121314151617181920212223242526class Person &#123; ... // æ˜¾ç¤ºæ›´æœ‰æ„ä¹‰çš„å­—ç¬¦ä¸²: @Override public String toString() &#123; return \"Person:name=\" + name; &#125; // æ¯”è¾ƒæ˜¯å¦ç›¸ç­‰: @Override public boolean equals(Object o) &#123; // å½“ä¸”ä»…å½“oä¸ºPersonç±»å‹: if (o instanceof Person) &#123; Person p = (Person) o; // å¹¶ä¸”nameå­—æ®µç›¸åŒæ—¶ï¼Œè¿”å›true: return this.name.equals(p.name); &#125; return false; &#125; // è®¡ç®—hash: @Override public int hashCode() &#123; return this.name.hashCode(); &#125;&#125; è°ƒç”¨super()æ´¾ç”Ÿç±»çš„é‡å†™æ–¹æ³•ä½¿ç”¨super()å¯ä»¥è°ƒç”¨åŸºç±»è¢«é‡å†™çš„æ–¹æ³•ã€‚ 1234567891011121314class Person &#123; protected String name; public String hello() &#123; return \"Hello, \" + name; &#125;&#125;Student extends Person &#123; @Override public String hello() &#123; // è°ƒç”¨çˆ¶ç±»çš„hello()æ–¹æ³•: return super.hello() + \"!\"; &#125;&#125; finalä½¿ç”¨finalå¯ä»¥ç¦æ­¢æ–¹æ³•è¢«é‡å†™ã€‚ 12345678910111213class Person &#123; protected String name; public final String hello() &#123; return \"Hello, \" + name; &#125;&#125;Student extends Person &#123; // compile error: ä¸å…è®¸è¦†å†™ @Override public String hello() &#123; &#125;&#125; finalä¹Ÿå¯ä»¥ä¿®é¥°ç±»å®šä¹‰ï¼Œè¡¨ç¤ºè¯¥ç±»ä¸å¯ä»¥ç»§æ‰¿ã€‚ 1234567final class Person &#123; protected String name;&#125;// compile error: ä¸å…è®¸ç»§æ‰¿è‡ªPersonStudent extends Person &#123;&#125; finalå¯ä»¥ä¿®é¥°ç±»å®šä¹‰ä¸­çš„å­—æ®µï¼Œè¡¨ç¤ºä¸€æ—¦åˆå§‹åŒ–ä¹‹åå°±ä¸å¯ä¿®æ”¹ã€‚ 123456class Person &#123; public final String name = \"Unamed\";&#125;Person p = new Person();p.name = \"New Name\"; // compile error! ä¹Ÿå¯ä»¥åœ¨æ„é€ å‡½æ•°ä¸­è¿›è¡Œåˆå§‹åŒ–finalå­—æ®µã€‚ 123456class Person &#123; public final String name; public Person(String name) &#123; this.name = name; &#125;&#125; finalä¹Ÿå¯ä»¥åœ¨å®šä¹‰å¸¸é‡å®ä¾‹çš„æ—¶å€™ä½¿ç”¨ã€‚ æŠ½è±¡ç±»æœ‰æ—¶åŸºç±»ä¸­å®šä¹‰çš„æ–¹æ³•ä¸éœ€è¦å®æ—¶å®ç°ï¼Œç­‰å¾…åˆ°ç»§æ‰¿çš„æ´¾ç”Ÿç±»ä¸­å®ç°ï¼Œå¯ä»¥å°†åŸºç±»å£°æ˜ä¸ºæŠ½è±¡ç±»ï¼ŒæŠ½è±¡ç±»ä¸­å†å®šä¹‰æŠ½è±¡æ–¹æ³•ï¼ˆç±»ä¼¼C++ä¸­çš„çº¯è™šå‡½æ•°ï¼‰ï¼ŒåŒC++ç±»ä¼¼ï¼ŒæŠ½è±¡ç±»ä¸å¯ä»¥è¢«å®ä¾‹åŒ–ã€‚ 12345678910111213abstract class Person &#123; public abstract void run();&#125; // æŠ½è±¡æ–¹æ³•å’ŒæŠ½è±¡ç±»å®šä¹‰åŒæ—¶è¢«abstractä¿®é¥°class Student extends Person &#123; @Override public void run() &#123; â€¦ &#125;&#125;class Teacher extends Person &#123; @Override public void run() &#123; â€¦ &#125;&#125; æŠ½è±¡ç±»ä¼šå¼ºè¿«æ´¾ç”Ÿç±»å®ç°å…¶ä¸­çš„æŠ½è±¡æ–¹æ³•ã€‚ æ¥å£å¦‚æœä¸€ä¸ªæŠ½è±¡ç±»æ²¡æœ‰å­—æ®µï¼Œæ‰€æœ‰æ–¹æ³•å…¨éƒ¨éƒ½æ˜¯æŠ½è±¡æ–¹æ³•ï¼Œå¯ä»¥å°†æŠ½è±¡ç±»æ”¹ä¸ºæ¥å£ã€‚ 12345678910abstract class Person &#123; public abstract void run(); public abstract String getName();&#125;// ç­‰ä»·äºinterface Person &#123; void run(); String getName();&#125; å®ç°æ¥å£ 1234567891011121314151617class Student implements Person &#123; // ä½¿ç”¨implements private String name; public Student(String name) &#123; this.name = name; &#125; @Override public void run() &#123; System.out.println(this.name + \" run\"); &#125; @Override public String getName() &#123; return this.name; &#125;&#125; Javaä¸æ”¯æŒå¤šé‡ç»§æ‰¿ï¼Œä½†æ˜¯æ”¯æŒä¸€æ¬¡æ€§å®ç°å¤šä¸ªæ¥å£ã€‚ 123class Student implements Person, Kid &#123; ...&#125; æ¥å£å¯ä»¥ç»§æ‰¿æ¥å£ 12345678interface Hello &#123; void hello();&#125;interface Person extends Hello &#123; void run(); String getName();&#125; defaultå½“æ¥å£ä¸­åŠ äº†æ–°çš„æ–¹æ³•ï¼Œæ‰€æœ‰å®ç°æ¥å£çš„å­ç±»å¿…é¡»å®ç°æ–°çš„æ–¹æ³•ï¼Œä½¿ç”¨defaultå¯ä»¥é»˜è®¤æŒ‡å®šä¸€ç§å®ç°ç‰ˆæœ¬ï¼Œä»è€Œé¿å…æ‰€æœ‰å­ç±»å»å®ç°æ–°åŠ çš„æ–¹æ³•ã€‚ 12345678910111213141516171819202122232425public class Main &#123; public static void main(String[] args) &#123; Person p = new Student(\"Xiao Ming\"); p.run(); &#125;&#125;interface Person &#123; String getName(); default void run() &#123; System.out.println(getName() + \" run\"); &#125;&#125;class Student implements Person &#123; private String name; public Student(String name) &#123; this.name = name; &#125; public String getName() &#123; return this.name; &#125;&#125; æ¥å£å’ŒæŠ½è±¡ç±»å¯¹æ¯” abstract class interface ç»§æ‰¿ åªèƒ½extendsä¸€ä¸ªclass å¯ä»¥implementså¤šä¸ªinterface å­—æ®µ å¯ä»¥å®šä¹‰å®ä¾‹å­—æ®µ ä¸èƒ½å®šä¹‰å®ä¾‹å­—æ®µ æŠ½è±¡æ–¹æ³• å¯ä»¥å®šä¹‰æŠ½è±¡æ–¹æ³• å¯ä»¥å®šä¹‰æŠ½è±¡æ–¹æ³• éæŠ½è±¡æ–¹æ³• å¯ä»¥å®šä¹‰éæŠ½è±¡æ–¹æ³• å¯ä»¥å®šä¹‰defaultæ–¹æ³• staticä¸C++ç±»ä¼¼ï¼ŒJavaä¸­é™æ€å­—æ®µå’Œé™æ€æˆå‘˜å‡½æ•°è¢«æ•´ä¸ªç±»çš„æ‰€æœ‰å®ä¾‹å…±äº« é™æ€å­—æ®µ 123456789class Person &#123; public String name; public int age; // å®šä¹‰é™æ€å­—æ®µnumber: public static int number;&#125;...Person.number = 100; å¯ä»¥é€šè¿‡ç±»åè¿›è¡Œè®¿é—®ã€‚ é™æ€æ–¹æ³• 1234567891011121314public class Main &#123; public static void main(String[] args) &#123; Person.setNumber(99); System.out.println(Person.number); &#125;&#125;class Person &#123; public static int number; public static void setNumber(int value) &#123; number = value; &#125;&#125; é™æ€æ–¹æ³•åªèƒ½è®¿é—®é™æ€å­—æ®µã€‚ æ¥å£çš„é™æ€å­—æ®µå› ä¸ºinterfaceæ˜¯ä¸€ä¸ªçº¯æŠ½è±¡ç±»ï¼Œæ‰€ä»¥å®ƒä¸èƒ½å®šä¹‰å®ä¾‹å­—æ®µã€‚ä½†æ˜¯ï¼Œinterfaceæ˜¯å¯ä»¥æœ‰é™æ€å­—æ®µçš„ï¼Œå¹¶ä¸”é™æ€å­—æ®µå¿…é¡»ä¸ºfinalç±»å‹ï¼š 1234public interface Person &#123; public static final int MALE &#x3D; 1; public static final int FEMALE &#x3D; 2;&#125; å®é™…ä¸Šï¼Œå› ä¸ºinterfaceçš„å­—æ®µåªèƒ½æ˜¯public static finalç±»å‹ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æŠŠè¿™äº›ä¿®é¥°ç¬¦éƒ½å»æ‰ï¼Œä¸Šè¿°ä»£ç å¯ä»¥ç®€å†™ä¸ºï¼š 12345public interface Person &#123; &#x2F;&#x2F; ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨åŠ ä¸Špublic statc final: int MALE &#x3D; 1; int FEMALE &#x3D; 2;&#125; ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨æŠŠè¯¥å­—æ®µå˜ä¸ºpublic static finalç±»å‹ã€‚ åŒ…Javaä½¿ç”¨åŒ…ï¼ˆç±»ä¼¼å‘½åç©ºé—´ï¼‰æ¥è§£å†³ç±»åå†²çªã€‚ å‡è®¾åŒ…åå®šä¹‰ä¸ºpackageï¼Œå…¶ä¸­ç±»åä¸ºclassï¼Œåˆ™å®Œæ•´çš„ç±»åä¸ºpackage.classï¼Œä¾‹å¦‚Ming.Personç­‰ã€‚ 1234package ming; // ç”³æ˜åŒ…åmingpublic class Person &#123;&#125; 1234package mr.jun; // ç”³æ˜åŒ…åmr.junpublic class Arrays &#123;&#125; åœ¨Javaè™šæ‹Ÿæœºæ‰§è¡Œçš„æ—¶å€™ï¼ŒJVMåªçœ‹å®Œæ•´ç±»åï¼Œå› æ­¤ï¼Œåªè¦åŒ…åä¸åŒï¼Œç±»å°±ä¸åŒã€‚ åŒ…å¯ä»¥æ˜¯å¤šå±‚ç»“æ„ï¼Œç”¨.éš”å¼€ã€‚ä¾‹å¦‚ï¼šjava.utilã€‚ ä¸€èˆ¬æ ¹æ®åŒ…åæ¥ç»„ç»‡Javaæ–‡ä»¶ï¼Œå‡è®¾ä»¥package_sampleä½œä¸ºæ ¹ç›®å½•ï¼Œsrcä½œä¸ºæºç ç›®å½• 123456789package_sampleâ””â”€ src â”œâ”€ hong â”‚ â””â”€ Person.java â”‚ ming â”‚ â””â”€ Person.java â””â”€ mr â””â”€ jun â””â”€ Arrays.java ç¼–è¯‘åçš„.classæ–‡ä»¶ä¹Ÿéœ€è¦æŒ‰ç…§åŒ…ç»“æ„å­˜æ”¾ã€‚å¦‚æœä½¿ç”¨IDEï¼ŒæŠŠç¼–è¯‘åçš„.classæ–‡ä»¶æ”¾åˆ°binç›®å½•ä¸‹ï¼Œé‚£ä¹ˆï¼Œç¼–è¯‘çš„æ–‡ä»¶ç»“æ„å°±æ˜¯ï¼š 123456789package_sampleâ””â”€ bin â”œâ”€ hong â”‚ â””â”€ Person.class â”‚ ming â”‚ â””â”€ Person.class â””â”€ mr â””â”€ jun â””â”€ Arrays.class åŒ…ä½œç”¨åŸŸä½äºåŒä¸€ä¸ªåŒ…çš„ç±»ï¼Œå¯ä»¥è®¿é—®åŒ…ä½œç”¨åŸŸçš„å­—æ®µå’Œæ–¹æ³•ã€‚ä¸ç”¨publicã€protectedã€privateä¿®é¥°çš„å­—æ®µå’Œæ–¹æ³•å°±æ˜¯åŒ…ä½œç”¨åŸŸã€‚ 12345678package hello;public class Person &#123; // åŒ…ä½œç”¨åŸŸ: void hello() &#123; System.out.println(\"Hello!\"); &#125;&#125; 12345678package hello;public class Main &#123; public static void main(String[] args) &#123; Person p = new Person(); p.hello(); // å¯ä»¥è°ƒç”¨ï¼Œå› ä¸ºMainå’ŒPersonåœ¨åŒä¸€ä¸ªåŒ… &#125;&#125; importä½¿ç”¨å…¶ä»–åŒ…çš„ç±»ï¼Œå¯ä»¥ä½¿ç”¨å®Œæ•´åŒ…åï¼š 12345678// Person.javapackage ming;public class Person &#123; public void run() &#123; mr.jun.Arrays arrays = new mr.jun.Arrays(); &#125;&#125; ä¹Ÿå¯ä»¥ä½¿ç”¨importï¼Œç®€åŒ–åŒ…åã€‚ 1234567891011// Person.javapackage ming;// å¯¼å…¥å®Œæ•´ç±»å:import mr.jun.Arrays;public class Person &#123; public void run() &#123; Arrays arrays = new Arrays(); &#125;&#125; åœ¨å†™importçš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨*ï¼Œè¡¨ç¤ºæŠŠè¿™ä¸ªåŒ…ä¸‹é¢çš„æ‰€æœ‰classéƒ½å¯¼å…¥è¿›æ¥ï¼ˆä½†ä¸åŒ…æ‹¬å­åŒ…çš„classï¼‰ï¼š 1234567891011/ Person.javapackage ming;// å¯¼å…¥mr.junåŒ…çš„æ‰€æœ‰class:import mr.jun.*;public class Person &#123; public void run() &#123; Arrays arrays = new Arrays(); &#125;&#125; import staticå¯ä»¥å¯¼å…¥ä¸€ä¸ªç±»çš„é™æ€å­—æ®µå’Œé™æ€æ–¹æ³•ï¼Œä¸è¿‡è¾ƒå°‘ä½¿ç”¨ 1234567891011package main;// å¯¼å…¥Systemç±»çš„æ‰€æœ‰é™æ€å­—æ®µå’Œé™æ€æ–¹æ³•:import static java.lang.System.*;public class Main &#123; public static void main(String[] args) &#123; // ç›¸å½“äºè°ƒç”¨System.out.println(â€¦) out.println(\"Hello, world!\"); &#125;&#125; å®é™…ä¸­ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨åšä¸¤ä¸ªimportåŠ¨ä½œï¼š é»˜è®¤è‡ªåŠ¨importå½“å‰packageçš„å…¶ä»–classï¼› é»˜è®¤è‡ªåŠ¨import java.lang.*ã€‚ å»ºè®®ï¼š ä¸ºäº†é¿å…åå­—å†²çªï¼Œéœ€è¦ç¡®å®šå”¯ä¸€çš„åŒ…åã€‚æ¨èä½¿ç”¨å€’ç½®çš„åŸŸåï¼š org.apache org.apache.commons.log å­åŒ…æ ¹æ®åŠŸèƒ½è‡ªè¡Œå‘½åã€‚ ä¸è¦å’Œjava.langåŒ…çš„ç±»é‡åï¼Œå³è‡ªå·±çš„ç±»ä¸è¦ä½¿ç”¨è¿™äº›åå­—ï¼š String System Runtime â€¦ è¦æ³¨æ„ä¹Ÿä¸è¦å’ŒJDKå¸¸ç”¨ç±»é‡åï¼š java.util.List java.text.Format java.math.BigInteger â€¦ ä½œç”¨åŸŸ public private protected package åŒ…ä½œç”¨åŸŸ publicå®šä¹‰ä¸ºpublicçš„classã€interfaceå¯ä»¥è¢«å…¶ä»–ä»»ä½•ç±»è®¿é—®ã€‚ å®šä¹‰ä¸ºpublicçš„fieldã€methodå¯ä»¥è¢«å…¶ä»–ç±»è®¿é—®ï¼Œå‰ææ˜¯é¦–å…ˆæœ‰è®¿é—®classçš„æƒé™ã€‚ privateå®šä¹‰ä¸ºprivateçš„fieldã€methodæ— æ³•è¢«å…¶ä»–ç±»è®¿é—®ã€‚ privateè®¿é—®æƒé™è¢«é™å®šåœ¨classçš„å†…éƒ¨ã€‚ è‹¥ç±»ä¸­å®šä¹‰äº†åµŒå¥—ç±»ï¼Œåˆ™åµŒå¥—ç±»å¯ä»¥è®¿é—®privateæˆå‘˜ã€‚ protectedå®šä¹‰ä¸ºprotectedçš„å­—æ®µå’Œæ–¹æ³•å¯ä»¥è¢«å­ç±»ä»¥åŠå­ç±»çš„å­ç±»è®¿é—®ã€‚ åŒ…ä½œç”¨åŸŸè§ä¸Šã€‚ ä¸€äº›å»ºè®®è‹¥ä¸ç¡®å®šæ˜¯å¦éœ€è¦publicï¼Œå°±å°½é‡å‡å°‘publicçš„ä½¿ç”¨ï¼Œå‡å°‘å¯¹å¤–æš´éœ²çš„æ¥å£ã€‚ æ–¹æ³•å®šä¹‰ä¸ºpackageè®¿é—®æƒé™å¹¶å°†æµ‹è¯•ä»£ç æ”¾åœ¨åŒä¸€ä¸ªåŒ…å†…æœ‰åŠ©äºè¿›è¡Œæµ‹è¯•ã€‚ ä¸€ä¸ª.javaæ–‡ä»¶åªèƒ½åŒ…å«ä¸€ä¸ªpublicç±»ï¼Œä½†å¯ä»¥åŒ…å«å¤šä¸ªépublicç±»ã€‚å¦‚æœæœ‰publicç±»ï¼Œæ–‡ä»¶åå¿…é¡»å’Œpublicç±»çš„åå­—ç›¸åŒã€‚ å†…éƒ¨ç±»Inner ClassInner Classå³æ˜¯å°†ç±»å®šä¹‰åœ¨å¦ä¸€ä¸ªç±»çš„å†…éƒ¨ã€‚ 12345class Outer &#123; class Inner &#123; // å®šä¹‰äº†ä¸€ä¸ªInner Class &#125;&#125; Inner Classçš„å®ä¾‹ä¸èƒ½å•ç‹¬å­˜åœ¨ï¼Œå¿…é¡»ä¾é™„äºä¸€ä¸ªOuter Classçš„å®ä¾‹ã€‚ 123456789101112131415161718192021public class Main &#123; public static void main(String[] args) &#123; Outer outer = new Outer(\"Nested\"); // å®ä¾‹åŒ–ä¸€ä¸ªOuter Outer.Inner inner = outer.new Inner(); // å®ä¾‹åŒ–ä¸€ä¸ªInner inner.hello(); &#125;&#125;class Outer &#123; private String name; Outer(String name) &#123; this.name = name; &#125; class Inner &#123; void hello() &#123; System.out.println(\"Hello, \" + Outer.this.name); &#125; &#125;&#125; Inner Classå¯ä»¥ä¿®æ”¹Outer Classçš„privateå­—æ®µã€‚ Anonymous ClassAnonymous ClassåŒ¿åç±» 123456class OuterClass &#123; // å®šä¹‰ä¸€ä¸ªåŒ¿åç±» Type object1 = new Type(parameterList) &#123; // åŒ¿åç±»ä»£ç  &#125;;&#125; ä¸€ä¸ªå…·ä½“çš„å®ä¾‹ 123456789101112131415161718192021222324public class Main &#123; public static void main(String[] args) &#123; Outer outer = new Outer(\"Nested\"); outer.asyncHello(); &#125;&#125;class Outer &#123; private String name; Outer(String name) &#123; this.name = name; &#125; void asyncHello() &#123; Runnable r = new Runnable() &#123; @Override public void run() &#123; System.out.println(\"Hello, \" + Outer.this.name); &#125; &#125;; new Thread(r).start(); &#125;&#125; åŒ¿åç±»å¯ä»¥ç»§æ‰¿æ™®é€šç±»æˆ–è€…æ¥å£ï¼Œå¹¶åœ¨å…¶ä¸­é‡å†™æˆå‘˜æ–¹æ³•ã€‚ åŒ¿åç±»å¯ä»¥è®¿é—®å¤–éƒ¨ç±»çš„ç§æœ‰æ•°æ®æˆå‘˜ã€‚ Static Nested Classé™æ€å†…éƒ¨ç±»ï¼Œä¾ç„¶å®šä¹‰åœ¨ä¸€ä¸ªç±»çš„å†…éƒ¨ï¼Œä½†æ˜¯ä¸éœ€è¦ä¾é™„äºå¤–éƒ¨ç±»ï¼Œå¯ä»¥å•ç‹¬å­˜åœ¨ã€‚ 12345678910111213141516171819202122public class Main &#123; public static void main(String[] args) &#123; Outer.StaticNested sn = new Outer.StaticNested(); sn.hello(); &#125;&#125;class Outer &#123; private static String NAME = \"OUTER\"; private String name; Outer(String name) &#123; this.name = name; &#125; static class StaticNested &#123; void hello() &#123; System.out.println(\"Hello, \" + Outer.NAME); &#125; &#125;&#125; é™æ€å†…éƒ¨ç±»å¯ä»¥è®¿é—®å¤–éƒ¨ç±»çš„ç§æœ‰æ•°æ®æˆå‘˜ã€‚ classpathå’ŒjaråŸå‡ºå¤„ classpathclasspathæ˜¯JVMç”¨åˆ°çš„ä¸€ä¸ªç¯å¢ƒå˜é‡ï¼Œå®ƒç”¨æ¥æŒ‡ç¤ºJVMå¦‚ä½•æœç´¢classã€‚ å› ä¸ºJavaæ˜¯ç¼–è¯‘å‹è¯­è¨€ï¼Œæºç æ–‡ä»¶æ˜¯.javaï¼Œè€Œç¼–è¯‘åçš„.classæ–‡ä»¶æ‰æ˜¯çœŸæ­£å¯ä»¥è¢«JVMæ‰§è¡Œçš„å­—èŠ‚ç ã€‚å› æ­¤ï¼ŒJVMéœ€è¦çŸ¥é“ï¼Œå¦‚æœè¦åŠ è½½ä¸€ä¸ªabc.xyz.Helloçš„ç±»ï¼Œåº”è¯¥å»å“ªæœç´¢å¯¹åº”çš„Hello.classæ–‡ä»¶ã€‚ æ‰€ä»¥ï¼Œclasspathå°±æ˜¯ä¸€ç»„ç›®å½•çš„é›†åˆï¼Œå®ƒè®¾ç½®çš„æœç´¢è·¯å¾„ä¸æ“ä½œç³»ç»Ÿç›¸å…³ã€‚ä¾‹å¦‚ï¼Œåœ¨Windowsç³»ç»Ÿä¸Šï¼Œç”¨;åˆ†éš”ï¼Œå¸¦ç©ºæ ¼çš„ç›®å½•ç”¨&quot;&quot;æ‹¬èµ·æ¥ï¼Œå¯èƒ½é•¿è¿™æ ·ï¼š 1C:\\work\\project1\\bin;C:\\shared;\"D:\\My Documents\\project1\\bin\" åœ¨Linuxç³»ç»Ÿä¸Šï¼Œç”¨:åˆ†éš”ï¼Œå¯èƒ½é•¿è¿™æ ·ï¼š 1/usr/shared:/usr/local/bin:/home/username/bin å‡è®¾classpathæ˜¯.;C:\\work\\project1\\bin;C:\\sharedï¼Œå½“JVMåœ¨åŠ è½½abc.xyz.Helloè¿™ä¸ªç±»æ—¶ï¼Œä¼šä¾æ¬¡æŸ¥æ‰¾ï¼š &lt;å½“å‰ç›®å½•&gt;\\abc\\xyz\\Hello.class C:\\work\\project1\\bin\\abc\\xyz\\Hello.class C:\\shared\\abc\\xyz\\Hello.class å¦‚æœJVMåœ¨æŸä¸ªè·¯å¾„ä¸‹æ‰¾åˆ°äº†å¯¹åº”çš„classæ–‡ä»¶ï¼Œå°±ä¸å†å¾€åç»§ç»­æœç´¢ã€‚å¦‚æœæ‰€æœ‰è·¯å¾„ä¸‹éƒ½æ²¡æœ‰æ‰¾åˆ°ï¼Œå°±æŠ¥é”™ã€‚ å¼ºçƒˆä¸æ¨èåœ¨ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸­è®¾ç½®classpathï¼Œåœ¨å¯åŠ¨JVMæ—¶è®¾ç½®classpathæ‰æ˜¯æ¨èçš„åšæ³•ã€‚å®é™…ä¸Šå°±æ˜¯ç»™javaå‘½ä»¤ä¼ å…¥-classpathæˆ–-cpå‚æ•°ï¼š 1java -classpath .;C:\\work\\project1\\bin;C:\\shared abc.xyz.Hello æˆ–è€…ä½¿ç”¨-cpçš„ç®€å†™ï¼š 1java -cp .;C:\\work\\project1\\bin;C:\\shared abc.xyz.Hello æ²¡æœ‰è®¾ç½®ç³»ç»Ÿç¯å¢ƒå˜é‡ï¼Œä¹Ÿæ²¡æœ‰ä¼ å…¥-cpå‚æ•°ï¼Œé‚£ä¹ˆJVMé»˜è®¤çš„classpathä¸º.ï¼Œå³å½“å‰ç›®å½•ï¼š 1java abc.xyz.Hello åœ¨IDEä¸­è¿è¡ŒJavaç¨‹åºï¼ŒIDEè‡ªåŠ¨ä¼ å…¥çš„-cpå‚æ•°æ˜¯å½“å‰å·¥ç¨‹çš„binç›®å½•å’Œå¼•å…¥çš„jaråŒ…ã€‚ jarjaråŒ…å¯ä»¥æŠŠpackageç»„ç»‡çš„ç›®å½•å±‚çº§ï¼Œä»¥åŠå„ä¸ªç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼ˆåŒ…æ‹¬.classæ–‡ä»¶å’Œå…¶ä»–æ–‡ä»¶ï¼‰éƒ½æ‰“æˆä¸€ä¸ªjaræ–‡ä»¶ã€‚jaråŒ…é‡Œçš„ç¬¬ä¸€å±‚ç›®å½•ï¼Œä¸èƒ½æ˜¯binã€‚ jaråŒ…å®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªzipæ ¼å¼çš„å‹ç¼©æ–‡ä»¶ï¼Œè€ŒjaråŒ…ç›¸å½“äºç›®å½•ã€‚å¦‚æœè¦æ‰§è¡Œä¸€ä¸ªjaråŒ…çš„classï¼Œå°±å¯ä»¥æŠŠjaråŒ…æ”¾åˆ°classpathä¸­ï¼š 1java -cp .&#x2F;hello.jar abc.xyz.Hello è¿™æ ·JVMä¼šè‡ªåŠ¨åœ¨hello.jaræ–‡ä»¶é‡Œå»æœç´¢æŸä¸ªç±»ã€‚ æ‰‹åŠ¨åˆ›å»ºjaråŒ…å¯ä»¥ä½¿ç”¨zipå‹ç¼©å†æ›´æ”¹åç¼€åä¸ºjarï¼Œå¤§å‹å·¥ç¨‹å¯ä»¥ä½¿ç”¨Mavenç­‰å·¥å…·æ¥åˆ›å»ºjaråŒ…ã€‚ æ¨¡å—åŸå‡ºå¤„ jaråŒ…ä¸èƒ½ç®¡ç†åŒ…ä¹‹é—´çš„ä¾èµ–ï¼Œå› æ­¤ä»Java9å¼•å…¥æ¨¡å—ã€‚","categories":[],"tags":[{"name":"Java","slug":"Java","permalink":"http://believebest35.github.io/tags/Java/"},{"name":"OOP","slug":"OOP","permalink":"http://believebest35.github.io/tags/OOP/"}]},{"title":"Java_åŸºç¡€","slug":"Java-1","date":"2020-10-26T02:25:15.000Z","updated":"2020-10-26T08:42:38.228Z","comments":true,"path":"2020/10/26/Java-1/","link":"","permalink":"http://believebest35.github.io/2020/10/26/Java-1/","excerpt":"å‚ç…§å»–é›ªå³°çš„Javaæ•™ç¨‹è¿›è¡Œå­¦ä¹ ã€‚ JDKå’ŒJRE JDKï¼šJava Development Kit JREï¼šJava Runtime Environment","text":"å‚ç…§å»–é›ªå³°çš„Javaæ•™ç¨‹è¿›è¡Œå­¦ä¹ ã€‚ JDKå’ŒJRE JDKï¼šJava Development Kit JREï¼šJava Runtime Environment 1234567891011 â”Œâ”€ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ Compiler, debugger, etc. â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜JDK â”Œâ”€ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ â”‚ â”‚ JRE â”‚ JVM + Runtime Library â”‚ â”‚ â”‚ â”‚ â”‚ â””â”€ â””â”€ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”Œâ”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”‚Windowsâ”‚â”‚ Linux â”‚â”‚ macOS â”‚â”‚others â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”˜ JAVA_HOMEçš„binç›®å½• javaï¼šè¿™ä¸ªå¯æ‰§è¡Œç¨‹åºå…¶å®å°±æ˜¯JVMï¼Œè¿è¡ŒJavaç¨‹åºï¼Œå°±æ˜¯å¯åŠ¨JVMï¼Œç„¶åè®©JVMæ‰§è¡ŒæŒ‡å®šçš„ç¼–è¯‘åçš„ä»£ç ï¼› javacï¼šè¿™æ˜¯Javaçš„ç¼–è¯‘å™¨ï¼Œå®ƒç”¨äºæŠŠJavaæºç æ–‡ä»¶ï¼ˆä»¥.javaåç¼€ç»“å°¾ï¼‰ç¼–è¯‘ä¸ºJavaå­—èŠ‚ç æ–‡ä»¶ï¼ˆä»¥.classåç¼€ç»“å°¾ï¼‰ï¼› jarï¼šç”¨äºæŠŠä¸€ç»„.classæ–‡ä»¶æ‰“åŒ…æˆä¸€ä¸ª.jaræ–‡ä»¶ï¼Œä¾¿äºå‘å¸ƒï¼› javadocï¼šç”¨äºä»Javaæºç ä¸­è‡ªåŠ¨æå–æ³¨é‡Šå¹¶ç”Ÿæˆæ–‡æ¡£ï¼› jdbï¼šJavaè°ƒè¯•å™¨ï¼Œç”¨äºå¼€å‘é˜¶æ®µçš„è¿è¡Œè°ƒè¯•ã€‚ ç¬¬ä¸€ä¸ªJavaç¨‹åº1234567public class Hello&#123; public static void main(String[] args) &#123; System.out.println(\"hello world\"); &#125;&#125; å®šä¹‰äº†ä¸€ä¸ªå…¬å¼€ç±»Helloï¼ˆä¸ºäº†è§„èŒƒï¼Œç±»åé¦–å­—æ¯ä¸€èˆ¬å¤§å†™ï¼‰ã€‚ ç¨‹åºä»åä¸ºmain()çš„å…¬å¼€é™æ€æ–¹æ³•å¼€å§‹è¿›å…¥ï¼ˆä¸€èˆ¬æˆå‘˜å‡½æ•°åç§°é¦–å­—æ¯å°å†™ï¼‰ã€‚ System.out.println()å‘ç»ˆç«¯è¿›è¡Œæ‰“å°ã€‚ ä¸€äº›Javaç¨‹åºåŸºç¡€ä»¥ç¬¬ä¸€ä¸ªJavaç¨‹åºä¸ºä¾‹ï¼Œå®šä¹‰äº†åä¸ºHelloçš„å…¬å¼€ç±»ï¼Œå®šä¹‰äº†åä¸ºmainçš„å…¬å¼€é™æ€æ–¹æ³•ï¼Œå³ç¨‹åºå…¥å£ã€‚ æ³¨é‡ŠJavaçš„ä¸‰ç§æ³¨é‡Š 1234567891011// å•è¡Œæ³¨é‡Š/* å¤šè¡Œæ³¨é‡Š...*/ /** ç”¨äºè‡ªåŠ¨åˆ›å»ºæ–‡æ¡£çš„æ³¨é‡Š**/ å…¶ä¸­æœ€åçš„ä¸€ç§ç‰¹æ®Šçš„å¤šè¡Œæ³¨é‡Šæ ¼å¼ä¸€èˆ¬å†™åœ¨ç±»å’Œæ–¹æ³•çš„å®šä¹‰å¤„ï¼Œç”¨äºè‡ªåŠ¨åˆ›å»ºæ–‡æ¡£ã€‚ Macä¸‹eclipseæŒ‰âŒ˜+â‡§+Fï¼ˆWindowsä¸‹æŒ‰Ctrl+Shift+Fï¼‰å¯ä»¥æ ¼å¼åŒ–ä»£ç ã€‚ å˜é‡åŸºæœ¬ç±»å‹ æ•´æ•°ç±»å‹ï¼šbyteï¼Œshortï¼Œintï¼Œlong æµ®ç‚¹æ•°ç±»å‹ï¼šfloatï¼Œdouble å­—ç¬¦ç±»å‹ï¼šchar å¸ƒå°”ç±»å‹ï¼šboolean å¤§å° 123456789101112131415161718192021 â”Œâ”€â”€â”€â” byte â”‚ â”‚ â””â”€â”€â”€â”˜ â”Œâ”€â”€â”€â”¬â”€â”€â”€â” short â”‚ â”‚ â”‚ â””â”€â”€â”€â”´â”€â”€â”€â”˜ â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â” int â”‚ â”‚ â”‚ â”‚ â”‚ â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜ â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â” long â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜ â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â” float â”‚ â”‚ â”‚ â”‚ â”‚ â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜ â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”double â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜ â”Œâ”€â”€â”€â”¬â”€â”€â”€â” char â”‚ â”‚ â”‚ â””â”€â”€â”€â”´â”€â”€â”€â”˜ æ•´å‹ï¼Œä¸C++ä¸åŒï¼ŒJavaåªæœ‰å¸¦ç¬¦å·çš„æ•´å‹æ•°ï¼Œæœ€é«˜ä½ä¸ºä¸ºç¬¦å·ä½ï¼ˆ0æ­£1è´Ÿï¼‰ï¼Œè¡¨ç¤ºèŒƒå›´ï¼š byteï¼š-128 ~ 127 ï¼ˆ1å­—èŠ‚ï¼‰ short: -32768 ~ 32767 ï¼ˆ2å­—èŠ‚ï¼‰ int: -2147483648 ~ 2147483647 ï¼ˆ4å­—èŠ‚ï¼‰ long: -9223372036854775808 ~ 9223372036854775807 ï¼ˆ8å­—èŠ‚ï¼‰ 1234int a = 2_000_000; // ä¸‹åˆ’çº¿åˆ†å‰²ï¼Œå®é™…ä¸º2000000int b = 0xff001; // 16è¿›åˆ¶int c = 0b10101; // äºŒè¿›åˆ¶long d = 9000000000000000000L; // longå‹ç»“å°¾éœ€è¦åŠ L æµ®ç‚¹å‹ floatï¼š4å­—èŠ‚ï¼Œç»“å°¾åŠ fè¿›è¡Œæ ‡å¿— doubleï¼š8å­—èŠ‚ 12float a = 1.0f;double b = 1.0; å­—ç¬¦å‹ ä½¿ç”¨å•å¼•å· booleanå‹ åªè¡¨ç¤ºtrueæˆ–è€…falseã€‚JVMä¸€èˆ¬å°†å…¶ç”¨4ä¸ªå­—èŠ‚è¿›è¡Œå­˜å‚¨ã€‚ï¼ˆåŒC++ï¼Œå’Œintäº’ç›¸è½¬ï¼‰ã€‚ å¼•ç”¨ç±»å‹å¼•ç”¨ç±»ä¼¼C++ä¸­çš„å¼•ç”¨ï¼Œå®é™…è®°å½•çš„æ˜¯æŸä¸ªå¯¹è±¡åœ¨å†…å­˜çš„ä½ç½®ã€‚æœ€ä¸ºå¸¸ç”¨çš„ï¼š 1String str = \"hello world\"; éœ€è¦æ³¨æ„å¼•ç”¨ç±»å‹çš„æ¯”è¾ƒï¼Œéœ€è¦ä½¿ç”¨equalsæˆå‘˜å‡½æ•°è¿›è¡Œæ¯”è¾ƒï¼Œä½¿ç”¨==ä»…æ˜¯åœ¨åˆ¤æ–­æ‰€å¼•ç”¨çš„å¯¹è±¡æ˜¯å¦ä¸€è‡´ã€‚ 12345String s1 = \"hello\";String s2 = \"Hello\".toLowerCase();boolean res1 = s1 == s2; // falseboolean res2 = s1.equals(s2); // true finalå’Œvarä½¿ç”¨finalå¯ä»¥å®šä¹‰å¸¸é‡ç±»å‹ï¼Œä¸å¯ä»¥è¢«ä¿®æ”¹ï¼ˆç±»ä¼¼C++ constï¼‰ï¼Œä½¿ç”¨varå¯è¿›è¡Œè‡ªåŠ¨ç±»å‹æ¨æ–­ï¼ˆç±»ä¼¼C++ autoï¼‰ã€‚ 12final int a = 1;var b = new StringBuilder(); è¿ç®— + - * / % ++ -- += -= /= *= &gt; &lt; == &gt;= &lt;= != &amp;&amp; || ! &gt;&gt; &lt;&lt; &gt;&gt;&gt; æœ€åä¸€ä¸ªä¸ºæ— ç¬¦å·å³ç§»ï¼Œæœ€é«˜ä½è¡¥0 &amp; | ! ^ = b ? x : y ç±»å‹è½¬æ¢è‡ªåŠ¨çš„ç±»å‹è½¬æ¢éƒ½æ˜¯ä»å°èŒƒå›´åˆ°å¤§èŒƒå›´ï¼Œå¼ºè½¬ç±»ä¼¼C++ã€‚ StringJavaæä¾›äº†è‡ªå¸¦çš„å­—ç¬¦ä¸²ç±»å‹ï¼Œå¼•ç”¨ç±»å‹ã€‚ 12345String s1 = \"test\";String s2 = s1 + \" \" + \"test\"; // æ‹¼æ¥String s3 = \"\"; // ç©ºä¸²String s4 = null; // ç©ºå¼•ç”¨String s5; // ç©ºå¼•ç”¨ æ•°ç»„ä¸C++æ•°ç»„ç±»å‹ä¸åŒï¼ŒJavaçš„æ•°ç»„ç±»å‹éœ€è¦åŠ¨æ€å£°æ˜å¤§å°ï¼Œä¸ºå¼•ç”¨ç±»å‹ã€‚ é‡‡ç”¨ç±»å‹[] æ•°ç»„åçš„å½¢å¼è¿›è¡Œå£°æ˜ã€‚ 12345678int[] arr = new int[10];arr[0] = 1;// ...int size = 100;int[] arr_2 = new int[size];int size_2 = arr_2.length;String[] str_arr = new String[size]; // å­—ç¬¦ä¸²æ•°ç»„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯å¼•ç”¨ç±»å‹ æµç¨‹æ§åˆ¶è¾“å…¥è¾“å‡º1System.out.println();// ç®€å•çš„è¾“å‡º è¾“å‡ºå¯ä½¿ç”¨æ ¼å¼åŒ–å‚æ•°ã€‚ è¾“å‡ºç›¸å¯¹C++è€Œè¨€æ›´å¤æ‚ï¼Œä¸€èˆ¬ä½¿ç”¨Scannerç±»ã€‚ 123456import java.util.Scanner;Scanner scanner = new Scanner(System.in); // æ–°å»ºScannerå¯¹è±¡String str = scanner.nextLine(); // è¯»ä¸€è¡Œå­—ç¬¦ä¸²String str_2 = scanner.next(); // è¯»å­—ç¬¦ä¸²ç›´åˆ°é‡åˆ°ç©ºæ ¼ã€æ¢è¡Œç­‰int a = scanner.nextInt(); // è¯»æ•´æ•° if else, switch case, while, do while, for, continue, breakåŒC++ ç±»ä¼¼C++11ï¼ŒJavaä¹Ÿæœ‰åŸºäºèŒƒå›´ï¼ˆfor eachï¼‰çš„å¾ªç¯ã€‚ 12345678int[] arr = &#123;1, 2, 3, 4, 5, 6&#125;;for (var num : arr) &#123; System.out.println(num);&#125;for (int num : arr) &#123; System.out.println(num);&#125; for eachå¾ªç¯ä¹Ÿé€‚ç”¨äºå…¶ä»–çš„å¯è¿­ä»£ç±»å‹ã€‚ æ•°ç»„æ“ä½œ éå† æ’åº JDKæä¾›Arrays.sort()è¿›è¡Œæ’åº 1234import java.util.Arrays;int[] nums = &#123;5, 3, 4, 2, 1&#125;;Arrays.sort(nums); å¤šç»´æ•°ç»„ 123int[][] arr = new int[3][5];System.out.println(arr.length); // 3System.out.println(arr[1].length); // 5","categories":[],"tags":[{"name":"Java","slug":"Java","permalink":"http://believebest35.github.io/tags/Java/"}]},{"title":"ä¸€äº›Linuxçš„åŸºç¡€çŸ¥è¯†","slug":"Linux","date":"2020-10-19T08:55:19.000Z","updated":"2020-10-26T02:24:51.598Z","comments":true,"path":"2020/10/19/Linux/","link":"","permalink":"http://believebest35.github.io/2020/10/19/Linux/","excerpt":"ç”±äºè‡ªå·±è–„å¼±çš„LinuxåŸºç¡€ï¼Œéœ€è¦å¿«é€Ÿçš„è¡¥å……ä¸€ä¸‹è‡ªå·±æœ‰å…³LinuxçŸ¥è¯†ï¼Œä»¥ä¸‹å†…å®¹ç®€å•æ€»ç»“äºé¸Ÿå”çš„Linuxç§æˆ¿èœã€‚","text":"ç”±äºè‡ªå·±è–„å¼±çš„LinuxåŸºç¡€ï¼Œéœ€è¦å¿«é€Ÿçš„è¡¥å……ä¸€ä¸‹è‡ªå·±æœ‰å…³LinuxçŸ¥è¯†ï¼Œä»¥ä¸‹å†…å®¹ç®€å•æ€»ç»“äºé¸Ÿå”çš„Linuxç§æˆ¿èœã€‚ æ—¥æœŸçš„æŒ‡ä»¤ date æ˜¾ç¤ºæ—¥æœŸ cal æ˜¾ç¤ºæ—¥å† 12345678910111213--- ~ Â» date2020å¹´10æœˆ19æ—¥ æ˜ŸæœŸä¸€ 17æ—¶12åˆ†03ç§’ CST--- ~ Â» cal åæœˆ 2020æ—¥ ä¸€ äºŒ ä¸‰ å›› äº” å…­ 1 2 3 4 5 6 7 8 9 1011 12 13 14 15 16 1718 19 20 21 22 23 2425 26 27 28 29 30 31--- ~ Â» cal 2020# ......--- ~ Â» cal 10 2020 ls ls æ˜¾ç¤ºå½“å‰ç›®å½•ä¸‹æ–‡ä»¶ 12345678910111213141516--- ~ Â» ls -ltotal 8drwxr-xr-x 5 xinrui_tang staff 160 10 5 16:26 Applicationsdrwxr-xr-x 3 xinrui_tang staff 96 3 21 2019 Cloud Drivedrwx------@ 44 xinrui_tang staff 1408 10 19 09:27 Desktopdrwx------+ 8 xinrui_tang staff 256 8 3 15:53 Documentsdrwx------@ 6 xinrui_tang staff 192 10 19 09:26 Downloadsdrwx------@ 82 xinrui_tang staff 2624 7 20 12:16 Librarydrwx------+ 6 xinrui_tang staff 192 11 26 2019 Moviesdrwx------+ 8 xinrui_tang staff 256 10 10 2019 Musicdrwx------+ 5 xinrui_tang staff 160 8 10 2019 Picturesdrwxr-xr-x+ 5 xinrui_tang staff 160 9 14 2019 Publicdrwxr-xr-x 4 xinrui_tang staff 128 10 15 20:54 eclipsedrwxr-xr-x 3 xinrui_tang staff 96 10 15 20:17 javasharedresourcesdrwxr-xr-x 3 xinrui_tang staff 96 6 28 20:23 nltk_data-rw-rw-rw- 1 xinrui_tang staff 18 6 16 2019 sockets.log ç¬¬ä¸€ä¸ªå­—ç¬¦å¯ä»¥ä¸º 1234d è¡¨ç¤ºä¸ºç›®å½•- è¡¨ç¤ºä¸ºæ–‡ä»¶| è¡¨ç¤ºä¸ºé“¾æ¥æ–‡ä»¶... æ¥ä¸‹æ¥ä¸‰ä¸ªå‡ä¸ºâ€rwxâ€çš„å­—ç¬¦ç»„åˆï¼Œrè¡¨ç¤ºå¯è¯»ï¼Œwè¡¨ç¤ºå¯å†™ï¼Œxè¡¨ç¤ºå¯æ‰§è¡Œï¼Œè‹¥æ²¡æœ‰æƒé™åˆ™ç”¨ â€˜-â€˜ ä»£æ›¿ ç¬¬ä¸€ç»„ä¸ºæ–‡ä»¶æ‹¥æœ‰è€…å¯å…·å¤‡çš„æƒé™ã€‚ ç¬¬äºŒç»„ä¸ºåŠ å…¥æ­¤ç¾¤ç»„çš„å¸å·çš„æƒé™ã€‚ ç¬¬ä¸‰ç»„ä¸ºéæœ¬äººä¸”æ²¡æœ‰åŠ å…¥æœ¬ç¾¤ç»„çš„å…¶ä»–å¸å·çš„æƒé™ã€‚ ç¬¬äºŒæ çš„æ•°å­—è¡¨ç¤ºæœ‰å¤šå°‘æ–‡ä»¶åé“¾æ¥åˆ°æ­¤èŠ‚ç‚¹ ç¬¬ä¸‰æ è¡¨ç¤ºæ‹¥æœ‰è€… ç¬¬å››æ è¡¨ç¤ºæ‰€å±ç¾¤ç»„ ç¬¬äº”æ ä¸ºè¿™ä¸ªæ–‡ä»¶çš„å®¹é‡å¤§å°ï¼Œé»˜è®¤å•ä½ä¸ºBytes ç¬¬å…­æ ä¸ºè¿™ä¸ªæ–‡ä»¶çš„åˆ›å»ºæ—¥æœŸæˆ–è€…æ˜¯æœ€è¿‘çš„ä¿®æ”¹æ—¥æœŸ ç¬¬ä¸ƒæ æ˜¯æ–‡ä»¶å æ”¹å˜æ–‡ä»¶å±æ€§å’Œæƒé™ chown æ”¹å˜æ–‡ä»¶æ‹¥æœ‰è€… chmod æ”¹å˜æ–‡ä»¶æƒé™ chgrp æ”¹å˜ç¾¤ç»„ ä»¥ä¸Šä¸‰ä¸ªå‘½ä»¤è¯·å¦è¡ŒæŸ¥é˜…æ–‡æ¡£ã€‚ ç›®å½•å¤„ç† cd å˜æ¢ç›®å½• pwd æ˜¾ç¤ºå½“å‰è·¯å¾„ mkdir åˆ›å»ºæ–‡ä»¶å¤¹ rmdir åˆ é™¤ç©ºæ–‡ä»¶å¤¹ å¤åˆ¶ç§»åŠ¨å’Œåˆ é™¤ cp å¤åˆ¶ rm åˆ é™¤ mv ç§»åŠ¨ æŸ¥é˜…æ–‡ä»¶å†…å®¹ cat od å¯æ˜¾ç¤ºæ–‡ä»¶çš„äºŒè¿›åˆ¶ç¼–ç  head [-n, number] filename æŒ‡å®šæ˜¾ç¤ºæ–‡ä»¶çš„å‰å‡ è¡Œ tail åŒheadï¼ŒæŒ‡å®šæ˜¾ç¤ºæ–‡ä»¶çš„åå‡ è¡Œ to do","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://believebest35.github.io/tags/Linux/"}]},{"title":"é¢å‘å¯¹è±¡_STLè¿›é˜¶","slug":"OOP-THU-8","date":"2020-10-14T02:52:25.000Z","updated":"2020-10-14T14:06:43.358Z","comments":true,"path":"2020/10/14/OOP-THU-8/","link":"","permalink":"http://believebest35.github.io/2020/10/14/OOP-THU-8/","excerpt":"stringSTLæä¾›stringç±»å‹ç”¨ä»¥æ›¿ä»£Cè¯­è¨€è‡ªå¸¦çš„charå‹æ•°ç»„ã€‚","text":"stringSTLæä¾›stringç±»å‹ç”¨ä»¥æ›¿ä»£Cè¯­è¨€è‡ªå¸¦çš„charå‹æ•°ç»„ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940string first_name = \"xinrui\", last_name = \"tang\";string full_name = first_name + \" \" + last_name; // stringæ‹¼æ¥//åˆå§‹åŒ–string s0(\"Hello World!\");string s1(); // ç©ºä¸²//è½¬æ¢ä¸ºCé£æ ¼å­—ç¬¦ä¸²s0.c_str(); // è¿”å›çš„æ˜¯å­—ç¬¦ä¸²å¸¸é‡string s;// ä¸vectorç±»ä¼¼s[i]; // ä¸‹æ ‡è®¿é—®int len = s.size();int len = s.length(); // æ±‚é•¿åº¦ï¼Œvectoræ²¡æœ‰s.clear(); // æ¸…ç©ºbool is_empty = s.empty(); // æŸ¥è¯¢æ˜¯å¦ä¸ºç©ºfor (auto ch : s)&#123; // ... è¿­ä»£ï¼ŒåŒvector&#125;s.push_back('a'); // å°¾éƒ¨åŠ å­—ç¬¦s.append(\"aa\"); // å°¾éƒ¨åŠ å­—ç¬¦ä¸²s += 'a';s += \"aa\"; // += è¿ç®—ç¬¦è¿›è¡Œæ‹¼æ¥cin &gt;&gt; s; // é‡åˆ°ç©ºæ ¼åœæ­¢è¯»å…¥getline(cin, s); // è¯»ä¸€è¡Œgetline(cin, s, '#'); // è¯»åˆ°é‡è§æŒ‡å®šåˆ†éš”ç¬¦s0 &lt; s1; // æ¯”è¾ƒå­—å…¸åºs = to_string(123); // æ•´å‹æ•°è½¬strings = to_string(3.14); // æµ®ç‚¹æ•°è½¬strings = to_string(3.1415926); // 3.141593 æŸå¤±ç²¾åº¦int a = stoi(\"123\"); // stringè½¬intdouble b = stod(\"3.14\"); // stringè½¬double iostream è¾“å…¥è¾“å‡ºæµostreamè¾“å‡ºæµï¼Œé‡è½½äº†æ‰€æœ‰åŸºç¡€ç±»å‹çš„â€&lt;&lt;â€è¿ç®—ï¼Œå°†printfç›¸å¯¹æ··ä¹±çš„è¾“å…¥æ ¼å¼ç»Ÿä¸€åšäº†ç®€åŒ–ï¼Œâ€&lt;&lt;â€è¿ç®—å·¦ç»“åˆã€‚ 12345678910111213141516171819202122class my_ostream // å®šä¹‰è‡ªå·±çš„è¾“å‡ºæµ&#123;public: my_ostream&amp; operator&lt;&lt; (char c) &#123; printf(\"%c\", c); return *this; &#125; my_ostream&amp; operator&lt;&lt; (const char *str) &#123; printf(\"%s\", str); return *this; &#125;&#125;;int main()&#123; my_ostream my_cout; my_cout &lt;&lt; 'a' &lt;&lt; \"aaa\"; // è¿ç®—ä¸ºå·¦ç»“åˆ return 0;&#125; æ ¼å¼åŒ–è¾“å‡ºï¼Œå€ŸåŠ©æµæ“çºµç®—å­ï¼š 123456789101112131415#include&lt;iomanip&gt;cout &lt;&lt; fixed &lt;&lt; 2018.0 &lt;&lt; \" \" &lt;&lt; 0.0001 &lt;&lt; endl; //æµ®ç‚¹æ•°ï¼Œå°æ•°æœ‰æ•ˆ6ä½ -&gt; 2018.000000 0.000100cout &lt;&lt; scientific &lt;&lt; 2018.0 &lt;&lt; \" \" &lt;&lt; 0.0001 &lt;&lt; endl; //ç§‘å­¦è®¡æ•°æ³• -&gt; 2.018000e+03 1.000000e-04cout &lt;&lt; defaultfloat; //è¿˜åŸé»˜è®¤è¾“å‡ºæ ¼å¼cout &lt;&lt; setprecision(2) &lt;&lt; 3.1415926 &lt;&lt; endl; //è¾“å‡ºç²¾åº¦è®¾ç½®ä¸º2ï¼ŒåŒ…æ‹¬æ•´æ•°+å°æ•° -&gt; 3.1cout &lt;&lt; oct &lt;&lt; 12 &lt;&lt; \" \" &lt;&lt; hex &lt;&lt; 12 &lt;&lt; endl; //å…«è¿›åˆ¶è¾“å‡º -&gt; 14 åå…­è¿›åˆ¶è¾“å‡º -&gt; ccout &lt;&lt; dec; //è¿˜åŸåè¿›åˆ¶cout &lt;&lt; setw(3) &lt;&lt; setfill('*') &lt;&lt; 5 &lt;&lt; endl; //è®¾ç½®å¯¹é½é•¿åº¦ä¸º3ï¼Œå¯¹é½å­—ç¬¦ä¸º* -&gt; **5 endlåŸºæœ¬ç­‰äºè¾“å‡ºâ€™\\nâ€™åå†åˆ·æ–°ç¼“å†²åŒºï¼Œæ˜¯ä¸€ä¸ªå‡½æ•°ï¼ŒåŒæ—¶ä¹Ÿæ˜¯æµæ“çºµç®—å­ã€‚ coutæ— æ³•å¤åˆ¶ï¼Œæ˜¯ä¸€ä¸ªå…¨å±€å¯¹è±¡ã€‚ æ³¨æ„é‡è½½æµè¿ç®—ç¬¦çš„æ–¹å¼: 12ostream&amp; operator&lt;&lt;(const char &amp;c)friend ostream&amp; operator&lt;&lt;(ostream&amp; os, MyClass obj) é‡è½½ â€˜&lt;&lt;â€™ è¿”å›å¼•ç”¨ä»¥é˜²è¿›è¡Œå¤åˆ¶ã€‚ è§‚å¯Ÿostreamçš„æ‹·è´æ„é€ å‡½æ•° 12ostream (const ostream&amp;) = delete;ostream (ostream&amp;&amp; x); æ‹·è´æ„é€ å‡½æ•°è¢«åˆ é™¤ï¼Œåªå…è®¸ç§»åŠ¨ï¼Œé˜²æ­¢å¤åˆ¶ã€‚ æ–‡ä»¶è¾“å…¥è¾“å‡ºæµä»¥ifstreamä¸ºä¾‹ï¼Œæ˜¯istreamå­ç±»ã€‚ æ‰“å¼€æ–‡ä»¶ 123456ifstream ifs(\"input.txt\");ifstream ifs(\"binary.bin\", ifstream::binary);//ä»¥äºŒè¿›åˆ¶å½¢å¼æ‰“å¼€æ–‡ä»¶ifstream ifs;ifs.open(\"file_path\")//do somethingifs.close() å­—ç¬¦ä¸²è¾“å…¥è¾“å‡ºæµstringstreamå¯¹è±¡å†…éƒ¨ç»´æŠ¤äº†ä¸€ä¸ªbufferï¼Œä½¿ç”¨æµè¾“å‡ºå‡½æ•°å¯ä»¥å°†æ•°æ®å†™å…¥bufferï¼Œä½¿ç”¨æµè¾“å…¥å‡½æ•°å¯ä»¥ä»bufferä¸­è¯»å‡ºæ•°æ®ã€‚ 123456789101112stringstream ss; //ç©ºå­—ç¬¦ä¸²æµstringstream ss(str); //ä»¥å­—ç¬¦ä¸²åˆå§‹åŒ–æµ// ...stringstream ss;ss &lt;&lt; \"10\";ss &lt;&lt; \"0 200\";int a, b;ss &gt;&gt; a &gt;&gt; b; //a=100 b=200ss.str(); //è¿”å›ä¸€ä¸ªstringå¯¹è±¡,å†…å®¹ä¸ºstringstreamçš„buffer éœ€è¦æ³¨æ„bufferå†…å®¹å¹¶ä¸æ˜¯æœªè¯»å–çš„å†…å®¹ 123456stringstream ss;ss &lt;&lt; \"100 200\";cout &lt;&lt; ss.str() &lt;&lt; endl; //\"100 200\"int a;ss &gt;&gt; a; // a = 100cout &lt;&lt; ss.str() &lt;&lt; endl; //\"100 200\" sort12345std::sort(); // STLæä¾›çš„æ’åºç®—æ³•ï¼Œé»˜è®¤ä»å°åˆ°å¤§æ’åºï¼Œæ—¶é—´å¤æ‚åº¦O(nlogn)// åŸå‹template&lt;class Iterator&gt; void sort(Iterator first, Iterator last); è‹¥æƒ³ä»å¤§åˆ°å°æ’åºï¼Œåˆ™ 123456789101112131415161718// sortè¿˜é‡è½½äº†å¦ä¸€å¥—å‚æ•°template &lt;class Iterator, class Compare&gt;void sort(Iterator first, Iterator last, Compare comp);// å¯¹äºæ•´å‹bool cmp(int a, int b)&#123; return a &gt; b;&#125;sort(a.begin(), a.end(), cmp); // ä»å¤§åˆ°å°æ’åº// STLæä¾›äº†é¢„å®šä¹‰çš„æ’åºå‡½æ•°// ä»å°åˆ°å¤§sort(a.begin(), a.end(), less&lt;int&gt;());// ä»å¤§åˆ°å°sort(a.begin(), a.end(), greater&lt;int&gt;()); å¯¹äºè‡ªå®šä¹‰çš„ç±»å‹ï¼Œä½¿ç”¨sortæ’åºéœ€è¦è‡ªå·±å®šä¹‰æ¯”è¾ƒè§„åˆ™ï¼Œå¯ä»¥é‡è½½ â€˜&lt;â€™ , â€˜&gt;â€™ è¿ç®—ç¬¦æˆ–è€…å®šä¹‰cmpæ¯”è¾ƒå‡½æ•°ã€‚ æ™ºèƒ½æŒ‡é’ˆä¸å¼•ç”¨è®¡æ•° shared_ptr æ¥è‡ªmemoryå¤´æ–‡ä»¶ 1234#include &lt;memory&gt;shared_ptr&lt;int&gt; p1(new int(1));shared_ptr&lt;int&gt; p2; //ç©ºæŒ‡é’ˆ é€šè¿‡å¼•ç”¨è®¡æ•°çŸ¥é“ä½•æ—¶é”€æ¯èµ„æº 123456789shared_ptr&lt;int&gt; p1(new int(4));cout &lt;&lt; p1.use_count() &lt;&lt; ' ';&#123; shared_ptr&lt;int&gt; p2 = p1; cout &lt;&lt; p1.use_count() &lt;&lt; ' '; cout &lt;&lt; p2.use_count() &lt;&lt; ' ';&#125; //p2å‡ºä½œç”¨åŸŸcout &lt;&lt; p1.use_count() &lt;&lt; ' ';// è¾“å‡º 1 2 2 1 å…¶ä»–ç”¨æ³•ï¼š 1234p.get() //è·å–è£¸æŒ‡é’ˆp.reset() //æ¸…é™¤æŒ‡é’ˆå¹¶å‡å°‘å¼•ç”¨è®¡æ•°static_pointer_cast&lt;int&gt;(p)dynamic_pointer_cast&lt;Base&gt;(p) æ³¨æ„ä¸èƒ½ä½¿ç”¨åŒä¸€è£¸æŒ‡é’ˆåŒæ—¶åˆå§‹åŒ–å¤šä¸ªæ™ºèƒ½æŒ‡é’ˆ 123int* p = new int(); shared_ptr&lt;int&gt; p1(p); shared_ptr&lt;int&gt; p2(p); // wrong !! å…³äºæ™ºèƒ½æŒ‡é’ˆçš„è¯¦ç»†ä»‹ç»éœ€è¦å¦å¤–æŸ¥èµ„æ–™ã€‚ weak_ptr æŒ‡å‘å¯¹è±¡ä½†ä¸è®¡æ•° 1234567shared_ptr&lt;int&gt; sp(new int(3));weak_ptr&lt;int&gt; wp1 = sp;wp.use_count() //è·å–å¼•ç”¨è®¡æ•°wp.reset() //æ¸…é™¤æŒ‡é’ˆwp.expired() //æ£€æŸ¥å¯¹è±¡æ˜¯å¦æ— æ•ˆsp = wp.lock() //ä»å¼±å¼•ç”¨è·å¾—ä¸€ä¸ªæ™ºèƒ½æŒ‡é’ˆ æ —å­ï¼š 123456789101112std::weak_ptr&lt;int&gt; wp;&#123; auto sp1 = std::make_shared&lt;int&gt;(20); wp = sp1; cout &lt;&lt; wp.use_count() &lt;&lt; endl; //1 auto sp2 = wp.lock(); //ä»å¼±å¼•ç”¨ä¸­è·å¾—ä¸€ä¸ªshared_ptr cout &lt;&lt; wp.use_count() &lt;&lt; endl; //2 sp1.reset(); //sp1é‡Šæ”¾æŒ‡é’ˆ cout &lt;&lt; wp.use_count() &lt;&lt; endl; //1&#125; //sp2é”€æ¯cout &lt;&lt; wp.use_count() &lt;&lt; endl; //0cout &lt;&lt; wp.expired() &lt;&lt; endl; //æ£€æŸ¥å¼±å¼•ç”¨æ˜¯å¦å¤±æ•ˆï¼šTrue unique_ptr shared_ptræ¶‰åŠåˆ°å…±äº«è®¡æ•°ï¼Œæ€§èƒ½ç›¸å¯¹è¾ƒå·®ï¼Œä½¿ç”¨unique_ptrå¯ä»¥ä¿è¯æ¯ä¸ªå¯¹è±¡åªè¢«å”¯ä¸€çš„ä¸€ä¸ªæŒ‡é’ˆæ‰€å¼•ç”¨ã€‚ 12345auto up1 = std::make_unique&lt;int&gt;(20);unique_ptr&lt;int&gt; up2 = up1; //é”™è¯¯ï¼Œä¸èƒ½å¤åˆ¶uniqueæŒ‡é’ˆunique_ptr&lt;int&gt; up2 = std::move(up1); //å¯ä»¥ç§»åŠ¨uniqueæŒ‡é’ˆint *p = up2.release(); //æ”¾å¼ƒæŒ‡é’ˆæ§åˆ¶æƒï¼Œè¿”å›è£¸æŒ‡é’ˆdelete p; lambdaè¡¨è¾¾å¼C++11å¼•å…¥lambdaè¡¨è¾¾å¼ä»¥åˆ›å»ºåŒ¿åå‡½æ•°ã€‚ è¯­æ³•å®šä¹‰ 1[æ•è·å‚æ•°] (å‡½æ•°å‚æ•°åˆ—è¡¨) mutable æˆ– exception å£°æ˜ -&gt; è¿”å›å€¼ç±»å‹ &#123;å‡½æ•°ä½“&#125; ä¸€ä¸ªæ —å­ï¼š 1234567int a = 1;auto func = [a] (int x) -&gt; int &#123;return a + x&#125;; // -&gt; int æ˜¾å¼æŒ‡å®šäº†è¿”å›ç±»å‹ï¼Œå½“è¿”å›voidæˆ–è€…ç¼–è¯‘å™¨å¯ä»¥è‡ªåŠ¨æ¨æ–­æ—¶ï¼Œå¯ä»¥çœç•¥cout &lt;&lt; func(3) &lt;&lt; endl; // æŒ‰å€¼æ•è·è¾“å‡º4auto func_2 = [&amp;a] (int x) &#123;return a + x&#125;;a = 2;cout &lt;&lt; func_2(3) &lt;&lt; endl; // æŒ‰å¼•ç”¨æ•è·è¾“å‡º5 [æ•è·å‚æ•°] æ ‡å¿—lambdaè¡¨è¾¾å¼çš„å¼€å§‹ï¼Œä¸æ•è·æ—¶ä¸ºç©ºã€‚å¯ä»¥æŒ‰ç…§å€¼æ•è·ä¹Ÿå¯ä»¥æŒ‰å¼•ç”¨æ•è·ã€‚ä¸€äº›ä¾‹å­ï¼š [] ä¸æ•è·å˜é‡ [a, &amp;b] æŒ‰å€¼æ•è·aï¼Œå¼•ç”¨æ•è·b [this] æŒ‰å€¼æ•è·thisæŒ‡é’ˆ [=] æŒ‰å€¼æ•è·æ‰€æœ‰å¤–éƒ¨å˜é‡ [&amp;] æŒ‰å¼•ç”¨æ•è·æ‰€æœ‰å¤–éƒ¨å˜é‡ [=, &amp;a] æŒ‰å¼•ç”¨æ•è·aï¼Œå…¶ä½™å˜é‡æŒ‰å€¼æ•è· [&amp;, =a] æŒ‰å€¼æ•è·aï¼Œå…¶ä½™å˜é‡æŒ‰å¼•ç”¨æ•è· mutable æˆ– exception å£°æ˜å¯ä»¥çœç•¥ã€‚æŒ‰å€¼ä¼ é€’å‡½æ•°å¯¹è±¡å‚æ•°æ—¶ï¼ŒåŠ ä¸Š mutable ä¿®é¥°ç¬¦åï¼Œå¯ä»¥ä¿®æ”¹ä¼ é€’è¿›æ¥çš„æ‹·è´ï¼ˆæ³¨æ„æ˜¯èƒ½ä¿®æ”¹æ‹·è´ï¼Œè€Œä¸æ˜¯å€¼æœ¬èº«ï¼‰ï¼Œexception å£°æ˜ç”¨äºæŒ‡å®šå‡½æ•°æŠ›å‡ºçš„å¼‚å¸¸ï¼Œå¦‚æŠ›å‡ºæ•´æ•°ç±»å‹çš„å¼‚å¸¸ï¼Œå¯ä»¥ä½¿ç”¨ throw(int)ã€‚ æ­£åˆ™è¡¨è¾¾å¼æ­£åˆ™è¡¨è¾¾å¼æ˜¯æ–‡æœ¬æœç´¢æ—¶è¿›è¡ŒåŒ¹é…çš„ä¸€ç§è§„åˆ™ã€‚ å•ç‹¬å­—ç¬¦ï¼ŒåŒ¹é…å­—ç¬¦æœ¬èº«ã€‚ è½¬ä¹‰å­—ç¬¦ï¼Œä¾‹å¦‚ â€˜\\nâ€™ åŒ¹é…æ¢è¡Œç¬¦ï¼Œ â€˜\\tâ€™ åŒ¹é…åˆ¶è¡¨ç¬¦ã€‚ ç‰¹æ®Šå­—ç¬¦ï¼Œâ€™^â€™ åŒ¹é…å¼€å¤´ï¼Œâ€™$â€™åŒ¹é…ç»“å°¾ï¼Œ â€˜^hello$â€™å°±å¯åŒ¹é…åªå«æœ‰helloçš„å†…å®¹ [abc] åŒ¹é…å…¶ä¸­çš„ä»»æ„å•ä¸ªå­—ç¬¦ [a-z] åŒ¹é…æ‰€æœ‰å°å†™å­—æ¯ [0-9] åŒ¹é…æ‰€æœ‰å•ä¸ªæ•°å­— []ä¸­çš„å†…å®¹åŠ  â€˜^â€™ å¯ä»¥å–åï¼Œå³è¡¨ç¤ºä¸åŒ¹é…ã€‚ 12[^abc] è¡¨ç¤ºä¸åŒ¹é…aï¼Œbï¼Œc[^a-z] è¡¨ç¤ºä¸åŒ¹é…å°å†™å­—æ¯ []]å¯ä»¥è¿ç”¨ï¼Œä¾‹å¦‚ 1[a-z][0-9] ç‰¹æ®Šå­—ç¬¦ 1234567&#39;.&#39; å¯ä»¥åŒ¹é…é™¤æ¢è¡Œç¬¦ä»¥å¤–çš„ä»»æ„å­—ç¬¦\\d ç­‰ä»·äº [0-9]\\D ç­‰ä»·äº [^0-9]\\s åŒ¹é…æ‰€æœ‰ç©ºç™½å­—ç¬¦\\S åŒ¹é…æ‰€æœ‰éç©ºç™½å­—ç¬¦\\w åŒ¹é…å­—æ¯æ•°å­—å’Œä¸‹åˆ’çº¿\\W åŒ¹é…éå­—æ¯æ•°å­—å’Œä¸‹åˆ’çº¿ x{n,m}ä»£è¡¨å‰é¢å†…å®¹å‡ºç°æ¬¡æ•°é‡å¤n~mæ¬¡ 12345678a&#123;4&#125; åŒ¹é…aaaaa&#123;2,4&#125; åŒ¹é…aaæˆ–aaaæˆ–aaaaa&#123;2,&#125; åŒ¹é…é•¿åº¦å¤§äºç­‰äº2çš„[a-z]&#123;5,12&#125; ä»£è¡¨ä¸ºé•¿åº¦ä¸º5~12çš„è‹±æ–‡å­—æ¯ç»„åˆ.&#123;5&#125; æ‰€æœ‰é•¿åº¦ä¸º5çš„å­—ç¬¦? ç­‰ä»·&#123;0,1&#125;+ ç­‰ä»·&#123;1,&#125;* ç­‰ä»·&#123;0,&#125; æˆ–è¿æ¥ç¬¦ åŒ¹é…æ¨¡å¼å¯ä»¥ä½¿ç”¨ â€˜|â€™ è¿›è¡Œè¿æ¥ 12(Chapter|Section) [1-9][0-9]? å¯ä»¥åŒ¹é…Chapter 1ã€Section 10ç­‰0\\d&#123;2&#125;-\\d&#123;8&#125;|0\\d&#123;3&#125;-\\d&#123;7&#125; å¯ä»¥åŒ¹é…010-12345678ã€0376-2233445 ä½¿ç”¨ ()æ”¹å˜ä¼˜å…ˆçº§ 12m|food å¯ä»¥åŒ¹é…m æˆ–è€… food(m|f)ood å¯ä»¥åŒ¹é…mood æˆ–è€… food ä»¥()æ ‡è¯†çš„éƒ¨åˆ†è¢«ç§°ä½œåˆ†ç»„ 123456* æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…åï¼Œæ¯ä¸ªåˆ†ç»„çš„å†…å®¹å°†è¢«æ•è·* ç”¨äºæå–å…³é”®ä¿¡æ¯ï¼Œä¾‹å¦‚version(\\d+)å³å¯æ•è·ç‰ˆæœ¬å·* åˆ†ç»„ä¼šæŒ‰é¡ºåºæ ‡å·* 0å·æ°¸è¿œæ˜¯åŒ¹é…çš„å­—ç¬¦ä¸²æœ¬èº«* (a)(pple) 0å·ä¸ºapple 1å·ä¸ºa 2å·ä¸ºppleä½¿ç”¨(?:pattern)å¯ä»¥ä¸æ•è·è¯¥åˆ†ç»„ é¢„æŸ¥ åå‘å¼•ç”¨ è´ªå©ªä¸æ‡’æƒ° to do åŸç”Ÿå­—ç¬¦ä¸² 12345æ­£åˆ™è¡¨è¾¾å¼ä¸­å¾€å¾€ä¼šæœ‰å¾ˆå¤š\\ï¼Œå­—ç¬¦ä¸²è¡¨ç¤ºæ—¶åº”å†™æˆ\\\\åŸç”Ÿå­—ç¬¦ä¸²å¯ä»¥å–æ¶ˆè½¬ä¹‰ï¼Œä¿ç•™å­—é¢å€¼è¯­æ³•ï¼šR&quot;(str)&quot; è¡¨ç¤ºstrçš„å­—é¢å€¼&quot;\\\\d+&quot; &#x3D; R&quot;(\\d+)&quot; &#x3D; \\d+ æ­£åˆ™è¡¨è¾¾å¼åº“regexæ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„ä¸‰ç§æ¨¡å¼ åŒ¹é… è¯¢é—®å­—ç¬¦ä¸²æ˜¯å¦èƒ½åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼ï¼Œå¹¶æ•è·ç›¸åº”åˆ†ç»„ regex_match æ›¿æ¢ æ›¿æ¢å­—ç¬¦ä¸²ä¸­åŒ¹é…çš„å­ä¸²ï¼Œå¹¶æ›¿æ¢æˆç›¸åº”å†…å®¹ regex_replace æœç´¢ æœç´¢å­—ç¬¦ä¸²ä¸­åŒ¹é…çš„å­ä¸²ï¼Œå¹¶æ•è·ç›¸åº”åˆ†ç»„ regex_search æ —å­ 123456789string s(\"subject\");regex e(R\"(sub)(.*)\");smatch sm;regex_match(s,sm,e);cout &lt;&lt; sm.size() &lt;&lt; \" matches\\n\";cout &lt;&lt; \"the matches were: \";for (unsigned i=0; i&lt;sm.size(); ++i) &#123; cout &lt;&lt; \"[\" &lt;&lt; sm[i] &lt;&lt; \"] \"ï¼›&#125; è¾“å‡ºï¼š3 matchesthe matches were: [subject] [sub] [ject] å…³äºregexåº“æ›´è¯¦ç»†çš„ç”¨æ³•éœ€è¦å‚è€ƒä¸“ä¸šèµ„æ–™ã€‚","categories":[],"tags":[{"name":"OOP","slug":"OOP","permalink":"http://believebest35.github.io/tags/OOP/"}]},{"title":"é¢å‘å¯¹è±¡_æ¨¡ç‰ˆå’ŒSTLåˆæ­¥","slug":"OOP-THU-7","date":"2020-10-13T02:31:17.000Z","updated":"2020-10-13T12:14:52.676Z","comments":true,"path":"2020/10/13/OOP-THU-7/","link":"","permalink":"http://believebest35.github.io/2020/10/13/OOP-THU-7/","excerpt":"å‡½æ•°æ¨¡æ¿å’Œç±»æ¨¡æ¿ç»§æ‰¿å’Œç»„åˆæä¾›äº†é‡ç”¨å¯¹è±¡ä»£ç çš„æ–¹æ³•ï¼Œè€Œæ¨¡æ¿ç‰¹å¾åˆ™æä¾›äº†é‡ç”¨æºä»£ç çš„æ–¹æ³•ã€‚ é¦–å…ˆè€ƒè™‘ä¸‹é¢çš„ä¸€ä¸ªé—®é¢˜ï¼š 1234void sort(int *data, int len);void sort(float *data, int len);void sort(my_class *data, int len);// ...","text":"å‡½æ•°æ¨¡æ¿å’Œç±»æ¨¡æ¿ç»§æ‰¿å’Œç»„åˆæä¾›äº†é‡ç”¨å¯¹è±¡ä»£ç çš„æ–¹æ³•ï¼Œè€Œæ¨¡æ¿ç‰¹å¾åˆ™æä¾›äº†é‡ç”¨æºä»£ç çš„æ–¹æ³•ã€‚ é¦–å…ˆè€ƒè™‘ä¸‹é¢çš„ä¸€ä¸ªé—®é¢˜ï¼š 1234void sort(int *data, int len);void sort(float *data, int len);void sort(my_class *data, int len);// ... ä»¥ä¸Šçš„æ’åºç®—æ³•çš„å®ç°ç»†èŠ‚æ˜¯ä¸€è‡´çš„ï¼Œä»…ä»…åªæœ‰æ•°æ®ï¼ˆå¯¹è±¡ï¼‰çš„ç±»å‹ä¸åŒï¼Œå› æ­¤æœ‰å¿…è¦é€šè¿‡æŸç§æ–¹å¼æ¥é‡ç”¨ä»£ç ã€‚å› æ­¤éœ€è¦å¼•å…¥æ¨¡æ¿ç‰¹å¾ã€‚æ¨¡æ¿å¯ä»¥åˆ†ä¸ºï¼š å‡½æ•°æ¨¡æ¿ ç±»æ¨¡æ¿ æˆå‘˜å‡½æ•°æ¨¡æ¿ å‡½æ•°æ¨¡æ¿æœ‰äº›å‡½æ•°çš„å®ç°ä¸ç±»å‹æ— å…³ï¼Œå› æ­¤å¯ä»¥å°†ç±»å‹è®¾ç½®ä¸ºä¸€ç§ç‰¹æ®Šçš„â€œå‚æ•°â€ï¼Œè¿™æ ·å°±å¯ä»¥å¾—åˆ°å‡½æ•°æ¨¡æ¿ã€‚ å®šä¹‰å‡½æ•°æ¨¡æ¿çš„æ–¹æ³•ï¼š 12template&lt;typename T&gt; returnTypeFunc(Args) returnTypeè¡¨ç¤ºå‡½æ•°æ¨¡æ¿å°†ä¼šè¿”å›çš„ç±»å‹ï¼Œä¹Ÿå¯ä»¥å†™æˆtemplateè¡¨ç¤ºçš„ï¼Œè¯´æ˜è¿”å›çš„ç±»å‹ä¹Ÿä¸ç¡®å®šã€‚ ç®€å•çš„ç›¸åŠ å‡½æ•°æ¨¡æ¿å°±å¯ä»¥å®šä¹‰å¦‚ä¸‹ï¼š 12345template&lt;typename T&gt;T sum(T a, T b)&#123; return a + b;&#125; å‡½æ•°æ¨¡æ¿åœ¨å®é™…è°ƒç”¨æ—¶ä¼šæ ¹æ®è°ƒç”¨å‚æ•°çš„å®é™…ç±»å‹å®ä¾‹åŒ–ä¸ºä¸€ä¸ªæ™®é€šå‡½æ•°ï¼Œä½†æ˜¯éœ€è¦å®é™…çš„ç±»å‹èƒ½å¤Ÿæ»¡è¶³å‡½æ•°çš„è¿ç®—è¦æ±‚ï¼Œä¾‹å¦‚ä¸Šä¾‹ä¸­è¦æ±‚å¯¹è±¡ç±»å‹å¯ä»¥è¿›è¡ŒåŠ æ³•è¿ç®—ã€‚ ä¹Ÿå¯ä»¥åŒæ—¶æŒ‡å®šå¤šä¸ªæ¨¡ç‰ˆå‚æ•°ï¼Œä¾‹å¦‚ï¼š 12345template&lt;typename T1, typename T2&gt;T1 sum(T1 a, T2, b)&#123; return a + b;&#125; ä»¥ä¸Šè¦æ±‚ä¸¤ä¸ªç±»å‹ä¹‹é—´å¯ä»¥è¿›è¡Œç›¸åŠ å¹¶å¯è¿›è¡Œç±»å‹è½¬æ¢ã€‚ å¯ä»¥æ‰‹åŠ¨æŒ‡å®šè°ƒç”¨ç±»å‹ 1cout &lt;&lt; sum&lt;int&gt;(1 + 2) &lt;&lt; endl; ç±»æ¨¡ç‰ˆåœ¨å®šä¹‰ç±»æ—¶ä¹Ÿå¯ä»¥ç”¨ä¸€äº›æ¨¡æ¿å‚æ•°ä½¿å¾—ç±»æ›´å…·æœ‰é€šç”¨æ€§ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 12345678910111213141516171819202122template&lt;typename T&gt;class A&#123;private: T data;public: void func_1() &#123; cout &lt;&lt; data &lt;&lt; endl; &#125; void func_2();&#125;;template&lt;typename T&gt;void A&lt;T&gt;::func_2() // æ¨¡ç‰ˆç±»æˆå‘˜å‡½æ•°çš„ç±»å¤–å®šä¹‰ï¼Œæ¨¡ç‰ˆå£°æ˜å¿…é¡»åŠ ä¸Šï¼Œå¦åˆ™ç¼–è¯‘æŠ¥é”™&#123; cout &lt;&lt; data &lt;&lt; endl;&#125;int main()&#123; A&lt;int&gt; a; a.func_1(); // ...&#125; ç±»æ¨¡ç‰ˆçš„å‚æ•°ï¼š ç±»å‹å‚æ•°ï¼šä½¿ç”¨typenameæˆ–classè¿›è¡Œæ ‡è®° éç±»å‹å‚æ•°ï¼šæ•´æ•°ï¼Œæšä¸¾ï¼ŒæŒ‡é’ˆï¼ˆæŒ‡å‘å¯¹è±¡æˆ–å‡½æ•°ï¼‰ï¼Œå¼•ç”¨ï¼ˆå¼•ç”¨å¯¹è±¡æˆ–å¼•ç”¨å‡½æ•°ï¼‰ç­‰ï¼Œå…¶ä¸­æ•´æ•°ç”¨çš„æ¯”è¾ƒå¤šã€‚ç¤ºä¾‹ï¼š 1234567891011template&lt;typename T, unsigned size&gt;class array&#123; T data[size]; // ...&#125;;int main()&#123; array&lt;int, 10&gt; arr;&#125; æˆå‘˜å‡½æ•°æ¨¡æ¿æ™®é€šç±»çš„æˆå‘˜å‡½æ•°ä¹Ÿå¯ä»¥å®šä¹‰å‡½æ•°æ¨¡ï¼Œç¤ºä¾‹ï¼š 12345678910111213141516171819class normal_class&#123;public: int value; /// åœ¨ç±»å†…å®šä¹‰ template&lt;typename T&gt; void set(T const&amp; v) &#123; value = int(v); &#125; template&lt;typename T&gt; T get();&#125;;template&lt;typename T&gt; /// åœ¨ç±»å¤–å®šä¹‰T normal_class::get()&#123; return T(value); &#125; æ—¢å¯ä»¥åœ¨ç±»ä¸­å®šä¹‰ï¼Œä¹Ÿå¯ä»¥åœ¨ç±»å¤–è¿›è¡Œå®šä¹‰ã€‚ æ™®é€šç±»æ¨¡æ¿çš„æˆå‘˜å‡½æ•°ï¼Œä¹Ÿå¯æœ‰é¢å¤–çš„æ¨¡æ¿å‚æ•°ã€‚ç¤ºä¾‹ï¼š 123456789101112131415161718192021222324252627282930template&lt;typename T0&gt;class A&#123; T0 value; public: /// åœ¨ç±»å†…å®šä¹‰ template&lt;typename T1&gt; void set(T1 const&amp; v) &#123; value = T0(v); &#125; template&lt;typename T1&gt; T1 get();&#125;;/// ç±»å¤–å®šä¹‰template&lt;typename T0&gt; template&lt;typename T1&gt; // åé¢çš„template&lt;typename T1&gt;è¡¨ç¤ºè¯¥å‡½æ•°çš„è¿”å›ç±»å‹ä¸ç¡®å®šT1 A&lt;T0&gt;::get()&#123; return T1(value);&#125;/// æ³¨æ„ä»¥ä¸‹å†™æ³•æ˜¯é”™è¯¯çš„/*template&lt;typename T0, typename T1&gt; T1 A&lt;T0&gt;::get()&#123; return T1(value);&#125;*/ æ€»ç»“ï¼š å¤šä¸ªå‚æ•°çš„ç±»æ¨¡æ¿ï¼š 12template&lt;typename T0, typename T1&gt; class A &#123;&#125; å¤šä¸ªå‚æ•°çš„å‡½æ•°æ¨¡æ¿ 12template&lt;typename T0, typename T1&gt; void func( T0 a1, T1 a2 ) &#123;&#125; å‡½æ•°æ¨¡æ¿ç‰¹åŒ–æœ‰äº›ç±»å‹å½“å‰çš„å‡½æ•°æ¨¡æ¿ä¸èƒ½è¿›è¡Œå¤„ç†ï¼Œå› æ­¤éœ€è¦å¯¹æ¨¡ç‰ˆè¿›è¡Œç‰¹æ®ŠåŒ–å¤„ç†ï¼Œè¿™ç§°ä¸ºå‡½æ•°æ¨¡æ¿ç‰¹åŒ–ã€‚å‡½æ•°æ¨¡æ¿ç‰¹åŒ–éœ€è¦æä¾›æ‰€æœ‰æ¨¡æ¿å‚æ•°çš„å…·ä½“ç±»å‹ï¼Œä¸èƒ½è¿›è¡Œéƒ¨åˆ†ç‰¹åŒ–ï¼Œè‹¥è¦éƒ¨åˆ†ç‰¹åŒ–ï¼Œåˆ™éœ€è¦å¦å¼€æ¨¡æ¿å¹¶é‡è½½ã€‚ä¸‹é¢ä¸¾ä¸€ä¸ªæ —å­ï¼š 12345678// æ³›å‹ç‰ˆæœ¬template &lt;class T&gt; int compare(const T &amp;v1, const T &amp;v2)&#123; if(v1 &lt; v2) return -1; if(v2 &gt; v1) return 1; return 0;&#125; å½“å®é™…å‚æ•°ä¸ºä¸¤ä¸ªcharå‹æŒ‡é’ˆæ—¶ï¼Œè‹¥è¦æ±‚æ¯”è¾ƒçš„æ˜¯charå‹æŒ‡é’ˆæŒ‡å‘å†…å®¹çš„å¤§å°è€Œä¸æ˜¯åœ°å€å¤§å°ï¼Œéœ€è¦å¯¹ä¸Šè¿°å‡½æ•°æ¨¡æ¿è¿›è¡Œç‰¹åŒ–ã€‚ 123456// ç‰¹åŒ–ç‰ˆæœ¬template &lt;&gt; int compare&lt;const char *&gt;(const char * const &amp;v1, const char * const &amp;v2)&#123; return strcmp(v1, v2);&#125;// è¿œç¦»Cé£æ ¼å­—ç¬¦ä¸²ã€‚ã€‚ã€‚ å‡½æ•°ç‰¹åŒ–çš„å¦å¤–ä¸€ä¸ªæ —å­ï¼š 1234567891011template&lt;typename T&gt;T div2(const T &amp;val)&#123; return val / 2;&#125;template&lt;&gt;int div2&lt;int&gt;(const int &amp;val)&#123; return val &gt;&gt; 1; // æ•´å‹é™¤æ³•&#125; ç±»æ¨¡æ¿ç‰¹åŒ–å¯¹äºç±»æ¨¡æ¿ï¼Œå…è®¸éƒ¨åˆ†ç‰¹åŒ–ï¼Œå³éƒ¨åˆ†é™åˆ¶æ¨¡æ¿çš„é€šç”¨æ€§ï¼Œå¦‚é€šç”¨æ¨¡æ¿ä¸ºï¼š 1template&lt;typename T1, typename T2&gt; class A &#123; ... &#125;; éƒ¨åˆ†ç‰¹åŒ– 1template&lt;typename T1&gt; class A&lt;T1, int&gt; &#123;...&#125;; //æŒ‡å®šç¬¬äºŒä¸ªå‚æ•°ä¸ºint å…¨éƒ¨ç‰¹åŒ– 1template&lt;&gt; class A&lt;int, int&gt; &#123; ... &#125;; // æŒ‡å®šäº†æ‰€æœ‰å‚æ•° æ¨¡æ¿åŸç†å¯¹äºæ¨¡æ¿çš„å¤„ç†æ˜¯åœ¨ç¼–è¯‘æ—¶è¿›è¡Œçš„ï¼Œç¼–è¯‘å™¨æ¯å‘ç°ä¸€ä¸ªæ¨¡æ¿ç¤ºä¾‹ï¼Œå°±ç”Ÿæˆå¯¹åº”çš„ä»£ç ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ¨¡æ¿åº“å¿…é¡»åœ¨å¤´æ–‡ä»¶ä¸­è¿›è¡Œå®ç°ï¼Œä¸å¯ä»¥åˆ†å¼€è¿›è¡Œç¼–è¯‘ï¼Œå› ä¸ºè‹¥åˆ†å¼€ï¼Œåˆ™ç¼–è¯‘å™¨ä¸çŸ¥é“å…·ä½“çš„å‡½æ•°æ¨¡æ¿å®ä¾‹å¦‚ä½•åˆå§‹åŒ–ï¼Œä¼šäº§ç”Ÿé“¾æ¥é”™è¯¯ã€‚ å‘½åç©ºé—´ä¸ºäº†é¿å…åœ¨å¤§è§„æ¨¡ç¨‹åºçš„è®¾è®¡ä¸­ï¼Œä»¥åŠåœ¨ç¨‹åºå‘˜ä½¿ç”¨å„ç§å„æ ·çš„C++åº“æ—¶ï¼Œæ ‡è¯†ç¬¦çš„å‘½åå‘ç”Ÿå†²çªï¼Œæ ‡å‡†C++å¼•å…¥äº†å…³é”®å­—namespaceï¼ˆå‘½åç©ºé—´ï¼‰ï¼Œå¯ä»¥æ›´å¥½åœ°æ§åˆ¶æ ‡è¯†ç¬¦çš„ä½œç”¨åŸŸã€‚ æ ‡å‡†C++åº“ï¼ˆä¸åŒ…æ‹¬æ ‡å‡†Cåº“ï¼‰ä¸­æ‰€åŒ…å«çš„æ‰€æœ‰å†…å®¹ï¼ˆåŒ…æ‹¬å¸¸é‡ã€å˜é‡ã€ç»“æ„ã€ç±»å’Œå‡½æ•°ç­‰ï¼‰éƒ½è¢«å®šä¹‰åœ¨å‘½åç©ºé—´stdï¼ˆstandardæ ‡å‡†ï¼‰ä¸­ã€‚ 123456789101112131415161718// å®šä¹‰å‘½åç©ºé—´namespace A&#123; int x, y;&#125;// ä½¿ç”¨å‘½åç©ºé—´A::x = 3;A::y = 4;// ç›´æ¥ä½¿ç”¨éƒ¨åˆ†å…ƒç´ using A::x;x = 3;// ä½¿ç”¨æ•´ä¸ªå‘½åç©ºé—´using namespace A;x = 3;y = 4; STLæ ‡å‡†æ¨¡æ¿åº“ï¼Œå…¶ä¸­åŒ…å«4ä¸ªç»„ä»¶ï¼Œåˆ†åˆ«ä¸ºç®—æ³•ã€å®¹å™¨ã€å‡½æ•°ã€è¿­ä»£å™¨ã€‚åŸºäºæ¨¡æ¿è¿›è¡Œç¼–å†™ã€‚ å…³é”®ç†å¿µï¼šå°†â€œåœ¨æ•°æ®ä¸Šæ‰§è¡Œçš„æ“ä½œâ€ä¸â€œè¦æ‰§è¡Œæ“ä½œçš„æ•°æ®â€åˆ†ç¦»ã€‚ STLçš„å‘½åç©ºé—´ä¸ºstdã€‚ å…³äºSTLä¸­å…·ä½“å®¹å™¨çš„ä»‹ç»å¯ç›´æ¥æŸ¥çœ‹æ–‡æ¡£ã€‚","categories":[],"tags":[{"name":"OOP","slug":"OOP","permalink":"http://believebest35.github.io/tags/OOP/"}]},{"title":"é¢å‘å¯¹è±¡_è™šå‡½æ•°ä¸å¤šæ€","slug":"OOP-THU-6","date":"2020-10-11T11:08:48.000Z","updated":"2020-10-13T12:16:44.553Z","comments":true,"path":"2020/10/11/OOP-THU-6/","link":"","permalink":"http://believebest35.github.io/2020/10/11/OOP-THU-6/","excerpt":"å‡½æ•°è°ƒç”¨æ†ç»‘é¦–å…ˆæ˜ç¡®C++ä¸­æ†ç»‘çš„æ¦‚å¿µï¼Œæ†ç»‘ï¼ˆbindingï¼‰æŒ‡çš„æ˜¯å°†å‡½æ•°çš„è°ƒç”¨ä¸å‡½æ•°çš„å®ç°éƒ¨åˆ†ï¼ˆå‡½æ•°ä½“ï¼‰ç›¸è”ç³»èµ·æ¥ï¼Œå³å°†å‡½æ•°ä½“å®ç°ä»£ç çš„å…¥å£åœ°å€ä¸è°ƒç”¨çš„å‡½æ•°åç›¸ç»‘å®šï¼Œç¨‹åºæ‰§è¡Œåˆ°å‡½æ•°è°ƒç”¨æ—¶ä¼šç›´æ¥è¿›å…¥åˆ°å‡½æ•°å®ç°ä»£ç ã€‚ æ†ç»‘å¯åˆ†ä¸ºæ—©æ†ç»‘å’Œæ™šæ†ç»‘ä¸¤ä¸ªç±»åˆ«ã€‚","text":"å‡½æ•°è°ƒç”¨æ†ç»‘é¦–å…ˆæ˜ç¡®C++ä¸­æ†ç»‘çš„æ¦‚å¿µï¼Œæ†ç»‘ï¼ˆbindingï¼‰æŒ‡çš„æ˜¯å°†å‡½æ•°çš„è°ƒç”¨ä¸å‡½æ•°çš„å®ç°éƒ¨åˆ†ï¼ˆå‡½æ•°ä½“ï¼‰ç›¸è”ç³»èµ·æ¥ï¼Œå³å°†å‡½æ•°ä½“å®ç°ä»£ç çš„å…¥å£åœ°å€ä¸è°ƒç”¨çš„å‡½æ•°åç›¸ç»‘å®šï¼Œç¨‹åºæ‰§è¡Œåˆ°å‡½æ•°è°ƒç”¨æ—¶ä¼šç›´æ¥è¿›å…¥åˆ°å‡½æ•°å®ç°ä»£ç ã€‚ æ†ç»‘å¯åˆ†ä¸ºæ—©æ†ç»‘å’Œæ™šæ†ç»‘ä¸¤ä¸ªç±»åˆ«ã€‚ æ—©æ†ç»‘ï¼ˆearly bindingï¼‰ åœ¨ç¨‹åºè¿è¡Œä¹‹å‰ï¼ˆå³ç¼–è¯‘æ—¶ï¼‰å·²ç»ç¡®å®šäº†å‡½æ•°è°ƒç”¨ä¸å…·ä½“çš„å‡½æ•°ä½“ä¹‹é—´çš„ç»‘å®šå…³ç³»ï¼Œè¿è¡Œä¹‹å‰å¯ä»¥çŸ¥é“å‡½æ•°è°ƒç”¨å°†ä¼šè¿›å…¥å“ªä¸ªå‡½æ•°ä½“ï¼Œè¿™ä¼šå¯¼è‡´å¦‚ä¸‹çš„é—®é¢˜ï¼š 12345678910111213141516171819202122232425#include &lt;iostream&gt;using namespace std;class Instrument&#123;public: void play() &#123; cout &lt;&lt; \"Instrument::play\" &lt;&lt; endl; &#125;&#125;;class Wind : public Instrument&#123;public: void play() &#123; cout &lt;&lt; \"Wind::play\" &lt;&lt; endl; &#125; /// é‡å†™éšè—&#125;;void tune(Instrument&amp; i)&#123; i.play();&#125;int main()&#123; Wind flute; tune(flute); /// å‘ä¸Šç±»å‹è½¬æ¢&#125; ä»¥ä¸Šçš„ç¨‹åºè¿è¡Œåå®é™…ä¼šè¾“å‡ºâ€œInstrument::playâ€ï¼Œè¿™å°±æ˜¯ç”±äºtune()ä¸­çš„i.play()å’ŒInstrument::play()çš„æ—©æ†ç»‘æ‰€å¯¼è‡´çš„ã€‚ æ™šæ†ç»‘ï¼ˆlate bindingï¼‰ ä¸æ—©æ†ç»‘ç›¸å¯¹åº”ï¼Œæ™šæ†ç»‘å‘ç”Ÿåœ¨ç¨‹åºè¿è¡Œæ—¶ï¼Œå³ç¨‹åºè¿è¡Œä¹‹åæ‰çŸ¥é“å‡½æ•°è°ƒç”¨çš„æ‰€å…³è”çš„å…·ä½“å‡½æ•°ä½“ã€‚æ™šæ†ç»‘åªé’ˆå¯¹ç±»ä¸­çš„è™šå‡½æ•°èµ·ä½œç”¨ã€‚ è™šå‡½æ•°å¯¹äºè¢«æ´¾ç”Ÿç±»é‡æ–°å®šä¹‰çš„æˆå‘˜å‡½æ•°ï¼Œè‹¥å®ƒåœ¨åŸºç±»ä¸­è¢«å£°æ˜ä¸ºè™šå‡½æ•°ï¼Œåˆ™é€šè¿‡åŸºç±»æŒ‡é’ˆæˆ–å¼•ç”¨è°ƒç”¨è¯¥æˆå‘˜å‡½æ•°æ—¶ï¼Œç¼–è¯‘å™¨å°†æ ¹æ®æ‰€æŒ‡ï¼ˆæˆ–å¼•ç”¨ï¼‰å¯¹è±¡çš„å®é™…ç±»å‹å†³å®šæ˜¯è°ƒç”¨åŸºç±»ä¸­çš„å‡½æ•°ï¼Œè¿˜æ˜¯è°ƒç”¨æ´¾ç”Ÿç±»é‡å†™çš„å‡½æ•°ã€‚è™šå‡½æ•°å®šä¹‰è¯´æ˜å¦‚ä¸‹ï¼š 123456class base&#123;public: virtual returnType Func(argument); // è™šå‡½æ•°å®šä¹‰ // ...&#125; åªè¦æŸæˆå‘˜å‡½æ•°åœ¨åŸºç±»ä¸­è¢«å£°æ˜ä¸ºè™šå‡½æ•°ï¼Œå…¶æ´¾ç”Ÿç±»ä¸­çš„åŒååŒå‚æ•°æˆå‘˜å‡½æ•°ï¼ˆé‡å†™è¦†ç›–ï¼‰ä¹Ÿä¼šæ˜¯è™šå‡½æ•°ï¼ˆä¸è®ºåœ¨æ´¾ç”Ÿç±»ä¸­æ˜¯å¦å£°æ˜ä¸ºè™šå‡½æ•°ï¼‰ã€‚ ä½¿ç”¨è™šå‡½æ•°ï¼Œæ—©æ†ç»‘çš„é—®é¢˜å³å¯è§£å†³ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425#include &lt;iostream&gt;using namespace std;class Instrument&#123;public: virtual void play() &#123; cout &lt;&lt; \"Instrument::play\" &lt;&lt; endl; &#125;&#125;;class Wind : public Instrument&#123;public: void play() &#123; cout &lt;&lt; \"Wind::play\" &lt;&lt; endl; &#125; /// é‡å†™è¦†ç›–&#125;;void tune(Instrument&amp; i)&#123; i.play(); // å‡½æ•°è¿è¡Œåˆ°è¿™æ—¶æ ¹æ®içš„å®é™…ç±»å‹è°ƒç”¨å¯¹åº”çš„å‡½æ•°ï¼Œå®ç°äº†åŠ¨æ€å¤šæ€ã€‚&#125;int main()&#123; Wind flute; tune(flute); /// å‘ä¸Šç±»å‹è½¬æ¢&#125; å®é™…ä¼šè¾“å‡ºâ€œwind::playâ€ã€‚ æ³¨æ„æ™šæ†ç»‘åªå¯¹æŒ‡é’ˆæˆ–è€…å¼•ç”¨ç±»å‹æœ‰æ•ˆã€‚ è™šå‡½æ•°è¡¨ç¨‹åºè¿è¡Œæ—¶å¯¹è±¡è¦ä¿å­˜è‡ªèº«å®é™…ç±»å‹çš„ä¿¡æ¯ï¼Œè¿™äº›ä¿¡æ¯å­˜å‚¨åœ¨è™šå‡½æ•°è¡¨é‡Œã€‚ è™šå‡½æ•°è¡¨ï¼šæ¯ä¸ªåŒ…å«è™šå‡½æ•°çš„ç±»ç”¨äºå­˜å‚¨è™šå‡½æ•°åœ°å€çš„è¡¨ã€‚ æ¯ä¸ªåŒ…å«è™šå‡½æ•°çš„ç±»çš„å¯¹è±¡å‡æœ‰ä¸€ä¸ªæŒ‡å‘è¯¥ç±»è™šå‡½æ•°åœ°å€çš„æŒ‡é’ˆï¼ˆè™šå‡½æ•°æŒ‡é’ˆï¼Œvpointer/VPTRï¼‰ï¼Œå½“å‘ç”Ÿè™šå‡½æ•°è°ƒç”¨çš„æ—¶å€™é€šè¿‡è™šå‡½æ•°æŒ‡é’ˆè·å–è™šå‡½æ•°è¡¨åœ°å€ï¼Œç„¶ååœ¨è™šå‡½æ•°è¡¨ä¸­æŸ¥è¯¢å¯¹åº”çš„è™šå‡½æ•°å®ç°ä»£ç çš„åœ°å€ï¼Œä»¥å®ç°æ™šç»‘å®šã€‚ è‹¥æ´¾ç”Ÿç±»ä¸­æŸè™šå‡½æ•°fun()æ²¡æœ‰è¿›è¡Œé‡å†™è¦†ç›–ï¼Œåˆ™æ´¾ç”Ÿç±»å’ŒåŸºç±»ä¸­çš„è™šå‡½æ•°è¡¨fun()æŒ‡å‘åŒä¸€ä¸ªè™šå‡½æ•°ä½“ã€‚ è™šå‡½æ•°ä¸æ„é€ å‡½æ•°åŒ…å«è™šå‡½æ•°çš„å¯¹è±¡åˆå§‹åŒ–æ—¶éœ€è¦è®¾ç½®è™šæŒ‡é’ˆï¼Œè™šå‡½æ•°æŒ‡é’ˆçš„åˆå§‹åŒ–ç”±æ„é€ å‡½æ•°è‡ªåŠ¨çš„è¿›è¡Œï¼Œä¸éœ€è¦ç¨‹åºå‘˜æ˜¾å¼å†™å‡ºã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ„é€ å‡½æ•°ä¸èƒ½ä¹Ÿä¸å¿…è¦å£°æ˜ä¸ºè™šå‡½æ•°ã€‚ è®²ä¹‰ä¹‹ä¸­æœ‰è¯´æ˜åœ¨æ„é€ å‡½æ•°ä¸­è°ƒç”¨è™šå‡½æ•°çš„æƒ…å†µï¼Œå®é™…è¿è¡Œçš„å‡½æ•°ä¼šæ˜¯è™šå‡½æ•°çš„æœ¬åœ°ç‰ˆæœ¬ï¼ˆå½“å‰ç±»çš„ç‰ˆæœ¬ï¼‰ï¼Œå³è™šå‡½æ•°å¤šæ€çš„æœºåˆ¶å¤±æ•ˆã€‚å› ä¸ºæ´¾ç”Ÿç±»ä¸­æœ€å…ˆè¿›è¡Œåˆå§‹åŒ–çš„æ˜¯åŸºç±»çš„æˆå‘˜ï¼Œè‹¥è°ƒç”¨å®é™…ç±»çš„è™šå‡½æ•°å¯èƒ½ä¼šä½¿ç”¨åˆ°æœªåˆå§‹åŒ–çš„æ´¾ç”Ÿç±»æˆå‘˜ï¼Œå¯¼è‡´æœªå®šä¹‰çš„è¡Œä¸ºã€‚ è‹¥ä¸ç†è§£ä¸Šè¿°åŸå› ä¹Ÿæ— æ‰€è°“ï¼Œå°½é‡ä¸è¦åœ¨æ„é€ å‡½æ•°ä¸­è°ƒç”¨è™šå‡½æ•°ï¼Œè¿™æ—¶è™šå‡½æ•°çš„æœºåˆ¶å¤±æ•ˆï¼Œæ²¡æœ‰å®é™…çš„æ„ä¹‰ã€‚ è™šå‡½æ•°ä¸ææ„å‡½æ•°ææ„å‡½æ•°èƒ½å£°æ˜ä¸ºè™šå‡½æ•°ï¼Œä¸”å¸¸å¸¸æ˜¯è™šçš„ã€‚ è™šææ„å‡½æ•°çš„ä½œç”¨åœ¨äºå½“åˆ é™¤åŸºç±»ç±»å‹çš„æŒ‡é’ˆæ—¶ï¼Œç¼–è¯‘å™¨å°†æ ¹æ®æŒ‡é’ˆæ‰€æŒ‡å¯¹è±¡çš„å®é™…ç±»å‹æ¥è°ƒç”¨å¯¹åº”çš„ææ„å‡½æ•°ï¼Œé˜²æ­¢å‡ºç°å†…å­˜æ³„æ¼çš„é”™è¯¯ã€‚ åŒæ ·çš„ï¼Œå°½é‡ä¸è¦åœ¨ææ„å‡½æ•°ä¸­è°ƒç”¨è™šå‡½æ•°ã€‚ é‡è¦åŸåˆ™ï¼šæ€»æ˜¯å°†åŸºç±»çš„ææ„å‡½æ•°è®¾ç½®ä¸ºè™šææ„å‡½æ•°ã€‚ é‡å†™è¦†ç›–é‡å†™è¦†ç›–ï¼ˆoverrideï¼‰ï¼šæ´¾ç”Ÿç±»é‡æ–°å®šä¹‰åŸºç±»ä¸­çš„è™šå‡½æ•°ï¼Œå‡½æ•°åå¿…é¡»ç›¸åŒï¼Œå‡½æ•°å‚æ•°å¿…é¡»ç›¸åŒï¼Œè¿”å›å€¼ä¸€èˆ¬æƒ…å†µåº”ç›¸åŒã€‚æ´¾ç”Ÿç±»çš„è™šå‡½æ•°è¡¨ä¸­åŸåŸºç±»çš„è™šå‡½æ•°æŒ‡é’ˆä¼šè¢«æ´¾ç”Ÿç±»ä¸­é‡æ–°å®šä¹‰çš„è™šå‡½æ•°æŒ‡é’ˆè¦†ç›–æ‰ã€‚ é‡å†™éšè—ï¼ˆredefiningï¼‰ï¼šæ´¾ç”Ÿç±»é‡æ–°å®šä¹‰åŸºç±»ä¸­çš„å‡½æ•°ï¼Œå‡½æ•°åç›¸åŒï¼Œä½†æ˜¯å‚æ•°ä¸åŒæˆ–è€…åŸºç±»çš„å‡½æ•°ä¸æ˜¯è™šå‡½æ•°(å‚æ•°ç›¸åŒ+è™šå‡½æ•°-&gt;ä¸æ˜¯é‡å†™éšè—)ã€‚è™šå‡½æ•°è¡¨ä¸ä¼šå‘ç”Ÿè¦†ç›–ã€‚ é‡å†™è¦†ç›–å’Œé‡å†™éšè—ï¼š ç›¸åŒç‚¹ï¼š éƒ½è¦æ±‚æ´¾ç”Ÿç±»å®šä¹‰çš„å‡½æ•°ä¸åŸºç±»åŒåã€‚ éƒ½ä¼šå±è”½åŸºç±»ä¸­çš„åŒåå‡½æ•°ï¼Œå³æ´¾ç”Ÿç±»çš„å®ä¾‹æ— æ³•è°ƒç”¨åŸºç±»çš„åŒåå‡½æ•°ã€‚ ä¸åŒç‚¹ï¼š é‡å†™è¦†ç›–è¦æ±‚åŸºç±»çš„å‡½æ•°æ˜¯è™šå‡½æ•°ï¼Œä¸”å‡½æ•°å‚æ•°ç›¸åŒï¼Œè¿”å›å€¼ä¸€èˆ¬æƒ…å†µåº”ç›¸åŒï¼›é‡å†™éšè—è¦æ±‚åŸºç±»çš„å‡½æ•°ä¸æ˜¯è™šå‡½æ•°æˆ–è€…å‡½æ•°å‚æ•°ä¸åŒã€‚ é‡å†™è¦†ç›–ä¼šä½¿æ´¾ç”Ÿç±»è™šå‡½æ•°è¡¨ä¸­åŸºç±»çš„è™šå‡½æ•°çš„æŒ‡é’ˆè¢«æ´¾ç”Ÿç±»çš„è™šå‡½æ•°æŒ‡é’ˆè¦†ç›–ã€‚é‡å†™éšè—ä¸ä¼šã€‚ é‡å†™è¦†ç›–ä¸é‡å†™éšè—çš„ç¤ºä¾‹å¦‚ä¸‹ï¼š 12345678910111213141516171819class Base&#123;public: virtual void foo() &#123; cout&lt;&lt;\"Base::foo()\"&lt;&lt;endl; &#125;; virtual void foo(int )&#123; cout&lt;&lt;\"Base::foo(int )\"&lt;&lt;endl; &#125;; ///é‡è½½ void bar() &#123;&#125;;&#125;;class Derived1 : public Base&#123;public: void foo(int ) &#123; cout&lt;&lt;\"Derived1::foo(int )\"&lt;&lt;endl; &#125;; /// é‡å†™è¦†ç›–&#125;;class Derived2 : public Base &#123;public: void foo(float ) &#123; cout&lt;&lt;\"Derived2::foo(float )\"&lt;&lt;endl; &#125;; /// å‚æ•°ä¸ä¸€è‡´ï¼Œä¸æ˜¯é‡å†™è¦†ç›–ï¼Œæ˜¯é‡å†™éšè—&#125;; Overrideå…³é”®å­—é‡å†™è¦†ç›–è¦æ±‚çš„æ¡ä»¶å¾ˆå¤šï¼Œé¦–å…ˆå¿…é¡»æ˜¯é‡å®šä¹‰åŸºç±»ä¸­çš„è™šå‡½æ•°ï¼Œå¹¶ä¸”è¦æ±‚å‚æ•°ç›¸åŒï¼Œå¯ä»¥ä½¿ç”¨overrideå…³é”®å­—æ˜¾å¼çš„å‘Šè¯‰ç¼–è¯‘å™¨è¿›è¡Œé‡å†™è¦†ç›–ï¼Œç¼–è¯‘å™¨å°†å¯¹é‡å†™è¦†ç›–è¦æ»¡è¶³çš„æ¡ä»¶è¿›è¡Œæ£€æŸ¥ï¼Œæ­£ç¡®çš„é‡å†™è¦†ç›–æ‰èƒ½é€šè¿‡ç¼–è¯‘ã€‚ 1234567class Derived2 : public Base&#123;public: void foo(int ) override &#123; // ... &#125;; æ˜¯Baseä¸­çš„è™šå‡½æ•°ï¼Œå¹¶ä¸”å‚æ•°ä¸€è‡´ //void foo(float ) override &#123;&#125;; /// å‚æ•°ä¸åŒï¼Œä¸æ˜¯é‡å†™è¦†ç›–ï¼Œç¼–è¯‘é”™è¯¯ //void bar() override &#123;&#125;; /// bar éè™šå‡½æ•°ï¼Œç¼–è¯‘é”™è¯¯ &#125; ä»¥ä¸Šæ˜¯ä½¿ç”¨overrideå…³é”®å­—çš„ç¤ºä¾‹ã€‚ finalå…³é”®å­—æœ‰äº›æ—¶å€™ä¸å¸Œæœ›è™šå‡½æ•°åœ¨æ´¾ç”Ÿç±»ä¸­è¢«é‡å†™ï¼Œæˆ–è€…ä¸å¸Œæœ›æœ‰äº›ç±»è¢«ç»§æ‰¿ï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨finalå…³é”®å­—ã€‚ finalå…³é”®å­—åœ¨è™šå‡½æ•°å£°æ˜æˆ–è€…è™šå‡½æ•°å®šä¹‰æ—¶ä½¿ç”¨å¯ä»¥ç¡®ä¿åç»­çš„æ´¾ç”Ÿç±»ä¸­ä¸å¯ä»¥é‡å†™æ´¾ç”Ÿç±»ï¼Œfinalå…³é”®å­—åœ¨ç±»å®šä¹‰çš„æ—¶å€™ä½¿ç”¨ä¼šæŒ‡å®šè¯¥ç±»ä¸å¯ä»¥è¢«ç»§æ‰¿ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425262728class Base&#123;public: virtual void func() &#123;&#125;; // åŸºç±»ä¸­å£°æ˜ä¸ºè™šå‡½æ•° // ...&#125;;class A : public Base&#123;public: void func() final &#123; /* ... */ &#125; // åœ¨ç±»Aä¸­ç”¨finalæŒ‡å®šfunc()ï¼Œ åˆ™func()ä¸å¯ä»¥è¢«ç±»Açš„æ´¾ç”Ÿç±»è¿›è¡Œæ”¹å†™ // void func_2() final &#123; /* ... */ &#125; /// func_2()ä¸æ˜¯è™šå‡½æ•°ï¼Œå› æ­¤ä¸èƒ½è¢«finalæŒ‡å®š // ...&#125;;class B final : public A // å°†ç±»Bå£°æ˜ä¸ºfinalï¼Œå³ç±»Bä¸èƒ½ä½œä¸ºåŸºç±»è¢«ç»§æ‰¿&#123;public: // void func() &#123;&#125; /// func()å·²ç»åœ¨ç±»Aä¸­å£°æ˜ä¸ºfinaläº†ï¼Œä¸å…è®¸åç»­çš„ç±»è¿›è¡Œæ”¹å†™&#125;;/*class C : public B&#123; // ...&#125;;*///ç±»Bå·²ç»å£°æ˜ä¸ºfinaläº†ï¼Œä¸å…è®¸åç»­çš„ç±»å¯¹ç±»Bè¿›è¡Œç»§æ‰¿ çº¯è™šå‡½æ•°è™šå‡½æ•°å¯ä»¥é€šè¿‡å¦‚ä¸‹çš„å½¢å¼å£°æ˜ä¸ºçº¯è™šå‡½æ•°ã€‚ 1virtual returnType func(argument) = 0; å«æœ‰çº¯è™šå‡½æ•°çš„ç±»è¢«ç§°ä¸ºæŠ½è±¡ç±»ï¼ŒæŠ½è±¡ç±»ä¸å…è®¸å®šä¹‰å…·ä½“çš„å¯¹è±¡ï¼Œå®šä¹‰æŠ½è±¡ç±»çš„ä¸»è¦ç›®çš„æ˜¯ä¸ºåç»­çš„æ´¾ç”Ÿç±»è§„å®šå…±æ€§çš„æ¥å£ã€‚ çº¯è™šå‡½æ•°å¯ä»¥åœ¨ç±»å¤–æä¾›é»˜è®¤å®ç°ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 123456789class Base&#123;public: virtual void func() = 0;&#125;;void Base::func()&#123; // ...&#125; æŠ½è±¡ç±»ä¸å…è®¸å®šä¹‰å¯¹è±¡ï¼Œä½†å…è®¸å®šä¹‰æŠ½è±¡ç±»çš„æŒ‡é’ˆå’Œå¼•ç”¨å¹¶æŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡ï¼Œè¿™æ ·å°±ä¿è¯åªæœ‰æŒ‡é’ˆå’Œå¼•ç”¨å¯ä»¥è¢«å‘ä¸Šç±»å‹è½¬æ¢ã€‚ å½“ç»§æ‰¿ä¸€ä¸ªæŠ½è±¡ç±»æ—¶ï¼Œå¿…é¡»å®ç°æ‰€æœ‰çš„çº¯è™šå‡½æ•°ï¼Œå¦åˆ™æ´¾ç”Ÿç±»ä»ç„¶æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œçº¯è™šææ„å‡½æ•°é™¤å¤–ã€‚ çº¯è™šææ„å‡½æ•°çº¯è™šææ„å‡½æ•°å¿…é¡»æœ‰å‡½æ•°ä½“ï¼Œå³å¿…é¡»åœ¨æŠ½è±¡ç±»çš„å®šä¹‰ä¹‹å¤–æ˜¾å¼è¯´æ˜å‡½æ•°ä½“ã€‚ å®šä¹‰çº¯è™šææ„å‡½æ•°çš„ç›®çš„åœ¨äºä½¿åŸºç±»æˆä¸ºæŠ½è±¡ç±»ï¼Œä½†è‹¥åŸºç±»ä¸­æœ‰å…¶ä»–çº¯è™šå‡½æ•°ï¼Œåˆ™ææ„å‡½æ•°ä¸å¿…å®šä¹‰ä¸ºè™šçš„ã€‚ æ´¾ç”Ÿç±»ä¸­ä¸éœ€è¦æ˜¾å¼å®ç°çº¯è™šææ„å‡½æ•°ï¼Œå› ä¸ºç¼–è¯‘å™¨å¯ä»¥è‡ªåŠ¨åˆæˆææ„å‡½æ•°ã€‚ 1234567891011121314class Base&#123;public: virtual ~Base() = 0;&#125;;Base::~Base() &#123;&#125; // çº¯è™šææ„å‡½æ•°å¿…é¡»æ˜¾å¼è¯´æ˜å‡½æ•°ä½“class A : public Base &#123;&#125;;int main()&#123; // Base b; /// æŠ¥é”™ A a; // æ²¡æœ‰æŠ¥é”™ï¼Œä½†è‹¥æ²¡æœ‰æ˜¾å¼è¯´æ˜åŸºç±»ä¸­çº¯è™šææ„å‡½æ•°çš„å‡½æ•°ä½“ï¼Œåˆ™æ— æ³•é€šè¿‡ç¼–è¯‘ï¼ˆç¼–è¯‘é˜¶æ®µä¸ä¼šæŠ¥é”™ï¼Œé”™è¯¯åœ¨é“¾æ¥é˜¶æ®µäº§ç”Ÿï¼‰&#125; å‘ä¸‹ç±»å‹è½¬æ¢åŸºç±»æŒ‡é’ˆæˆ–è€…å¼•ç”¨è½¬æ¢ä¸ºæ´¾ç”Ÿç±»æŒ‡é’ˆæˆ–è€…å¼•ç”¨è¢«ç§°ä¸ºå‘ä¸‹ç±»å‹è½¬æ¢ã€‚è¦ç¡®ä¿è½¬æ¢çš„æ­£ç¡®æ€§åˆ™å¿…é¡»å€ŸåŠ©è™šå‡½æ•°è¡¨è¿›è¡ŒåŠ¨æ€ç±»å‹æ£€æŸ¥ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526272829303132333435363738class Pet &#123; public: virtual ~Pet() &#123;&#125; &#125;;class Dog : public Pet&#123; public: void run() &#123; cout &lt;&lt; \"dog run\" &lt;&lt; endl; &#125;&#125;;class Bird : public Pet&#123;public: void fly() &#123; cout &lt;&lt; \"bird fly\" &lt;&lt; endl; &#125;&#125;;void action(Pet* p)&#123; auto d = dynamic_cast&lt;Dog*&gt;(p); /// å‘ä¸‹ç±»å‹è½¬æ¢ auto b = dynamic_cast&lt;Bird*&gt;(p); /// å‘ä¸‹ç±»å‹è½¬æ¢ if (d) /// è¿è¡Œæ—¶æ ¹æ®å®é™…ç±»å‹è¡¨ç°ç‰¹æ€§ d-&gt;run(); else if(b) b-&gt;fly();&#125;int main()&#123; Pet* p[2]; p[0] = new Dog; /// å‘ä¸Šç±»å‹è½¬æ¢ p[1] = new Bird; /// å‘ä¸Šç±»å‹è½¬æ¢ for (int i = 0; i &lt; 2; ++i) &#123; action(p[i]); &#125;&#125; C++æä¾›äº†ä¸€ç§å®‰å…¨çš„å‘ä¸‹ç±»å‹è½¬æ¢ï¼Œå³dynamic_castï¼Œä½¿ç”¨dynamic_castå¿…é¡»æœ‰è™šå‡½æ•°ï¼Œå› ä¸ºå®ƒä½¿ç”¨äº†å­˜å‚¨åœ¨è™šå‡½æ•°è¡¨ä¸­çš„ä¿¡æ¯åˆ¤æ–­å®é™…çš„ç±»å‹ã€‚ ä½¿ç”¨æ–¹æ³•ä¸ºï¼š 1234// T1* obj_p = .....// T1&amp; obj_r = .....T2* pObj = dynamic_cast&lt;T2*&gt;(obj_p); //è½¬æ¢ä¸ºT2æŒ‡é’ˆï¼Œè¿è¡Œæ—¶å¤±è´¥è¿”å›nullptrT2&amp; refObj = dynamic_cast&lt;T2&amp;&gt;(obj_r); //è½¬æ¢ä¸ºT2å¼•ç”¨ï¼Œè¿è¡Œæ—¶å¤±è´¥æŠ›å‡ºbad_castå¼‚å¸¸ è¦æ³¨æ„çš„æ˜¯T1å¿…é¡»æ˜¯å¸¦æœ‰è™šå‡½æ•°ï¼ˆå£°æ˜æˆ–è€…ç»§æ‰¿è€Œæ¥çš„ï¼‰çš„ç±»ï¼ˆT1å¿…é¡»æ˜¯å¤šæ€ç±»å‹ï¼‰ï¼Œå¦åˆ™ç¼–è¯‘ä¼šæŠ¥é”™ï¼ŒT2ä¸å¿…æ˜¯å¸¦æœ‰è™šå‡½æ•°çš„ç±»ã€‚T1ï¼ŒT2æ²¡æœ‰ç»§æ‰¿å…³ç³»æ—¶è½¬æ¢ä¼šå‡ºé”™ã€‚ å¦‚æœçŸ¥é“è¦è½¬æ¢çš„ç±»å‹ç§ç±»ï¼Œå¯ä»¥ä½¿ç”¨static_ castï¼Œstatic_caståœ¨ç¼–è¯‘æ—¶é™æ€æµè§ˆç±»å±‚æ¬¡ï¼Œåªæ£€æŸ¥ç»§æ‰¿å…³ç³»ã€‚æ²¡æœ‰ç»§æ‰¿å…³ç³»çš„ç±»ä¹‹é—´ï¼Œå¿…é¡»å…·æœ‰è½¬æ¢é€”å¾„æ‰èƒ½è¿›è¡Œè½¬æ¢ï¼ˆè¦ä¹ˆè‡ªå®šä¹‰ï¼Œè¦ä¹ˆæ˜¯è¯­è¨€è¯­æ³•æ”¯æŒï¼‰ï¼Œå¦åˆ™ä¸è¿‡ç¼–è¯‘ã€‚è¿è¡Œæ—¶æ— æ³•ç¡®è®¤æ˜¯å¦æ­£ç¡®è½¬æ¢ã€‚ ä½¿ç”¨æ–¹æ³•ä¸ºï¼š 1234// T1* obj_p = .....// T1&amp; obj_r = .....T2* pObj = static_cast&lt;T2*&gt;(obj_p); //è½¬æ¢ä¸ºT2æŒ‡é’ˆT2&amp; refObj = static_cast&lt;T2&amp;&gt;(obj_r); //è½¬æ¢ä¸ºT2å¼•ç”¨ static_castä¸ä¼šåšç±»å‹æ£€æŸ¥ï¼Œå› æ­¤ä¸èƒ½ä¿è¯è½¬æ¢åå®é™…æŒ‡å‘çš„å¯¹è±¡ç±»å‹ä¸ºT2ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œå»ºè®®ä½¿ç”¨dynamic_castæ¥è¿›è¡Œå‘ä¸‹ç±»å‹è½¬æ¢ã€‚ å‡ æ¡é‡è¦çš„åŸåˆ™ æŒ‡é’ˆæˆ–è€…å¼•ç”¨çš„å‘ä¸Šç±»å‹è½¬æ¢æ€»æ˜¯å®‰å…¨çš„ã€‚ å‘ä¸‹ç±»å‹è½¬æ¢æ—¶å°½é‡ä½¿ç”¨dynamic_castã€‚ å°½é‡ä¸åšå¯¹è±¡çš„è½¬æ¢ã€‚ å‘ä¸Šå‘ä¸‹ç±»å‹è½¬æ¢ä¸è™šå‡½æ•°è¡¨è‹¥åŸºç±»ä¸­å«æœ‰è™šå‡½æ•°ï¼š å¯¹äºå‘ä¸Šç±»å‹è½¬æ¢ï¼Œæ´¾ç”Ÿç±»æŒ‡é’ˆæˆ–è€…å¼•ç”¨è½¬æ¢ä¸ºåŸºç±»æŒ‡é’ˆæˆ–è€…å¼•ç”¨ï¼Œå…¶è™šå‡½æ•°è¡¨ä»ç„¶ç»‘å®šä¸ºæ´¾ç”Ÿç±»çš„è™šå‡½æ•°è¡¨ï¼ˆæ™šç»‘å®šï¼‰ã€‚æ´¾ç”Ÿç±»å¯¹è±¡è½¬æ¢ä¸ºåŸºç±»å¯¹è±¡ï¼Œåˆ™å…¶è™šå‡½æ•°è¡¨ç»‘å®šä¸ºåŸºç±»çš„è™šå‡½æ•°è¡¨ã€‚ å¯¹äºå‘ä¸‹ç±»å‹è½¬æ¢åˆ™å¯ä»¥é€šè¿‡æ£€æŸ¥è™šå‡½æ•°è¡¨æ¥åˆ¤æ–­æ˜¯å¦å¯ä»¥è¿›è¡Œå‘ä¸‹ç±»å‹è½¬æ¢ã€‚ å¤šæ€ä»¥ä¸Šæ‰€è¯´çš„æ¦‚å¿µå‡æ˜¯ä¸ºå¤šæ€æ‰€æœåŠ¡çš„ï¼Œå¤šæ€æŒ‡çš„æ˜¯ï¼šæŒ‰ç…§åŸºç±»çš„æ¥å£å®šä¹‰ï¼Œè°ƒç”¨æŒ‡é’ˆæˆ–å¼•ç”¨æ‰€æŒ‡å¯¹è±¡çš„æ¥å£å‡½æ•°ï¼Œå‡½æ•°æ‰§è¡Œè¿‡ç¨‹å› å¯¹è±¡å®é™…æ‰€å±æ´¾ç”Ÿç±»çš„ä¸åŒè€Œå‘ˆç°ä¸åŒçš„æ•ˆæœï¼ˆè¡¨ç°ï¼‰ã€‚ å½“åˆ©ç”¨æŒ‡é’ˆæˆ–è€…å¼•ç”¨è°ƒç”¨å‡½æ•°æ—¶ï¼Œè™šå‡½æ•°åœ¨è¿è¡Œæ—¶æ‰ç¡®å®šå…·ä½“çš„å‡½æ•°å®ç°ä»£ç ï¼Œå–å†³äºæ‰€æŒ‡å‘å¯¹è±¡çš„çœŸå®ç±»å‹ï¼ˆæ™šç»‘å®šï¼‰ã€‚éè™šå‡½æ•°åœ¨ç¼–è¯‘æ—¶å°±å·²è¿›è¡Œç»‘å®šï¼ˆæ—©ç»‘å®šï¼‰ã€‚ å½“åˆ©ç”¨å¯¹è±¡ä½œä¸ºå‚æ•°ç›´æ¥è°ƒç”¨å‡½æ•°æ—¶ï¼Œæ— è®ºä»€ä¹ˆå‡½æ•°å‡åœ¨ç¼–è¯‘æ—¶è¿›è¡Œç»‘å®šã€‚ æ‰€ä»¥äº§ç”Ÿå¤šæ€çš„æ•ˆæœä¸ºï¼šç»§æ‰¿ &amp;&amp; è™šå‡½æ•° &amp;&amp; ï¼ˆå¼•ç”¨æˆ–æŒ‡é’ˆï¼‰ å¤šæ€ä½¿å¾—C++è¯­è¨€å¯ä»¥ç”¨ä¸€æ®µç›¸åŒçš„ä»£ç ï¼Œåœ¨è¿è¡Œæ—¶å®Œæˆä¸åŒçš„ä»»åŠ¡ï¼Œè¿™äº›ä¸åŒè¿è¡Œç»“æœçš„å·®å¼‚ç”±æ´¾ç”Ÿç±»ä¹‹é—´çš„å·®å¼‚å†³å®šã€‚å¥½å¤„åœ¨äºé€šè¿‡åŸºç±»å®šå¥½æ¥å£åï¼Œä¸å¿…å¯¹æ¯ä¸€ä¸ªæ´¾ç”Ÿç±»ç‰¹æ®Šå¤„ç†ï¼Œåªéœ€è¦è°ƒç”¨æŠ½è±¡åŸºç±»çš„æ¥å£å³å¯ã€‚å¤§å¤§æé«˜ç¨‹åºçš„å¯å¤ç”¨æ€§ã€‚ä¸åŒæ´¾ç”Ÿç±»å¯¹åŒä¸€æ¥å£çš„å®ç°ä¸åŒï¼Œèƒ½è¾¾åˆ°ä¸åŒçš„æ•ˆæœï¼Œæé«˜äº†ç¨‹åºå¯æ‹“å±•æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚ ä¸€ä¸ªå¤šæ€çš„ç¤ºä¾‹å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839class Animal&#123; public: void action() &#123; speak(); motion(); &#125; virtual void speak() &#123; cout &lt;&lt; \"Animal speak\" &lt;&lt; endl; &#125; virtual void motion() &#123; cout &lt;&lt; \"Animal motion\" &lt;&lt; endl; &#125;&#125;;class Bird : public Animal&#123;public: void speak() &#123; cout &lt;&lt; \"Bird singing\" &lt;&lt; endl; &#125; void motion() &#123; cout &lt;&lt; \"Bird flying\" &lt;&lt; endl; &#125;&#125;;class Fish : public Animal&#123;public: void speak() &#123; cout &lt;&lt; \"Fish cannot speak ...\" &lt;&lt; endl; &#125; void motion() &#123; cout &lt;&lt; \"Fish swimming\" &lt;&lt; endl; &#125;&#125;;int main()&#123; Fish fish; Bird bird; fish.action(); ///ä¸åŒè°ƒç”¨æ–¹æ³• bird.action(); Animal *pBase1 = new Fish; Animal *pBase2 = new Bird; pBase1-&gt;action(); ///åŒä¸€è°ƒç”¨æ–¹æ³•ï¼Œæ ¹æ® pBase2-&gt;action(); ///å®é™…ç±»å‹å®Œæˆç›¸åº”åŠ¨ä½œ return 0;&#125; å¤šæ€çš„ä¸€ä¸ªå…¸å‹åº”ç”¨å°±æ˜¯TEMPLATE METHODè®¾è®¡æ¨¡å¼ã€‚ åœ¨æ¥å£çš„ä¸€ä¸ªæ–¹æ³•ä¸­å®šä¹‰ç®—æ³•çš„éª¨æ¶ã€‚ å°†ä¸€äº›æ­¥éª¤çš„å®ç°å»¶è¿Ÿåˆ°å­ç±»ä¸­ã€‚ ä½¿å¾—å­ç±»å¯ä»¥åœ¨ä¸æ”¹å˜ç®—æ³•ç»“æ„çš„æƒ…å†µä¸‹ï¼Œé‡æ–°å®šä¹‰ç®—æ³•ä¸­çš„æŸäº›æ­¥éª¤ã€‚ å¤šé‡ç»§æ‰¿ä¸€ä¸ªç±»åŒæ—¶ç»§æ‰¿å¤šä¸ªç±»ç§°ä¸ºå¤šé‡ç»§æ‰¿ã€‚å¤šé‡ç»§æ‰¿ä¼šæœ‰å¤šä¸ªè™šå‡½æ•°è¡¨ï¼Œå‡ é‡ç»§æ‰¿ï¼Œå°±ä¼šæœ‰å‡ ä¸ªè™šå‡½æ•°è¡¨ã€‚è¿™äº›è¡¨æŒ‰ç…§æ´¾ç”Ÿçš„é¡ºåºä¾æ¬¡æ’åˆ—ã€‚ å¦‚æœå­ç±»æ”¹å†™äº†çˆ¶ç±»çš„è™šå‡½æ•°ï¼Œé‚£ä¹ˆå°±ä¼šç”¨å­ç±»è‡ªå·±çš„è™šå‡½æ•°è¦†ç›–è™šå‡½æ•°è¡¨çš„ç›¸åº”ä½ç½®ï¼Œå¦‚æœå­ç±»æœ‰æ–°çš„è™šå‡½æ•°ï¼Œé‚£ä¹ˆå°±æ·»åŠ åˆ°ç¬¬ä¸€ä¸ªè™šå‡½æ•°è¡¨çš„æœ«å°¾ã€‚ å¤šé‡ç»§æ‰¿çš„å¯ä»¥åŒæ—¶ç»“åˆå¤šä¸ªæ¥å£ï¼Œä½†ä¼šå¯¼è‡´äºŒä¹‰æ€§çš„é—®é¢˜ï¼Œå³æ´¾ç”Ÿç±»ç»§æ‰¿çš„ä¸¤ä¸ªåŸºç±»è‹¥å«æœ‰åŒåæˆå‘˜ï¼Œåˆ™ä¼šå¯¼è‡´ç¼–è¯‘å™¨æ— æ³•åˆ¤æ–­ã€‚å¦å¤–ä¸€ä¸ªé—®é¢˜åˆ™æ˜¯é’»çŸ³å‹ç»§æ‰¿å¸¦æ¥çš„æ•°æ®å†—ä½™é—®é¢˜ã€‚ å®è·µä¸­ï¼Œæœ€å¥½åªç»§æ‰¿ä¸€ä¸ªéæŠ½è±¡ç±»ï¼Œå¯ä»¥ç»§æ‰¿å¤šä¸ªæŠ½è±¡ç±»ã€‚ OOPæ ¸å¿ƒæ€æƒ³OOPçš„æ ¸å¿ƒæ€æƒ³æ˜¯æ•°æ®æŠ½è±¡ã€ç»§æ‰¿ä¸åŠ¨æ€ç»‘å®šã€‚ æ•°æ®æŠ½è±¡ï¼šç±»çš„æ¥å£ä¸å®ç°åˆ†ç¦» ç»§æ‰¿ï¼šå»ºç«‹ç›¸å…³ç±»å‹çš„å±‚æ¬¡å…³ç³»ï¼ˆåŸºç±»ä¸æ´¾ç”Ÿç±»ï¼‰å‡½æ•°é‡å†™ï¼Œè™šå‡½æ•° åŠ¨æ€ç»‘å®šï¼šç»Ÿä¸€ä½¿ç”¨åŸºç±»æŒ‡é’ˆï¼Œå®ç°å¤šæ€è¡Œä¸ºç±»å‹è½¬æ¢ï¼Œæ¨¡æ¿","categories":[],"tags":[{"name":"OOP","slug":"OOP","permalink":"http://believebest35.github.io/tags/OOP/"}]},{"title":"é¢å‘å¯¹è±¡_ç»„åˆä¸ç»§æ‰¿","slug":"OOP-THU-5","date":"2020-10-09T12:31:17.000Z","updated":"2020-10-13T12:17:07.990Z","comments":true,"path":"2020/10/09/OOP-THU-5/","link":"","permalink":"http://believebest35.github.io/2020/10/09/OOP-THU-5/","excerpt":"ç»„åˆå°çš„å¯¹è±¡ç»„åˆèµ·æ¥å¯ä»¥å½¢æˆæ›´å¤§çš„å¯¹è±¡ï¼Œè‹¥å¯¹è±¡aæ˜¯å¯¹è±¡bçš„ä¸€ä¸ªç»„æˆéƒ¨åˆ†ï¼Œåˆ™å¯ä»¥è¯´å¯¹è±¡bæ˜¯å¯¹è±¡açš„æ•´ä½“å¯¹è±¡ï¼Œå¯¹è±¡aæ˜¯å¯¹è±¡bçš„éƒ¨åˆ†å¯¹è±¡ã€‚å¯¹è±¡ç»„åˆä¸€èˆ¬æœ‰ä¸¤ç§å®ç°æ–¹æ³•ï¼š å°†å·²æœ‰çš„ç±»ï¼ˆå¯¹è±¡aï¼‰å®šä¹‰ä¸ºæ–°å®šä¹‰çš„ç±»ï¼ˆå¯¹è±¡bï¼‰çš„å…¬æœ‰æˆå‘˜ï¼Œåˆ™å¯ä»¥é€šè¿‡è®¿é—®åŸæœ‰çš„ç±»æä¾›æ—§çš„æ¥å£ã€‚ å°†å·²æœ‰çš„ç±»å®šä¹‰ä¸ºæ–°å®šä¹‰çš„ç±»çš„ç§æœ‰æˆå‘˜ï¼Œè¿™æ ·æ–°çš„ç±»å°±å¿…é¡»æä¾›æ–°çš„æ¥å£ç”¨ä»¥è®¿é—®æ—§çš„ç±»ï¼Œç›¸å½“äºå¯¹æ¥å£åšäº†å˜æ¢ã€‚","text":"ç»„åˆå°çš„å¯¹è±¡ç»„åˆèµ·æ¥å¯ä»¥å½¢æˆæ›´å¤§çš„å¯¹è±¡ï¼Œè‹¥å¯¹è±¡aæ˜¯å¯¹è±¡bçš„ä¸€ä¸ªç»„æˆéƒ¨åˆ†ï¼Œåˆ™å¯ä»¥è¯´å¯¹è±¡bæ˜¯å¯¹è±¡açš„æ•´ä½“å¯¹è±¡ï¼Œå¯¹è±¡aæ˜¯å¯¹è±¡bçš„éƒ¨åˆ†å¯¹è±¡ã€‚å¯¹è±¡ç»„åˆä¸€èˆ¬æœ‰ä¸¤ç§å®ç°æ–¹æ³•ï¼š å°†å·²æœ‰çš„ç±»ï¼ˆå¯¹è±¡aï¼‰å®šä¹‰ä¸ºæ–°å®šä¹‰çš„ç±»ï¼ˆå¯¹è±¡bï¼‰çš„å…¬æœ‰æˆå‘˜ï¼Œåˆ™å¯ä»¥é€šè¿‡è®¿é—®åŸæœ‰çš„ç±»æä¾›æ—§çš„æ¥å£ã€‚ å°†å·²æœ‰çš„ç±»å®šä¹‰ä¸ºæ–°å®šä¹‰çš„ç±»çš„ç§æœ‰æˆå‘˜ï¼Œè¿™æ ·æ–°çš„ç±»å°±å¿…é¡»æä¾›æ–°çš„æ¥å£ç”¨ä»¥è®¿é—®æ—§çš„ç±»ï¼Œç›¸å½“äºå¯¹æ¥å£åšäº†å˜æ¢ã€‚ ä»¥ä¸Šçš„å®ç°å½¢å¼å¦‚ä¸‹æ‰€ç¤ºï¼š 12345678910111213141516171819202122232425262728293031323334353637383940class A&#123;private: int i;public: void set_i(int x) &#123; i = x; &#125;&#125;;class B&#123;private: int i;public: void set_i(int x) &#123; i = x; &#125;&#125;;class C&#123;private: A a;public: B b; void setA(int x) &#123; a.set_i(x); &#125;&#125;;int main()&#123; C c; c.b.set(0); c.setA(0);&#125; å­å¯¹è±¡æ„é€ æ—¶è‹¥éœ€è¦å‚æ•°ï¼Œåˆ™åº”åœ¨å½“å‰ç±»çš„æ„é€ å‡½æ•°çš„åˆå§‹åŒ–åˆ—è¡¨ä¸­è¿›è¡Œåˆå§‹åŒ–ã€‚ ç»§æ‰¿ç»§æ‰¿å³æ˜¯ä»ä¸€èˆ¬åˆ°ç‰¹æ®Šçš„è¿‡ç¨‹ï¼Œè‹¥ç±»Aå…·æœ‰ç±»Bå…¨éƒ¨çš„æ•°æ®æˆå‘˜ä»¥åŠå¯¹åº”çš„æ¥å£å‡½æ•°ï¼Œé™¤æ­¤ä¹‹å¤–è¿˜æ‹¥æœ‰ä¸€äº›è‡ªå·±ç‹¬æœ‰çš„æŸäº›æ•°æ®æˆå‘˜ä»¥åŠæ¥å£å‡½æ•°ï¼Œåˆ™ç§°ç±»Aç»§æ‰¿ä¸ç±»Bã€‚ è¢«ç»§æ‰¿çš„å·²æœ‰çš„ç±»ï¼Œè¢«ç§°ä¸ºåŸºç±»ï¼ˆbase classï¼‰ï¼Œæˆ–è€…å«åšçˆ¶ç±»ã€‚ ç»§æ‰¿å®šä¹‰å‡ºçš„æ–°çš„ç±»ï¼Œè¢«ç§°ä¸ºæ´¾ç”Ÿç±»ï¼ˆderived classï¼‰ï¼Œäº¦ç§°ä½œå­ç±»ã€æ‰©å±•ç±»ã€‚ å¸¸è§çš„ç»§æ‰¿æ–¹å¼ï¼š publicç»§æ‰¿ï¼Œå®šä¹‰å½¢å¼å¦‚ä¸‹æ‰€ç¤ºï¼š 1234class derived_class: public base_class&#123; // ...&#125; privateç»§æ‰¿ï¼Œå®šä¹‰å½¢å¼å¦‚ä¸‹æ‰€ç¤ºï¼š 1234class derived_class: private base_class&#123; // ...&#125; privateç»§æ‰¿ä¹Ÿæ˜¯é»˜è®¤çš„ç»§æ‰¿æ–¹å¼ã€‚ protectedç»§æ‰¿ï¼Œå®šä¹‰å½¢å¼å¦‚ä¸‹æ‰€ç¤ºï¼š 1234class derived_class: protected base_class&#123; // ...&#125; æœ€åä¸€ç§ç»§æ‰¿æ–¹å¼å¾ˆå°‘ä½¿ç”¨ã€‚ æ´¾ç”Ÿç±»å¯¹è±¡çš„æ„é€ å’Œææ„æ´¾ç”Ÿç±»å¯¹è±¡çš„æ„é€ è¿‡ç¨‹ä¸­é¦–å…ˆåˆå§‹åŒ–çš„æ˜¯åŸå±äºåŸºç±»çš„æ•°æ®æˆå‘˜ï¼Œéœ€è¦è°ƒç”¨åŸå±äºåŸºç±»çš„æ„é€ å‡½æ•°æ¥è¿›è¡Œåˆå§‹åŒ–ã€‚è‹¥æ²¡æœ‰æ˜¾å¼è°ƒç”¨åˆ™ä¼šè‡ªåŠ¨è°ƒç”¨å±äºåŸºç±»çš„é»˜è®¤æ„é€ å‡½æ•°ï¼Œè‹¥æ˜¾å¼è°ƒç”¨åˆ™åªèƒ½åœ¨æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°çš„åˆå§‹åŒ–æˆå‘˜åˆ—è¡¨ä¸­è¿›è¡Œè°ƒç”¨ã€‚åŸºç±»çš„æ•°æ®æˆå‘˜åˆå§‹åŒ–å®Œæ¯•ä¹‹åå†æ‰§è¡Œæ´¾ç”Ÿç±»çš„çš„æ„é€ å‡½æ•°ã€‚ å¯¹è±¡ææ„æ—¶ï¼Œæ´¾ç”Ÿç±»ææ„å‡½æ•°å…ˆæ‰§è¡Œï¼Œåç»­å†æ‰§è¡ŒåŸºç±»çš„ææ„å‡½æ•°ã€‚ 1234567891011121314class base&#123;private: int x;public: base(): x(0) &#123;&#125; base(int i): x(i) &#123;&#125;&#125;;class derived: public base&#123;public: derived(int i): base(i) &#123;&#125;&#125; å¦‚ä¸Šæ‰€ç¤ºï¼Œæ´¾ç”Ÿç±»æ„é€ å‡½æ•°ä¸­æ˜¾å¼è°ƒç”¨åŸºç±»çš„æ„é€ å‡½æ•°å¿…é¡»åœ¨åˆå§‹åŒ–åˆ—è¡¨ä¸­è¿›è¡Œã€‚ ç»§æ‰¿åŸºç±»æ„é€ å‡½æ•°åœ¨æ´¾ç”Ÿç±»ä¸­ä½¿ç”¨using Base::Base; æ¥ç»§æ‰¿åŸºç±»æ„é€ å‡½æ•°ï¼Œç›¸å½“äºç»™æ´¾ç”Ÿç±»â€œå®šä¹‰â€äº†ç›¸åº”å‚æ•°çš„æ„é€ å‡½æ•°ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š 1234567891011121314151617181920class Base&#123; int data;public: Base(int i) : data(i) &#123;&#125; //Base(int i, int j) : data(i + j) &#123;&#125;&#125;;class Derive : public Base&#123;public: using Base::Base; ///ç›¸å½“äº Derive(int i):Base(i)&#123;&#125;; ///å½“åŸºç±»å­˜åœ¨å¤šä¸ªæ„é€ å‡½æ•°æ—¶ï¼Œä½¿ç”¨usingä¹Ÿä¼šç»™æ´¾ç”Ÿç±»ç”Ÿæˆå¤šä¸ªå¯¹åº”çš„æ„é€ å‡½æ•°ï¼Œç›¸å½“äº Derive(int i, int j):Base(i + j)&#123;&#125;&#125;;int main()&#123; Derive obj(356); return 0;&#125; ä¸Šè¿°ä»£ç åœ¨c++11çš„æƒ…å†µä¸‹é€šè¿‡ç¼–è¯‘ï¼Œmacè‡ªå¸¦çš„clangä¼¼ä¹ä¸èƒ½é€šè¿‡ç¼–è¯‘ã€‚ã€‚ ç»§æ‰¿æ–¹å¼çš„é€‰æ‹© publicç»§æ‰¿ åŸºç±»ä¸­çš„å…¬æœ‰æˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­ä»ç„¶èƒ½ä¿æŒå…¬æœ‰ï¼ŒåŸæœ‰çš„æ¥å£ä»èƒ½ä½¿ç”¨ï¼Œæ˜¯æœ€ä¸ºå¸¸ç”¨çš„ä¸€ç§ç»§æ‰¿æ–¹å¼ã€‚ privateç»§æ‰¿ é€šå¸¸å¾ˆå°‘ä½¿ç”¨ï¼Œå¯é€šè¿‡ç»„åˆæ›¿ä»£ã€‚ protectedç»§æ‰¿ åŸºæœ¬ä¸ä½¿ç”¨ï¼Œå­˜åœ¨åªæ˜¯ä¸ºäº†è¯­è¨€çš„å®Œå¤‡æ€§ã€‚ åŸºç±»æˆå‘˜è®¿é—®æƒé™ä¸ä¸‰ç§ç»§æ‰¿æ–¹å¼ publicç»§æ‰¿ åŸºç±»çš„å…¬æœ‰æˆå‘˜ï¼Œä¿æŠ¤æˆå‘˜ï¼Œç§æœ‰æˆå‘˜ä½œä¸ºæ´¾ç”Ÿç±»çš„æˆå‘˜æ—¶ï¼Œéƒ½ä¿æŒåŸæœ‰çš„çŠ¶æ€ã€‚ privateç»§æ‰¿ åŸºç±»çš„å…¬æœ‰æˆå‘˜ï¼Œä¿æŠ¤æˆå‘˜ï¼Œç§æœ‰æˆå‘˜ä½œä¸ºæ´¾ç”Ÿç±»çš„æˆå‘˜æ—¶ï¼Œéƒ½ä½œä¸ºç§æœ‰æˆå‘˜ã€‚ protectedç»§æ‰¿ åŸºç±»çš„å…¬æœ‰æˆå‘˜ï¼Œä¿æŠ¤æˆå‘˜ä½œä¸ºæ´¾ç”Ÿç±»çš„æˆå‘˜æ—¶ï¼Œéƒ½æˆä¸ºä¿æŠ¤æˆå‘˜ï¼ŒåŸºç±»çš„ç§æœ‰æˆå‘˜ä»ç„¶æ˜¯ç§æœ‰çš„ã€‚ é‡å†™éšè—é‡å†™éšè—æŒ‡çš„æ˜¯åœ¨æ´¾ç”Ÿç±»ä¸­é‡æ–°å®šä¹‰åŸºç±»çš„å‡½æ•°ï¼Œè¿™æ ·ä¼šå±è”½æ‰åŸºç±»ä¸­çš„åŒåå‡½æ•°ã€‚ é‡å†™éšè—å‘ç”Ÿæ—¶åŸºç±»ä¸­è¯¥åŒåå‡½æ•°çš„æ‰€æœ‰é‡è½½å‡½æ•°éƒ½ä¼šè¢«å±è”½æ‰ã€‚å¯ä»¥åœ¨æ´¾ç”Ÿç±»ä¸­é€šè¿‡using ç±»å::æˆå‘˜å‡½æ•°å; åœ¨æ´¾ç”Ÿç±»ä¸­â€œæ¢å¤â€æŒ‡å®šçš„åŸºç±»æˆå‘˜å‡½æ•°ï¼ˆå³å»æ‰å±è”½ï¼‰ï¼Œä½¿ä¹‹é‡æ–°å¯ç”¨ã€‚ å‘ä¸Šç±»å‹è½¬æ¢æ´¾ç”Ÿç±»å¯¹è±¡/å¼•ç”¨/æŒ‡é’ˆè½¬æ¢æˆåŸºç±»å¯¹è±¡/å¼•ç”¨/æŒ‡é’ˆï¼Œç§°ä¸ºå‘ä¸Šç±»å‹è½¬æ¢ï¼Œåªå¯¹publicç»§æ‰¿æœ‰æ•ˆã€‚ å‡¡æ˜¯æ¥å—åŸºç±»å¯¹è±¡/å¼•ç”¨/æŒ‡é’ˆçš„åœ°æ–¹ï¼ˆå¦‚å‡½æ•°å‚æ•°ï¼‰ï¼Œéƒ½å¯ä»¥ä½¿ç”¨æ´¾ç”Ÿç±»å¯¹è±¡/å¼•ç”¨/æŒ‡é’ˆï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å°†æ´¾ç”Ÿç±»å¯¹è±¡è½¬æ¢ä¸ºåŸºç±»å¯¹è±¡ä»¥ä¾¿ä½¿ç”¨ã€‚ å½“æ´¾ç”Ÿç±»çš„å¯¹è±¡(ä¸æ˜¯æŒ‡é’ˆæˆ–å¼•ç”¨)è¢«è½¬æ¢ä¸ºåŸºç±»çš„å¯¹è±¡æ—¶ï¼Œæ´¾ç”Ÿç±»çš„å¯¹è±¡è¢«åˆ‡ç‰‡ä¸ºå¯¹åº”åŸºç±»çš„å­å¯¹è±¡ï¼Œå³ä¼šäº§ç”Ÿæ´¾ç”Ÿç±»å¯¹è±¡æ•°æ®çš„ä¸¢å¤±ã€‚","categories":[],"tags":[{"name":"OOP","slug":"OOP","permalink":"http://believebest35.github.io/tags/OOP/"}]},{"title":"é¢å‘å¯¹è±¡_å¼•ç”¨ä¸å¤åˆ¶","slug":"OOP-THU-4","date":"2020-10-07T02:36:23.000Z","updated":"2020-10-13T12:17:47.854Z","comments":true,"path":"2020/10/07/OOP-THU-4/","link":"","permalink":"http://believebest35.github.io/2020/10/07/OOP-THU-4/","excerpt":"å¼•ç”¨ å¼•ç”¨æ˜¯å¯¹äºæŸä¸ªå…·ä½“å˜é‡æˆ–è€…å¯¹è±¡çš„åˆ«åï¼Œå®šä¹‰ä¸ºï¼šç±»å‹ &amp; å¼•ç”¨å = å˜é‡åï¼Œä¸€ä¸ªå¼•ç”¨çš„å®šä¹‰ç¤ºä¾‹å¦‚ä¸‹ï¼š 12int a;int &amp;ra = a; ä¸Šè¿°å®šä¹‰äº†ä¸€ä¸ªæŒ‡å‘å˜é‡açš„å¼•ç”¨raï¼Œraå’Œaéƒ½æ˜¯å†…å­˜ä¸­ç»Ÿä¸€å•å…ƒçš„ä¸åŒåå­—ã€‚å¼•ç”¨åœ¨å®šä¹‰æ—¶å¿…é¡»è¿›è¡Œåˆå§‹åŒ–ï¼ˆå³èµ‹åˆå€¼ï¼‰ã€‚","text":"å¼•ç”¨ å¼•ç”¨æ˜¯å¯¹äºæŸä¸ªå…·ä½“å˜é‡æˆ–è€…å¯¹è±¡çš„åˆ«åï¼Œå®šä¹‰ä¸ºï¼šç±»å‹ &amp; å¼•ç”¨å = å˜é‡åï¼Œä¸€ä¸ªå¼•ç”¨çš„å®šä¹‰ç¤ºä¾‹å¦‚ä¸‹ï¼š 12int a;int &amp;ra = a; ä¸Šè¿°å®šä¹‰äº†ä¸€ä¸ªæŒ‡å‘å˜é‡açš„å¼•ç”¨raï¼Œraå’Œaéƒ½æ˜¯å†…å­˜ä¸­ç»Ÿä¸€å•å…ƒçš„ä¸åŒåå­—ã€‚å¼•ç”¨åœ¨å®šä¹‰æ—¶å¿…é¡»è¿›è¡Œåˆå§‹åŒ–ï¼ˆå³èµ‹åˆå€¼ï¼‰ã€‚ å‡½æ•°çš„è¿”å›å€¼ä¹Ÿå¯ä»¥æ˜¯å¼•ç”¨ç±»å‹ï¼Œä½†æ˜¯ä¸èƒ½è¿”å›å‡½æ•°ç±»çš„ä¸´æ—¶å˜é‡ï¼Œå¦åˆ™ç¼–è¯‘å™¨ä¼šæŠ›å‡ºè­¦å‘Šã€‚ å¼•ç”¨çš„ä¼˜åŠ¿ï¼š æ›´åŠ çµæ´»çš„æ”¯æŒè¿ç®—ç¬¦çš„é‡è½½ã€‚ åˆ›å»ºæ—¶å¿…é¡»åˆå§‹åŒ–ï¼Œä¸å­˜åœ¨ç©ºå¼•ç”¨ã€‚ å‚æ•°ä¸­çš„å¸¸é‡å’Œå¸¸é‡å¼•ç”¨æŸäº›å‡½æ•°åœ¨è¿è¡Œä¸­ä»…ä»…éœ€è¦ç”¨åˆ°å‚æ•°çš„å€¼è€Œå¹¶ä¸éœ€è¦ä¿®æ”¹ï¼Œå› æ­¤å¯ä»¥é€šè¿‡ä¼ å…¥å¸¸é‡å¼•ç”¨çš„å½¢å¼ï¼Œé™åˆ¶å­ç¨‹åºå¯¹ä¼ å…¥çš„å‚æ•°è¿›è¡Œä¿®æ”¹ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 12345void f(const int &amp;a, const int &amp;b)&#123; // a = 1; wrong // ...&#125; ä¸Šè¿°å‡½æ•°ä¸­ä»…èƒ½è¯»å–å‚æ•°aï¼Œbçš„å€¼ï¼Œå¹¶ä¸å…è®¸ä¿®æ”¹ã€‚ æ‹·è´æ„é€ å‡½æ•°æ‹·è´æ„é€ å‡½æ•°æ˜¯ä¸€ç±»ç‰¹æ®Šçš„æ„é€ å‡½æ•°ï¼Œå…¶å‚æ•°ä¸ºåŒç±»å¯¹è±¡çš„å¸¸é‡å¼•ç”¨ï¼ˆä¸ä¸€å®šæ˜¯å¸¸é‡å¼•ç”¨ï¼Ÿï¼‰ï¼Œä¸€ä¸ªå…¸å‹çš„æ‹·è´æ„é€ å‡½æ•°ç¤ºä¾‹å¦‚ä¸‹ï¼š 1234567891011121314class Sample&#123;private: int x, y; // ...public: Sample(const Sample &amp;S) &#123; x = S.x; y = S.y; // ... &#125; // ...&#125;; æ‹·è´æ„é€ å‡½æ•°ä¸€èˆ¬åœ¨å¦‚ä¸‹æƒ…å†µä¼šè¢«è°ƒç”¨ï¼š ç”¨ä¸€ä¸ªç±»å¯¹è±¡å®šä¹‰ä¸€ä¸ªæ–°çš„ç±»å¯¹è±¡ï¼Œä¾‹å¦‚ 123Sample s1;Sample s2(s1);Sample s3 = s1; å‡½æ•°è°ƒç”¨æ—¶ä»¥å¯¹è±¡è€Œä¸æ˜¯å¼•ç”¨ä½œä¸ºå‚æ•°ã€‚ å‡½æ•°è¿”å›ç±»å¯¹è±¡ã€‚ è‹¥ç±»åœ¨å®šä¹‰æ—¶æ²¡æœ‰æ˜¾å¼å®šä¹‰æ‹·è´æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨åœ¨éœ€è¦æ—¶ä¼šè‡ªè¡Œäº§ç”Ÿæ‹·è´æ„é€ å‡½æ•°ï¼Œé‡‡ç”¨çš„å½¢å¼ä¸ºâ€œä½æ‹·è´â€ï¼ˆæµ…æ‹·è´ï¼‰ï¼Œå³æ‹·è´æˆå‘˜çš„åœ°å€è€Œéå†…å®¹ï¼Œè¿™å°±å®¹æ˜“å¯¼è‡´å†…å­˜æ³„æ¼ï¼Œç‰¹åˆ«æ˜¯å½“æ•°æ®æˆå‘˜ä¹‹ä¸­å«æœ‰æŒ‡é’ˆç±»å‹çš„æ—¶å€™ã€‚ å› æ­¤ï¼Œç¨‹åºè®¾è®¡ä¸­åº”è¯¥å°½é‡å‡å°‘ä½¿ç”¨æ‹·è´æ„é€ å‡½æ•°ã€‚ä¸»è¦çš„è§£å†³æ–¹æ³•æœ‰ï¼š å°½é‡ä½¿ç”¨å¼•ç”¨/å¸¸é‡å¼•ç”¨ä½œä¸ºå‡½æ•°å‚æ•°å’Œå‡½æ•°è¿”å›ç±»å‹ã€‚ å°†æ‹·è´æ„é€ å‡½æ•°å£°æ˜ä¸ºprivateæˆå‘˜ã€‚ ä½¿ç”¨deleteæ˜¾å¼åˆ é™¤æ‹·è´æ„é€ å‡½æ•°ã€‚ å³å€¼å¼•ç”¨ä¸ºæ­¤éœ€è¦å…ˆè¯´æ˜å·¦å€¼å’Œå³å€¼ã€‚ å·¦å€¼ï¼šå¯ä»¥å–åœ°å€ã€æœ‰åå­—çš„å€¼ã€‚ å³å€¼ï¼šä¸èƒ½å–åœ°å€ã€æ²¡æœ‰åå­—çš„å€¼ï¼Œå¸¸è§äºå¸¸å€¼ã€å‡½æ•°è¿”å›å€¼ä»¥åŠè¡¨è¾¾å¼ç­‰ã€‚ ä¸¾ä¸€ä¸ªç®€å•çš„æ —å­ï¼š 12345int a = 0, b = 0;int &amp;ra = a; // rightint *pa = &amp;a; // rightint &amp;ra_b = a + b; // wrongint *pa_b = &amp;(a + b); // wrong åä¸¤ä¸ªè¯­å¥ç¼–è¯‘å™¨ä¼šæŠ›å‡ºé”™è¯¯ï¼Œè¯´æ˜å³å€¼ä¸èƒ½å–åœ°å€ä»¥åŠè¢«å·¦å€¼å¼•ç”¨ï¼ˆ&amp;ï¼‰ã€‚ C++11ä¸­å¼•å…¥äº†å³å€¼å¼•ç”¨çš„æ¦‚å¿µã€‚å³å€¼å¼•ç”¨çš„å½¢å¼å¦‚ä¸‹æ‰€ç¤ºï¼š 123int a = 0, b = 0;int &amp;&amp;ra_b = a + b; // rightint &amp;&amp;ra = a; // wrong å¦‚ç¤ºä¾‹æ‰€ç¤ºï¼Œå³å€¼å¼•ç”¨å¯ä»¥ç»‘å®šåˆ°å³å€¼ä¸Šï¼Œä½†ä¸èƒ½ç»‘å®šåˆ°å·¦å€¼ä¸Šï¼Œå³å·¦å€¼å¼•ç”¨ç»‘å®šå·¦å€¼ï¼Œå³å€¼å¼•ç”¨ç»‘å®šå³å€¼ï¼Œä¾‹å¤–æ˜¯å·¦å€¼å¸¸é‡å¼•ç”¨å¯ä»¥ç»‘å®šå³å€¼ã€‚ è¡¥å……ä¸€ä¸ªç¤ºä¾‹ï¼š 123456789void f(const int &amp;a)&#123; // ...&#125;int main()&#123; f(3);&#125; ä»¥ä¸Šç¤ºä¾‹ä¸ä¼šæŠ›å‡ºé”™è¯¯ï¼Œè¯´æ˜å¸¸å¼•ç”¨å¯ä»¥ç»‘å®šåˆ°å³å€¼ä¸Šï¼ˆå› ä¸ºconstä¿è¯äº†å‚æ•°ä¸ä¼šè¢«ä¿®æ”¹ï¼‰ã€‚ å³å€¼å¼•ç”¨å¯ä»¥å»¶é•¿å³å°†é”€æ¯å˜é‡çš„ç”Ÿå‘½å‘¨æœŸã€‚ ç§»åŠ¨æ„é€ å‡½æ•°ä½¿ç”¨å³å€¼å¼•ç”¨ä½œä¸ºå‚æ•°çš„æ„é€ å‡½æ•°å«åšç§»åŠ¨æ„é€ å‡½æ•°ã€‚ ç§»åŠ¨æ„é€ å‡½æ•°ä¸æ‹·è´æ„é€ å‡½æ•°æœ€å¤§çš„åŒºåˆ«åœ¨äºç§»åŠ¨æ„é€ å‡½æ•°ç›´æ¥åˆ©ç”¨äº†åŸæ¥ä¸´æ—¶å¯¹è±¡ä¸­çš„å †å†…å­˜ï¼Œæ–°çš„å¯¹è±¡æ— éœ€å¼€è¾Ÿå†…å­˜ï¼Œä¸´æ—¶å¯¹è±¡æ— éœ€é‡Šæ”¾å†…å­˜ã€‚ ä¸¾ä¸€ä¸ªç®€å•çš„æ —å­ï¼š 12345678910111213141516171819202122232425262728class demo&#123;public: demo():num(new int(0)) &#123; cout&lt;&lt;\"construct!\"&lt;&lt;endl; &#125; //æ‹·è´æ„é€ å‡½æ•° demo(const demo &amp;d):num(new int(*d.num)) &#123; cout&lt;&lt;\"copy construct!\"&lt;&lt;endl; &#125; ~demo() &#123; cout&lt;&lt;\"class destruct!\"&lt;&lt;endl; &#125;private: int *num;&#125;;demo get_demo()&#123; return demo();&#125;int main()&#123; demo a = get_demo(); return 0;&#125; ä»¥ä¸Šçš„è¿‡ç¨‹ä¼šå¤šæ¬¡è°ƒç”¨æ‹·è´æ„é€ å‡½æ•°ï¼Œä¸´æ—¶å¯¹è±¡æ‰€å ç”¨çš„èµ„æºè¢«æµªè´¹ã€‚ ä¸‹é¢çš„ç¤ºä¾‹å¼•å…¥äº†ç§»åŠ¨æ„é€ å‡½æ•°ï¼š 12345678910111213141516171819202122232425262728293031public: demo():num(new int(0)) &#123; cout&lt;&lt;\"construct!\"&lt;&lt;endl; &#125; demo(const demo &amp;d):num(new int(*d.num)) &#123; cout&lt;&lt;\"copy construct!\"&lt;&lt;endl; &#125; //æ·»åŠ ç§»åŠ¨æ„é€ å‡½æ•° demo(demo &amp;&amp;d):num(d.num) &#123; d.num = NULL; cout&lt;&lt;\"move construct!\"&lt;&lt;endl; &#125; ~demo() &#123; cout&lt;&lt;\"class destruct!\"&lt;&lt;endl; &#125;private: int *num;&#125;;demo get_demo()&#123; return demo();&#125;int main()&#123; demo a = get_demo(); return 0;&#125; ç§»åŠ¨æ„é€ å‡½æ•°é‡‡ç”¨äº†æµ…æ‹·è´çš„æ–¹å¼ï¼Œç›´æ¥æ¥ç®¡ä¸´æ—¶å¯¹è±¡æ‰€å ç”¨çš„èµ„æºï¼Œé¿å…äº†æ— è°“çš„é”€æ¯ä»¥åŠç”³è¯·èµ„æºçš„å¼€é”€ã€‚ å³å€¼å¼•ç”¨ï¼šç§»åŠ¨è¯­ä¹‰æœ‰æ—¶å€™éœ€è¦å¯¹å·¦å€¼è°ƒç”¨ç§»åŠ¨æ„é€ å‡½æ•°ï¼Œstdæä¾›äº†move() moveå¯ä»¥è§£å¼•ç”¨ï¼Œå³å°†å·¦å€¼è½¬åŒ–ä¸ºå³å€¼ï¼ŒåŸå˜é‡è½¬åŒ–ä¸ºæœªåˆå§‹åŒ–çŠ¶æ€ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š 123Sample a;// ...Sample b = std::move(a); // aä¹‹åä¸ä¼šè¢«ä½¿ç”¨ èµ‹å€¼è¿ç®—ç¬¦ä¸åŒå¯¹è±¡ä¹‹é—´çš„èµ‹å€¼å¯é€šè¿‡é‡è½½èµ‹å€¼è¿ç®—ç¬¦æ¥å®ç°ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 12345678910111213141516class_name&amp; operator= (const class_name &amp;right)&#123; if (this != &amp;right) &#123; // ... å…·ä½“çš„èµ‹å€¼æ“ä½œ &#125; return *this;&#125;int main()&#123; class_name a, b; // ... a = b; // è°ƒç”¨èµ‹å€¼è¿ç®— class_name c = a; // æ‹·è´æ„é€ &#125; è‡ªåŠ¨ç±»å‹è½¬æ¢å½“å‡ºç°å¯¹è±¡ç±»å‹ä¸åŒ¹é…çš„æ—¶å€™ï¼Œéœ€è¦è¿›è¡Œç±»å‹è½¬æ¢ï¼Œå³å®ç°ä»æºç±»åˆ°ç›®æ ‡ç±»çš„è½¬æ¢ï¼Œä¸¤ä¸ªç±»ä¹‹é—´çš„è‡ªåŠ¨ç±»å‹è½¬æ¢æœ‰å¦‚ä¸‹ä¸¤ç§å®ç°æ–¹å¼ï¼š åœ¨æºç±»ä¸­å®šä¹‰ç›®æ ‡ç±»è½¬æ¢è¿ç®—ç¬¦ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 123456789101112class Src&#123;private: // ...public: operator Dst() const &#123; // ... return Dst(); &#125; &#125; åœ¨ç›®æ ‡ç±»ä¸­å®šä¹‰ä»¥æºç±»ä¸ºå‚æ•°çš„æ„é€ å‡½æ•°ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 12345678910class Dst&#123;private: // ...public: Dst(const Src &amp;s) &#123; // ... &#125;&#125; ä»¥ä¸Šæ–¹æ³•åªèƒ½åŒæ—¶ä½¿ç”¨ä¸€ç§ï¼Œä¸ªäººåå‘äºä½¿ç”¨ç¬¬äºŒç§ã€‚ ä½¿ç”¨å…³é”®å­—explicitå¯ä»¥ç¦æ­¢è‡ªåŠ¨ç±»å‹è½¬æ¢ï¼Œå³ç”¨explicitä¿®é¥°ç±»å‹è½¬æ¢è¿ç®—ç¬¦æˆ–ç±»å‹è½¬æ¢æ„é€ å‡½æ•°ï¼Œå…·ä½“å¦‚ä¸‹ï¼š 123explicit operator Dst() const;// or explicit Dst(const Src &amp;s); å¼ºåˆ¶ç±»å‹è½¬æ¢C++æä¾›äº†å››ç§ç±»å‹çš„å¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚ const_castï¼Œå»é™¤ç±»å‹çš„constæˆ–volatileå±æ€§ã€‚ static_castï¼Œç±»ä¼¼äºCé£æ ¼çš„å¼ºåˆ¶è½¬æ¢ã€‚æ— æ¡ä»¶è½¬æ¢ï¼Œé™æ€ç±»å‹è½¬æ¢ã€‚ dynamic_castï¼ŒåŠ¨æ€ç±»å‹è½¬æ¢ã€‚å¦‚å­ç±»å’Œçˆ¶ç±»ä¹‹é—´çš„å¤šæ€ç±»å‹è½¬æ¢ã€‚ reinterpret_castï¼Œä»…ä»…é‡æ–°è§£é‡Šç±»å‹ï¼Œä½†æ²¡æœ‰è¿›è¡ŒäºŒè¿›åˆ¶çš„è½¬æ¢ã€‚ å¯¹äºC++æä¾›çš„å¼ºåˆ¶ç±»å‹è½¬æ¢è¯¦è§£éœ€è¦å¦æŸ¥èµ„æ–™ã€‚","categories":[],"tags":[{"name":"OOP","slug":"OOP","permalink":"http://believebest35.github.io/tags/OOP/"}]},{"title":"é¢å‘å¯¹è±¡_åˆ›å»ºä¸é”€æ¯","slug":"OOP-THU-3","date":"2020-10-06T11:29:33.000Z","updated":"2020-10-13T12:18:10.475Z","comments":true,"path":"2020/10/06/OOP-THU-3/","link":"","permalink":"http://believebest35.github.io/2020/10/06/OOP-THU-3/","excerpt":"æ„é€ å‡½æ•°å¯¹è±¡çš„åˆå§‹åŒ–å·¥ä½œæ˜¯ç”±å¯¹è±¡çš„æ„é€ å‡½æ•°æ¥å®Œæˆçš„ã€‚æ„é€ å‡½æ•°æ²¡æœ‰è¿”å›å€¼ç±»å‹ï¼Œå‡½æ•°åå’Œç±»åä¸€è‡´ï¼Œå¹¶ä¸”å…è®¸é‡è½½ï¼Œä¸€ä¸ªå…¸å‹çš„æ„é€ å‡½æ•°çš„å®šä¹‰ç¤ºä¾‹å¦‚ä¸‹ï¼š 1234567891011class Student&#123; long ID;public: Student(long id) &#123; ID = id; &#125; Student(int year, int order) &#123; ID = year * 10000 + order; &#125; // ...&#125;;","text":"æ„é€ å‡½æ•°å¯¹è±¡çš„åˆå§‹åŒ–å·¥ä½œæ˜¯ç”±å¯¹è±¡çš„æ„é€ å‡½æ•°æ¥å®Œæˆçš„ã€‚æ„é€ å‡½æ•°æ²¡æœ‰è¿”å›å€¼ç±»å‹ï¼Œå‡½æ•°åå’Œç±»åä¸€è‡´ï¼Œå¹¶ä¸”å…è®¸é‡è½½ï¼Œä¸€ä¸ªå…¸å‹çš„æ„é€ å‡½æ•°çš„å®šä¹‰ç¤ºä¾‹å¦‚ä¸‹ï¼š 1234567891011class Student&#123; long ID;public: Student(long id) &#123; ID = id; &#125; Student(int year, int order) &#123; ID = year * 10000 + order; &#125; // ...&#125;; æ„é€ å‡½æ•°ä¹Ÿå¯ä»¥ç±»å¤–è¿›è¡Œå®šä¹‰ã€‚ä¸å¸¦ä»»ä½•å‚æ•°çš„æ„é€ å‡½æ•°è¢«ç§°ä¸ºé»˜è®¤æ„é€ å‡½æ•°ï¼Œæˆ–æ˜¯ç¼ºçœæ„é€ å‡½æ•°ã€‚ æ„é€ å‡½æ•°çš„åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°å¯ä»¥ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨æ¥å¯¹ç±»æˆå‘˜è¿›è¡Œåˆå§‹åŒ–ã€‚ä½ç½®å‡ºç°åœ¨å‡½æ•°ä½“å·¦èŠ±æ‹¬å·ä¹‹å‰ã€å‡½æ•°å‚æ•°åˆ—è¡¨åœ†æ‹¬å·ä¹‹åï¼Œä»¥å†’å·ä½œå¼€å¤´ï¼Œä½¿ç”¨æ•°æ®æˆå‘˜(åˆå§‹å€¼)çš„å½¢å¼ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š 1234567891011class Student&#123; long ID;public: Student(long id) ID(id) &#123;&#125; Student(int year, int order) &#123; ID = year * 10000 + order; &#125; // ...&#125;; å§”æ´¾æ„é€ å‡½æ•°æ„é€ å‡½æ•°çš„åˆå§‹åŒ–åˆ—è¡¨ä¸­è¿˜å¯ä»¥è°ƒç”¨å…¶ä»–æ„é€ å‡½æ•°ï¼Œè¢«ç§°ä¸ºå§”æ´¾æ„é€ å‡½æ•°ã€‚ 123456789101112class Info&#123;public: Info() &#123; Init(); &#125; Info(int i) : Info() &#123; id = i; &#125; Info(char c) : Info() &#123; gender = c; &#125;private: void Init() &#123; .... &#125;// å…¶ä»–åˆå§‹åŒ– int id &#123;2016&#125;; char gender &#123;'M'&#125;; ...&#125;; å°±åœ°åˆå§‹åŒ–C++11æ”¯æŒå¯¹äºç±»ä¸­éé™æ€æˆå‘˜å˜é‡è¿›è¡Œå¦‚ä¸‹çš„åˆå§‹åŒ–ï¼š 12345678910class A&#123;private: int a = 1; double b &#123;2.0&#125;; public: A() &#123;&#125; A(int i):a(i) &#123;&#125; A(int i, double j): a(i),b(j) &#123;&#125;&#125;; æ˜¾å¼åˆ é™¤æ„é€ å‡½æ•°å¯ä»¥ä½¿ç”¨deleteæ˜¾å¼çš„åˆ é™¤çš„æŸäº›æ„é€ å‡½æ•°ï¼Œä»¥é˜²æ­¢å‡ºç°æŸäº›æœªé¢„æœŸçš„æœªå®šä¹‰è¡Œä¸ºã€‚ä¸¾ä¸€ä¸ªæ —å­ï¼š 12345678910111213class A&#123;private: int a = 1; double b &#123;2.0&#125;; char c = 'c';public: A() = default; // æ˜¾å¼å£°æ˜é»˜è®¤æ„é€ å‡½æ•° A(int i):a(i) &#123;&#125; A(char ch) = delete; &#125;;A a('c'); //åˆ é™¤äº†ä»¥charè¿›è¡Œåˆå§‹åŒ–çš„æ„é€ å‡½æ•°ï¼Œå¯ä»¥é¿å…ä¸€äº›å·¥ç¨‹ä¸Šçš„äºŒä¹‰æ€§é—®é¢˜ï¼Œå› ä¸ºcharå‹å¯ä»¥è¢«è½¬ä¸ºintå‹ï¼Œåˆ é™¤ä¹‹åç¼–è¯‘å™¨å°†ç¦æ­¢è¿™æ ·çš„æœªå®šä¹‰è¡Œä¸ºã€‚ ææ„å‡½æ•°å¯¹è±¡çš„é”€æ¯æ˜¯ç”±å¯¹è±¡çš„ææ„å‡½æ•°æ¥å®Œæˆçš„ï¼Œææ„å‡½æ•°åªæœ‰ä¸€ä¸ªï¼Œå¹¶ä¸”ä¸éœ€è¦ä»»ä½•å‚æ•°ï¼Œåœ¨å¯¹è±¡çš„ç”Ÿå‘½æœŸç»“æŸæ—¶è‡ªåŠ¨è°ƒç”¨ã€‚å®šä¹‰å½¢å¼ä¸ºï¼š ~&lt;ç±»å&gt; å…·ä½“ç¤ºä¾‹å¦‚ä¸‹ï¼š 123456789101112class ClassRoom&#123; int num; long* ID_list;public: ClassRoom() : num(0), ID_list(0); &#123; &#125; // ... ~ClassRoom() &#123; // ææ„å‡½æ•° if (ID_list) delete[] ID_list; // é‡Šæ”¾å†…å­˜ &#125;&#125;; å¯¹äºç”³è¯·åŠ¨æ€å†…å­˜çš„å˜é‡éœ€è¦æ˜¾å¼å®šä¹‰ææ„å‡½æ•°æ¥é‡Šæ”¾ç©ºé—´ã€‚ ç±»ä¸­çš„é™æ€æˆå‘˜ staticstaticä¿®é¥°çš„ç±»æˆå‘˜å˜é‡è¢«ç§°ä¸ºé™æ€æ•°æ®æˆå‘˜ï¼Œä¸ºå±äºè¯¥ç±»çš„æ‰€æœ‰å¯¹è±¡æ‰€å…±æœ‰ï¼Œå³æ‰€æœ‰å¯¹è±¡ä¸­çš„è¿™ä¸ªæ•°æ®åŸŸå¤„åœ¨åŒä¸€å†…å­˜ä½ç½®ã€‚ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹å¦‚ä¸‹ï¼š 12345678910class Sample&#123;private: int x, y; static int count;public: // ...&#125;;int Sample::count = 0; å¦‚ä¸Šå®šä¹‰äº†ä¸€ä¸ªå±äºæ‰€æœ‰Sampleç±»å¯¹è±¡çš„é™æ€æ•°æ®æˆå‘˜countï¼Œå…¶å¿…é¡»åœ¨ç±»å¤–è¿›è¡Œåˆå§‹åŒ–ã€‚åœ¨å·¥ç¨‹ä¸­æ›´ä¸ºè§„èŒƒçš„åšæ³•æ˜¯å°†ç±»çš„é™æ€æ•°æ®æˆå‘˜çš„å£°æ˜æ”¾åœ¨.hï¼ˆå¤´æ–‡ä»¶ï¼‰ä¸­ï¼Œå…·ä½“çš„åˆå§‹åŒ–æ”¾åœ¨.cppï¼ˆå®ç°æ–‡ä»¶ï¼‰ä¸­ã€‚ æˆå‘˜å‡½æ•°ä¹Ÿå¯ä»¥è¢«staticä¿®é¥°ï¼Œåœ¨è¿”å›å€¼å‰é¢æ·»åŠ staticä¿®é¥°çš„æˆå‘˜å‡½æ•°ï¼Œç§°ä¸ºç±»çš„é™æ€æˆå‘˜å‡½æ•°ï¼Œä¸€ä¸ªç®€å•çš„ç¤ºä¾‹å¦‚ä¸‹ï¼š 1234567891011121314class Sample&#123;private: int x, y; static int count;public: static int show_count() &#123; return count; &#125; // ...&#125;;int Sample::count = 0; ç±»çš„é™æ€æˆå‘˜æ—¢å¯ä»¥é€šè¿‡ç±»åè¿›è¡Œè®¿é—®ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å…·ä½“çš„å¯¹è±¡è¿›è¡Œè®¿é—®ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ç±»çš„é™æ€æˆå‘˜å‡½æ•°ä¸èƒ½è®¿é—®ç±»çš„éé™æ€æ•°æ®æˆå‘˜ï¼Œå› ä¸ºé™æ€æˆå‘˜å‡½æ•°åœ¨å¯¹è±¡è¿›è¡Œåˆå§‹åŒ–ä¹‹å‰å·²ç»åˆ†é…äº†å†…å­˜ç©ºé—´ï¼Œå¹¶ä¸”ä¸ºæ‰€æœ‰å¯¹è±¡æ‰€å…±æœ‰ï¼Œè€Œéé™æ€æ•°æ®æˆå‘˜åªæœ‰åœ¨å¯¹è±¡è¿›è¡Œå®ä¾‹åŒ–æ—¶æ‰åˆ†é…å…·ä½“çš„ç©ºé—´ã€‚ ç±»ä¸­çš„å¸¸é‡æˆå‘˜ constä½¿ç”¨constä¿®é¥°çš„æ•°æ®æˆå‘˜ç§°ä¸ºç±»çš„å¸¸é‡æ•°æ®æˆå‘˜ï¼Œåœ¨ä¸€ä¸ªå¯¹è±¡çš„ç”Ÿå‘½æœŸä¸­ä¸å¯ä»¥è¢«ä¿®æ”¹ã€‚å¸¸é‡æ•°æ®æˆå‘˜çš„åˆå§‹åŒ–å¯ä»¥é€šè¿‡ä»¥ä¸‹å½¢å¼è¿›è¡Œï¼š æ„é€ å‡½æ•°çš„åˆå§‹åŒ–åˆ—è¡¨è¿›è¡Œåˆå§‹åŒ– å°±åœ°åˆå§‹åŒ–ï¼ˆC++11çš„æ–°ç‰¹æ€§ï¼‰ æ³¨æ„ï¼Œä¸èƒ½åœ¨æ„é€ å‡½æ•°çš„å‡½æ•°ä½“ä¸­å¯¹å¯¹è±¡çš„å¸¸é‡æ•°æ®æˆå‘˜è¿›è¡Œèµ‹å€¼ã€‚ ç±»çš„æˆå‘˜å‡½æ•°ä¹Ÿå¯ä»¥ä½¿ç”¨constè¿›è¡Œä¿®é¥°ï¼Œè¢«ç§°ä¸ºç±»çš„å¸¸é‡æˆå‘˜å‡½æ•°ï¼Œè¯¥æˆå‘˜å‡½æ•°ä¸èƒ½æ”¹å˜ç±»çš„æ•°æ®æˆå‘˜ã€‚ 123456789101112class Sample&#123;private: const int x;public: Sample(): x(0) &#123;&#125; const int show_x() &#123; // x = 1; wrongï¼Œconstä¿®é¥°çš„å‡½æ•°ä¸å…è®¸ä¿®æ”¹æ•°æ®æˆå‘˜ return x; &#125;&#125;; å¸¸é‡é™æ€æ•°æ®æˆå‘˜ç±»çš„æ•°æ®æˆå‘˜æ—¢å¯ä»¥å®šä¹‰ä¸ºå¸¸é‡ï¼Œä¹Ÿå¯ä»¥å®šä¹‰ä¸ºé™æ€çš„ï¼Œå¸¸é‡é™æ€æ•°æ®æˆå‘˜éœ€è¦åœ¨ç±»å¤–è¿›è¡Œåˆå§‹åŒ–ï¼ˆint ç±»å‹å’Œenumç±»å‹é™¤å¤–ï¼‰ã€‚ å¯¹è±¡çš„æ„é€ ä¸ææ„ å±€éƒ¨å¯¹è±¡çš„æ„é€ ä¸ææ„ å±€éƒ¨å¯¹è±¡åœ¨ç¨‹åºæ‰§è¡Œåˆ°è¯¥å±€éƒ¨å¯¹è±¡çš„ä¾¿è¿›è¡Œæ„é€ ï¼Œåœ¨å…¶ä½œç”¨åŸŸç»“æŸæ—¶è¿›è¡Œææ„ã€‚ å…¨å±€å¯¹è±¡çš„æ„é€ ä¸ææ„ å…¨å±€å¯¹è±¡åœ¨mainå‡½æ•°è°ƒç”¨ä¹‹å‰è¿›è¡Œæ„é€ ï¼Œåœ¨mainå‡½æ•°æ‰§è¡Œreturnä¹‹åè¿›è¡Œææ„ã€‚ ä¸€èˆ¬æ¥è¯´ç¨‹åºä¸­éœ€è¦å°½é‡å°‘ä½¿ç”¨å…¨å±€å¯¹è±¡ã€‚ å‡½æ•°é™æ€å¯¹è±¡çš„æ„é€ ä¸ææ„ å‡½æ•°é™æ€å¯¹è±¡æ˜¯æŒ‡åœ¨å‡½æ•°å†…éƒ¨å®šä¹‰çš„staticå¯¹è±¡ã€‚åœ¨ç¨‹åºæ‰§è¡Œåˆ°è¯¥å±€éƒ¨é™æ€å¯¹è±¡çš„ä»£ç æ—¶è¢«åˆå§‹åŒ–ï¼Œç¦»å¼€ä½œç”¨åŸŸä¸ææ„ï¼Œç¬¬äºŒæ¬¡æ‰§è¡Œåˆ°è¯¥å¯¹è±¡ä»£ç æ—¶ï¼Œä¸å†åˆå§‹åŒ–ï¼Œç›´æ¥ä½¿ç”¨ä¸Šä¸€æ¬¡çš„å¯¹è±¡ï¼Œåœ¨mainå‡½æ•°ç»“æŸåè¢«ææ„ã€‚ å‚æ•°å¯¹è±¡çš„æ„é€ ä¸ææ„ è‹¥ä¼ é€’çš„æ˜¯å½¢å‚ï¼Œåœ¨è¿›å…¥å­å‡½æ•°æ—¶å½¢å‚å¯¹è±¡è¿›è¡Œæ„é€ ï¼Œåœ¨ç¦»å¼€å­å‡½æ•°æ—¶è¿›è¡Œææ„ï¼Œè‹¥ä¼ é€’çš„æ˜¯å¼•ç”¨ï¼Œåœ¨è¿›å…¥å­å‡½æ•°æ—¶ä¸è¿›è¡Œæ„é€ ï¼Œç¦»å¼€ä¹Ÿä¸è¿›è¡Œææ„ï¼Œå› ä¸ºä¼ é€’çš„æ˜¯ä¸€ä¸ªå˜é‡çš„â€œåˆ«åâ€ã€‚ å› æ­¤å‡½æ•°å‚æ•°å°½å¯èƒ½ä½¿ç”¨å¼•ç”¨ä¼ é€’ï¼Œå¯ä»¥é¿å…å¤§å¯¹è±¡çš„æ‹·è´ã€‚","categories":[],"tags":[{"name":"OOP","slug":"OOP","permalink":"http://believebest35.github.io/tags/OOP/"}]},{"title":"é¢å‘å¯¹è±¡_å°è£…ä¸æ¥å£","slug":"OOP-THU-2","date":"2020-10-05T13:03:07.000Z","updated":"2020-10-13T12:25:52.667Z","comments":true,"path":"2020/10/05/OOP-THU-2/","link":"","permalink":"http://believebest35.github.io/2020/10/05/OOP-THU-2/","excerpt":"å‡½æ•°é‡è½½åŒä¸€åç§°çš„å‡½æ•°ï¼Œæœ‰ä¸¤ä¸ªä»¥ä¸Šä¸åŒçš„å‡½æ•°å®ç°ï¼Œè¢«ç§°ä¸ºâ€œå‡½æ•°é‡è½½â€ï¼Œä¾‹å¦‚ 123456789void print(const char *msg)&#123; cout &lt;&lt; \"message: \" &lt;&lt; msg &lt;&lt; endl;&#125;void print(int score)&#123; cout &lt;&lt; \"score = \" &lt;&lt; score &lt;&lt; endl;&#125;","text":"å‡½æ•°é‡è½½åŒä¸€åç§°çš„å‡½æ•°ï¼Œæœ‰ä¸¤ä¸ªä»¥ä¸Šä¸åŒçš„å‡½æ•°å®ç°ï¼Œè¢«ç§°ä¸ºâ€œå‡½æ•°é‡è½½â€ï¼Œä¾‹å¦‚ 123456789void print(const char *msg)&#123; cout &lt;&lt; \"message: \" &lt;&lt; msg &lt;&lt; endl;&#125;void print(int score)&#123; cout &lt;&lt; \"score = \" &lt;&lt; score &lt;&lt; endl;&#125; ç¼–è¯‘å™¨å°†æ ¹æ®å‡½æ•°è°ƒç”¨è¯­å¥çš„å®é™…å‚æ•°æ¥å†³å®šå“ªä¸€ä¸ªå‡½æ•°è¢«è°ƒç”¨ï¼Œå¤šä¸ªåŒåçš„å‡½æ•°å®ç°ä¹‹é—´å¿…é¡»ä¿è¯è‡³å°‘æœ‰ä¸€ä¸ªå‚æ•°çš„ç±»å‹ä¸ä¸€æ ·ã€‚ å‡½æ•°åœ¨å®šä¹‰æ—¶å¯ä»¥æŒ‡å®šå‚æ•°çš„é»˜è®¤å€¼ï¼Œç¨‹åºåœ¨è°ƒç”¨æ—¶è‹¥ä¸æä¾›å‚æ•°åˆ™ä¼šä½¿ç”¨é»˜è®¤çš„å‚æ•°å€¼ï¼Œä¾‹å¦‚ï¼š 1234void print(const char *msg = \"hello world\")&#123; cout &lt;&lt; msg &lt;&lt; endl;&#125; ä¸€äº›åŸºç¡€çŸ¥è¯†autoautoç±»å‹å¯ä»¥æ ¹æ®å˜é‡çš„ä¸Šä¸‹æ–‡è‡ªåŠ¨æ¨æ–­å˜é‡çš„ç±»å‹ã€‚ä¾‹å¦‚ï¼š 12auto i = 3; // iä¸ºæ•´å‹auto a = 4.0f; // aä¸ºæµ®ç‚¹æ•°ç±»å‹ è¿½è¸ªè¿”å›ç±»å‹çš„å‡½æ•°å¯ä»¥å°†å‡½æ•°è¿”å›ç±»å‹çš„å£°æ˜ä¿¡æ¯æ”¾åˆ°å‡½æ•°å‚æ•°åˆ—è¡¨çš„åé¢è¿›è¡Œå£°æ˜ï¼Œå¦‚ï¼š 12345// æ™®é€šå‡½æ•°å£°æ˜å½¢å¼int func(char* ptr, int val);// è¿½è¸ªè¿”å›ç±»å‹çš„å‡½æ•°å£°æ˜å½¢å¼auto func(char* ptr, int val) -&gt; int; è¿½è¸ªè¿”å›ç±»å‹åœ¨åŸæœ¬å‡½æ•°è¿”å›å€¼çš„ä½ç½®ä½¿ç”¨autoå…³é”®å­—ã€‚ decltypedecltypeå¯ä»¥å¯¹å˜é‡æˆ–è¡¨è¾¾å¼ç»“æœçš„ç±»å‹è¿›è¡Œæ¨å¯¼ï¼Œå¯ä»¥ç”¨æ¥é‡ç”¨åŒ¿åç±»å‹ï¼Œåœ¨æ³›å‹ç¼–ç¨‹ä¸­ç»“åˆautoï¼Œå¯ç”¨äºè¿½è¸ªå‡½æ•°çš„è¿”å›å€¼ç±»å‹ï¼Œå¦‚ï¼š 12345678struct &#123; int a;&#125; s;int main()&#123; decltype(s) s1; // å®šä¹‰äº†ä¸€ä¸ªä¸såŒç±»å‹çš„ç»“æ„ä½“å˜é‡&#125; ç»“åˆautoå’Œdecltypeå¯ä»¥æ¨åˆ°å‡½æ•°çš„è¿”å›ç±»å‹ï¼Œä¸€èˆ¬ç”¨åœ¨æ³›å‹ç¼–ç¨‹ä¹‹ä¸­ã€‚ 12345template &lt;typename _Tx, typename _Ty&gt;auto multiply(_Tx x, _Ty y) -&gt; decltype(_Tx * _Ty)&#123; return x * y;&#125; new / deletenewå’Œdeleteè¿ç®—ç¬¦å¯ä»¥åœ¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­åŠ¨æ€çš„ç”³è¯·å’Œé‡Šæ”¾å†…å­˜ç©ºé—´ï¼Œå¦‚ä¸‹ï¼š 1234int *a = new int; // ç”³è¯·ä¸€ä¸ªæ•´å‹å˜é‡çš„ç©ºé—´int *arr = new int[10]; // ç”³è¯·å¤§å°ä¸º10çš„æ•´å‹æ•°ç»„ç©ºé—´delete a; //åˆ é™¤ç”³è¯·çš„å•ä¸ªå˜é‡delete[] arr; //åˆ é™¤ç”³è¯·çš„è¿ç»­å†…å­˜åŒºåŸŸ nullptrC++11å¼•å…¥äº†nullptrï¼Œä¹‹å‰ä½¿ç”¨NULLè¡¨ç¤ºç©ºæŒ‡é’ˆï¼ŒNULLè¢«å®šä¹‰ä¸º0ï¼Œå¯ä»¥è¢«è§†ä¸ºä¸€ä¸ªæ•´å‹å˜é‡ï¼Œå› æ­¤å¦‚ä¸‹çš„ä»£ç ä¼šå‡ºç°é—®é¢˜ï¼š 12345678910111213141516void f(int x, int y)&#123; //...&#125;void f(int x, double *y)&#123; //...&#125;int main()&#123; //... f(2, NULL); // wrong f(2, nullptr); // right&#125; ä»¥ä¸Šçš„ä»£ç ä¼šå‡ºç°é”™è¯¯ï¼Œå› ä¸ºåœ¨ä½¿ç”¨NULLè¡¨ç¤ºç©ºæŒ‡é’ˆçš„æ—¶å€™å¸¸å¸¸å®¹æ˜“å¿½ç•¥NULLä¹Ÿæ˜¯ä¸€ä¸ªintå‹å¸¸é‡ï¼Œè€Œnullptrè¡¨ç¤ºä¸¥æ ¼æ„ä¹‰ä¸Šçš„ç©ºæŒ‡é’ˆï¼Œå› æ­¤ä¸ä¼šå‡ºç°äºŒä¹‰æ€§çš„é”™è¯¯ã€‚ åŸºäºèŒƒå›´çš„forå¾ªç¯ä¸¾ä¾‹è¯´æ˜ï¼š 12345678void f(vector&lt;int&gt; &amp;nums)&#123; for (auto num : nums) &#123; //... &#125; // ä»¥ä¸Šå¯ä»¥è‡ªåŠ¨çš„éå†vectorï¼ŒåŒç†å¯ä»¥æ¨å¹¿åˆ°å…¶ä»–å¯è¿­ä»£ç±»å‹&#125; å¯¹è±¡å¯¹è±¡å…·æœ‰é™æ€ç‰¹æ€§ä»¥åŠåŠ¨æ€ç‰¹æ€§ã€‚ é™æ€ç‰¹å¾ï¼šå¯ä»¥ç”¨æŸç§æ•°æ®æ¥æè¿°çš„å±æ€§ åŠ¨æ€ç‰¹å¾ï¼šå¯¹è±¡è¡¨ç°çš„è¡Œä¸ºæˆ–å…·æœ‰çš„åŠŸèƒ½ ç”¨æˆ·è‡ªå®šä¹‰ç±»å‹classä¸€ä¸ªclassçš„å®šä¹‰ç¤ºä¾‹å¦‚ä¸‹ï¼š 123456789101112// matrix.h#ifndef __MATRIX_H__#define __MATRIX_H__class Matrix&#123;private: int data[6][6];public: void fill(char dir);&#125;;#endif æˆå‘˜å‡½æ•°çš„å£°æ˜ä¸€èˆ¬æ”¾åœ¨ç±»å®šä¹‰ä¸­ï¼Œå…·ä½“å®ç°ä¸€èˆ¬æ”¾åœ¨å®ç°æ–‡ä»¶ä¸­ï¼Œä¾‹å¦‚ï¼š 1234567// matrix.cpp#include \"matrix.h\"void Matrix::fill(char dir) //ç±»å¤–éœ€è¦ç±»åé™å®š&#123; ... // å‡½æ•°å®ç°&#125; æˆå‘˜å‡½æ•°çš„å®ç°ä¹Ÿå¯ä»¥æ”¾åœ¨ç±»å®šä¹‰ä¸­ï¼Œæ”¾åœ¨ç±»å®šä¹‰ä¸­çš„æˆå‘˜å‡½æ•°ä¼šè‡ªåŠ¨å†…è”ã€‚ ç±»çš„æˆå‘˜ï¼ˆæ•°æ®ã€å‡½æ•°ï¼‰å¯ä»¥æ ¹æ®éœ€è¦åˆ†æˆç»„ï¼Œä¸åŒç»„è®¾ç½®ä¸åŒçš„è®¿é—®æƒé™ã€‚ public publicä¿®é¥°çš„æˆå‘˜å¯ä»¥åœ¨ç±»å¤–ç”¨â€œ.â€æ“ä½œç¬¦è®¿é—®ã€‚ private privateæ˜¯ä¸æŒ‡å®šæˆå‘˜è®¿é—®æƒé™æ—¶çš„é»˜è®¤æƒé™ï¼Œä¸å¯ä»¥åœ¨ç±»å¤–ä½¿ç”¨â€œ.â€è¿ç®—ç¬¦è¿›è¡Œè®¿é—®ã€‚ protected æœ‰å…³ç»§æ‰¿æ—¶å†è¿›è¡Œè®¨è®ºã€‚ thisæŒ‡é’ˆæ‰€æœ‰æˆå‘˜å‡½æ•°çš„å‚æ•°ä¸­ï¼Œéšå«ç€ä¸€ä¸ªæŒ‡å‘å½“å‰å¯¹è±¡çš„æŒ‡é’ˆå˜é‡ï¼Œå…¶åç§°ä¸ºthisã€‚ 12345678910class Matrix&#123;public: void fill(char dir) &#123; //... this -&gt; data[0][0] = 1; //ç­‰ä»·äº data[0][0] = 1; &#125; ...&#125;; ç±»çš„è¿ç®—ç¬¦é‡è½½ä»¥ä¸€ä¸ªä¾‹å­è¿›è¡Œè¯´æ˜ï¼Œç±»å®šä¹‰å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425class Sample&#123;private: int x, y; static int count;public: Sample(); Sample(int x1, int x2, int y1, int y2): x(x1 + x2), y(y1 + y2) &#123;&#125; Sample(int x1, int y1); ~Sample(); void change_x_y(int x1, int y1); friend Sample operator+ (const Sample &amp;s1, const Sample &amp;s2); // +çš„é‡è½½ å£°æ˜ä¸ºå‹å…ƒå‡½æ•° Sample&amp; operator+= (Sample &amp;s); // += çš„é‡è½½ friend istream&amp; operator&gt;&gt; (istream &amp;in, Sample &amp;dst); // &gt;&gt;çš„é‡è½½ å£°æ˜ä¸ºå‹å…ƒå‡½æ•° friend ostream&amp; operator&lt;&lt; (ostream &amp;out, Sample &amp;src); // &lt;&lt;çš„é‡è½½ å£°æ˜ä¸ºå‹å…ƒå‡½æ•° void display(); void display_cnt() &#123; count++; cout &lt;&lt; count &lt;&lt; endl; &#125;&#125;;int Sample::count = 0; è¿ç®—ç¬¦+å’Œ+=çš„é‡è½½å®ç°å¦‚ä¸‹ï¼š 1234567891011121314Sample&amp; Sample::operator+=(Sample &amp;s)&#123; this -&gt; x += s.x; this -&gt; y += s.y; return *this;&#125;Sample operator+ (const Sample &amp;s1, const Sample &amp;s2)&#123; Sample sum; sum.x = s1.x + s2.x; sum.y = s1.y + s2.y; return sum;&#125; æµè¿ç®—ç¬¦çš„é‡è½½ï¼ˆ&gt;&gt; , &lt;&lt;ï¼‰ 1234567891011istream&amp; operator&gt;&gt; (istream &amp;in, Sample &amp;dst)&#123; in &gt;&gt; dst.x &gt;&gt; dst.y; return in;&#125;ostream&amp; operator&lt;&lt; (ostream &amp;out, Sample &amp;src)&#123; out &lt;&lt; src.x &lt;&lt; \" \" &lt;&lt; src.y; return out;&#125; å…³äºæ›´å¤šçš„ç‰¹æ®Šè¿ç®—ç¬¦é‡è½½å¯ä»¥æŸ¥è¯¢èµ„æ–™ å‹å…ƒåœ¨ä¸Šé¢çš„è¿ç®—ç¬¦é‡è½½å£°æ˜ä¸­å‡ºç°äº†friendå…³é”®å­—ï¼Œfriendå¯ä»¥å°†å¤–éƒ¨çš„ä¸€äº›å‡½æ•°æˆ–è€…ç±»å£°æ˜ä¸ºå‹å…ƒï¼Œå£°æ˜ä¸ºå‹å…ƒçš„å‡½æ•°æˆ–è€…ç±»å¯ä»¥è®¿é—®è¯¥ç±»çš„ä¸€åˆ‡æˆå‘˜ï¼Œä¸å—privateå…³é”®å­—çš„å½±å“ã€‚ å‹å…ƒä¸ä¼ é€’ï¼Œå³æœ‹å‹çš„æœ‹å‹ä¸æ˜¯ä½ çš„æœ‹å‹ã€‚ å‹å…ƒä¸ç»§æ‰¿ï¼Œå³æœ‹å‹çš„å­©å­ä¸æ˜¯ä½ çš„æœ‹å‹ã€‚ å‹å…ƒå£°æ˜ä¸èƒ½å®šä¹‰æ–°çš„classã€‚ å†…è”å‡½æ•°ä½¿ç”¨å†…è”å‡½æ•°ï¼Œç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶ä¼šè‡ªåŠ¨ç”Ÿæˆä¸å‡½æ•°ç­‰ä»·çš„è¡¨è¾¾å¼è¯­å¥ï¼Œä»è€Œå‡å°‘å‡½æ•°è°ƒç”¨çš„å¼€é”€ã€‚ä¾‹å¦‚ï¼› 123456789101112inline int max(int a, int b)&#123; return a &gt; b ? a : b;&#125;int main()&#123; int a, b; // ... // cout &lt;&lt; max(a, b) &lt;&lt; endl; å®é™…ä¼šè¢«ä¼˜åŒ–ä¸ºå¦‚ä¸‹è¯­å¥ cout &lt;&lt; a &gt; b ? a : b &lt;&lt; endl;&#125;","categories":[],"tags":[{"name":"OOP","slug":"OOP","permalink":"http://believebest35.github.io/tags/OOP/"}]},{"title":"é¢å‘å¯¹è±¡_ç¼–ç¨‹ç¯å¢ƒåŸºç¡€","slug":"OOP-THU-1","date":"2020-10-05T08:34:31.000Z","updated":"2020-10-13T12:26:23.740Z","comments":true,"path":"2020/10/05/OOP-THU-1/","link":"","permalink":"http://believebest35.github.io/2020/10/05/OOP-THU-1/","excerpt":"ä»¥ä¸‹å…³äºé¢å‘å¯¹è±¡è¯¾ç¨‹èµ„æ–™çš„å†…å®¹æ¥æºäºæ¸…åå¤§å­¦åˆ˜çŸ¥è¿œè€å¸ˆå¼€è®¾çš„é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡åŸºç¡€è¯¾ç¨‹ï¼Œ è¯¾ç¨‹èµ„æ–™ ç¼–è¯‘å’Œé“¾æ¥C++æºç¨‹åºå˜ä¸ºç›®æ ‡å¹³å°ä¸Šçš„å¯æ‰§è¡Œç¨‹åºéœ€è¦ç»è¿‡ç¼–è¯‘å™¨ä»¥åŠé“¾æ¥å™¨ã€‚ ç¼–è¯‘å™¨ï¼šé¦–å…ˆå°†æºä»£ç è§£æä¸ºè¯­æ³•åˆ†ææ ‘ï¼Œå†æ ¹æ®è¯­æ³•åˆ†ææ ‘ç”Ÿæˆå¯¹åº”çš„ä¸­é—´ä»£ç æˆ–ç›´æ¥ç”Ÿæˆå¯¹åº”å¹³å°çš„æ±‡ç¼–ç ã€æœºå™¨ç ï¼Œå³ç”Ÿæˆç›®æ ‡æ–‡ä»¶ã€‚ é“¾æ¥å™¨ï¼šå°†ç›®æ ‡æ¨¡å—é“¾æ¥ä¸ºå¯æ‰§è¡Œç¨‹åºã€‚","text":"ä»¥ä¸‹å…³äºé¢å‘å¯¹è±¡è¯¾ç¨‹èµ„æ–™çš„å†…å®¹æ¥æºäºæ¸…åå¤§å­¦åˆ˜çŸ¥è¿œè€å¸ˆå¼€è®¾çš„é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡åŸºç¡€è¯¾ç¨‹ï¼Œ è¯¾ç¨‹èµ„æ–™ ç¼–è¯‘å’Œé“¾æ¥C++æºç¨‹åºå˜ä¸ºç›®æ ‡å¹³å°ä¸Šçš„å¯æ‰§è¡Œç¨‹åºéœ€è¦ç»è¿‡ç¼–è¯‘å™¨ä»¥åŠé“¾æ¥å™¨ã€‚ ç¼–è¯‘å™¨ï¼šé¦–å…ˆå°†æºä»£ç è§£æä¸ºè¯­æ³•åˆ†ææ ‘ï¼Œå†æ ¹æ®è¯­æ³•åˆ†ææ ‘ç”Ÿæˆå¯¹åº”çš„ä¸­é—´ä»£ç æˆ–ç›´æ¥ç”Ÿæˆå¯¹åº”å¹³å°çš„æ±‡ç¼–ç ã€æœºå™¨ç ï¼Œå³ç”Ÿæˆç›®æ ‡æ–‡ä»¶ã€‚ é“¾æ¥å™¨ï¼šå°†ç›®æ ‡æ¨¡å—é“¾æ¥ä¸ºå¯æ‰§è¡Œç¨‹åºã€‚ g++ -c åªç¼–è¯‘ä¸é“¾æ¥ g++ -o é“¾æ¥ç›®æ ‡ç¨‹åº 12345678910111213141516171819202122--- Desktop/oop_test Â» lsmain.cpp--- Desktop/oop_test Â» cat main.cpp#include&lt;iostream&gt;using namespace std;int main()&#123; cout &lt;&lt; \"hello world\" &lt;&lt; endl; return 0;&#125;--- Desktop/oop_test Â» lsmain.cpp--- Desktop/oop_test Â» g++ -c main.cpp--- Desktop/oop_test Â» lsmain.cpp main.o--- Desktop/oop_test Â» g++ -o main.out main.o--- Desktop/oop_test Â» lsmain.cpp main.o main.out--- Desktop/oop_test Â» ./main.outhello world--- Desktop/oop_test Â» å®å®šä¹‰ ç®€å•çš„å®å®šä¹‰ï¼š#define &lt;å®å&gt; &lt;å­—ç¬¦ä¸²&gt; å¦‚ 1#define PI 3.14 // ä¸å»ºè®®ä½¿ç”¨å®å®šä¹‰ï¼Œå»ºè®®ä½¿ç”¨constå®šä¹‰å¸¸é‡ å¸¦å‚æ•°çš„å®å®šä¹‰ï¼š#define &lt;å®å&gt; (&lt;å‚æ•°è¡¨&gt;) &lt;å­—ç¬¦ä¸²&gt; å¦‚ 1#define sqr(x) ((x) * (x)) é˜²æ­¢å¤´æ–‡ä»¶çš„é‡å¤åŒ…å« 1234#ifndef __BODYDEF_H__#define __BODYDEF_H__// å¤´æ–‡ä»¶#endif é˜²æ­¢å¤´æ–‡ä»¶çš„é‡å¤åŒ…å«ä¹Ÿå¯ä»¥é‡‡ç”¨å¦‚ä¸‹æ–¹å¼ï¼š 1#pragma once ä»¥ä¸Šä¿è¯æ‰€æœ‰æ–‡ä»¶ä¸ä¼šè¢«ç¼–è¯‘ä¸¤æ¬¡ ç”¨äºDebugè¾“å‡º 12345#ifdef æ ‡è¯†ç¬¦ // ç¨‹åºæ®µ1#else // ç¨‹åºæ®µ2#endif MAKEå·¥å…·MAKEå·¥å…·æ˜¯ä½¿å¾—å¤§å‹å·¥ç¨‹ç¼–è¯‘å·¥ç¨‹è‡ªåŠ¨åŒ–çš„ä¸€ç§å·¥å…·ï¼Œç›¸å½“äºä¸€ä¸ªè„šæœ¬é›†åˆã€‚ å…³äºMakeå‘½ä»¤çš„å…·ä½“æ•™ç¨‹å¯ä»¥å‚è§Makeå‘½ä»¤æ•™ç¨‹ æ ¼å¼ï¼š 12&lt;target&gt;: prerequisites&lt;tab&gt; command å…¶ä¸­targetè¡¨ç¤ºç›®æ ‡æ–‡ä»¶ï¼Œtargetä¸èƒ½ä¸ºç©ºã€‚prerequisitesè¡¨ç¤ºtargetæ‰€ä¾èµ–çš„æ–‡ä»¶ï¼Œå¯ä»¥ä¸ºç©ºã€‚ prerequisitesä¸­å¦‚æœæœ‰ä¸€ä¸ªä»¥ä¸Šçš„æ–‡ä»¶æ¯”targetæ–‡ä»¶è¦æ–°çš„è¯ï¼Œcommandæ‰€å®šä¹‰çš„å‘½ä»¤å°±ä¼šè¢«æ‰§è¡Œã€‚ ä¸€ä¸ªç®€å•çš„æ —å­ï¼Œå‡è®¾makefileæ–‡ä»¶ç¼–å†™å¦‚ä¸‹ 12345678910source: a.txt b.txt c.txtb.txt: echo \"this is a test\" &gt; b.txtc.txt: echo \"this is a test2\" &gt; c.txta.txt: b.txt c.txt cat b.txt c.txt &gt; a.txt ç»ˆç«¯ä¸­è¾“å…¥makeä¾¿ä¼šæ‰§è¡Œç¬¬ä¸€æ¡å‘½ä»¤ï¼Œå³make source 123456789--- Desktop/oop_test Â» lsmain.cpp main.o main.out makefile--- Desktop/oop_test Â» make sourceecho \"this is a test\" &gt; b.txtecho \"this is a test2\" &gt; c.txtcat b.txt c.txt &gt; a.txt--- Desktop/oop_test Â» lsa.txt b.txt c.txt main.cpp main.o main.out makefile--- Desktop/oop_test Â» ä¹Ÿå¯ä»¥æ˜¾å¼æŒ‡å®šè¦æ‰§è¡Œçš„å‘½ä»¤ï¼Œä¾‹å¦‚make b.txt 1234567--- Desktop/oop_test Â» lsmain.cpp main.o main.out makefile--- Desktop/oop_test Â» make b.txtecho \"this is a test\" &gt; b.txt--- Desktop/oop_test Â» lsb.txt main.cpp main.o main.out makefile--- Desktop/oop_test Â» å¸¸å¸¸åˆ©ç”¨makeæ¥ç®¡ç†å¤§å‹å·¥ç¨‹çš„ç¼–è¯‘è¿‡ç¨‹ï¼Œæ›´å¤šå…³äºmakeçš„é«˜çº§è¿‡ç¨‹å¯æŸ¥è¯¢æ•™ç¨‹ã€‚ C++ç¨‹åºå‘½ä»¤è¡Œå‚æ•°mainå‡½æ•°å¯æ¥å—æ¥è‡ªå‘½ä»¤è¡Œçš„å‚æ•°ï¼Œä¾‹å¦‚ 12345int main(int argc, char** argv)&#123; // .. return 0;&#125; å…¶ä¸­argcä¸­å­˜å‚¨çš„æ˜¯å‘½ä»¤è¡Œå‚æ•°çš„ä¸ªæ•°ï¼Œargvåˆ™ä»¥Cé£æ ¼å­—ç¬¦ä¸²çš„å½¢å¼ä¿å­˜å‚æ•°ï¼Œå…¶ä¸­åŒ…å«äº†å¯æ‰§è¡Œç¨‹åºæ–‡ä»¶çš„åç§°æœ¬èº«ï¼Œä¸¾ä¸€ä¸ªæ —å­ï¼šmainå‡½æ•°å¦‚ä¸‹ï¼š 123456789#include&lt;iostream&gt;using namespace std;int main(int a, char ** b)&#123; cout &lt;&lt; a &lt;&lt; endl; cout &lt;&lt; b[0] &lt;&lt; endl; cout &lt;&lt; \"hello world\" &lt;&lt; endl;&#125; ç»ˆç«¯æ‰§è¡Œç»“æœå¦‚ä¸‹ 12345678910--- Desktop/oop_test Â» lsmain.cpp main.o main.out--- Desktop/oop_test Â» g++ main.cppls% --- Desktop/oop_test Â» lsa.out main.cpp main.o main.out--- Desktop/oop_test Â» ./a.out 1 1 1 1 16./a.outhello world--- Desktop/oop_test Â»","categories":[],"tags":[{"name":"OOP","slug":"OOP","permalink":"http://believebest35.github.io/tags/OOP/"}]},{"title":"æ•°æ®ç»“æ„åŸºç¡€","slug":"data-structure-post-1","date":"2020-09-15T07:16:12.000Z","updated":"2020-10-13T12:28:17.751Z","comments":true,"path":"2020/09/15/data-structure-post-1/","link":"","permalink":"http://believebest35.github.io/2020/09/15/data-structure-post-1/","excerpt":"æ•°æ®ç»“æ„åŸºç¡€ç»ªè®ºæ•°æ®ç»“æ„æ•°æ®ç»“æ„æç»˜æ•°æ®å…ƒç´ ä»¥åŠæ•°æ®å…ƒç´ ä¹‹é—´çš„å…³ç³»ã€‚ ç®—æ³•çš„ç‰¹æ€§ æœ‰ç©·æ€§ ç¡®å®šæ€§ å¯è¡Œæ€§ æœ‰è¾“å…¥ï¼ˆä¸ä¸€å®šï¼‰ æœ‰è¾“å‡º","text":"æ•°æ®ç»“æ„åŸºç¡€ç»ªè®ºæ•°æ®ç»“æ„æ•°æ®ç»“æ„æç»˜æ•°æ®å…ƒç´ ä»¥åŠæ•°æ®å…ƒç´ ä¹‹é—´çš„å…³ç³»ã€‚ ç®—æ³•çš„ç‰¹æ€§ æœ‰ç©·æ€§ ç¡®å®šæ€§ å¯è¡Œæ€§ æœ‰è¾“å…¥ï¼ˆä¸ä¸€å®šï¼‰ æœ‰è¾“å‡º çº¿æ€§è¡¨çº¿æ€§è¡¨æ˜¯å…·æœ‰ç›¸åŒç‰¹æ€§çš„æ•°æ®å…ƒç´ çš„çš„ä¸€ä¸ªæœ‰é™åºåˆ—ï¼Œä¸€èˆ¬å®ç°æ–¹å¼æœ‰ä¸¤ç§ï¼š é¡ºåºå®ç°ï¼Œc++ä¸­çš„æ•°ç»„ç±»å‹å°±æ˜¯å¯¹äºçº¿æ€§è¡¨çš„é¡ºåºå®ç°ã€‚ é“¾è¡¨å®ç°ï¼Œå³å„ä¸ªå…ƒç´ ä¹‹é—´çš„ä¸æ˜¯è¿ç»­çš„ï¼Œéœ€è¦é¢å¤–å­˜å‚¨ä¸‹ä¸€ä¸ªå…ƒç´ çš„æ‰€åœ¨ä½ç½®ã€‚ å•é“¾è¡¨ åŒé“¾è¡¨ å¾ªç¯é“¾è¡¨ â€¦ æœ‰åºè¡¨æœ‰åºè¡¨æŒ‡çš„æ˜¯å…ƒç´ ä»¥é€’å¢æˆ–è€…é€’å‡çš„æ–¹å¼æ’åˆ—çš„çº¿æ€§è¡¨ï¼Œéœ€è¦æ³¨æ„ä¸¤ä¸ªæœ‰åºè¡¨çš„å½’å¹¶æ’åºï¼Œå³åˆ†åˆ«ä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆæ‰«æä¸¤ä¸ªå­çº¿æ€§è¡¨ï¼Œé€‰æ‹©å…¶ä¸­è¾ƒå°ï¼ˆå‡è®¾é€’å¢æ’åºï¼‰çš„å…ƒç´ å½’å¹¶åˆ°æ–°çš„æœ‰åºè¡¨ä¸­ã€‚ vectorc++çš„æ ‡å‡†æ¨¡ç‰ˆåº“ä¸­å°è£…äº†vectorç±»å‹ï¼Œå¯ååˆ†æ–¹ä¾¿çš„æ“ä½œçº¿æ€§æ’åˆ—çš„å…ƒç´ ã€‚ 123456789101112131415#include &lt;vector&gt;vector&lt;int&gt; v(10); // åˆå§‹åŒ–å…·æœ‰10ä¸ªç©ºé—´çš„çº¿æ€§è¡¨vector&lt;int&gt; v_2(10, 1) //åˆå§‹åŒ–å…·æœ‰10ä¸ªç©ºé—´çš„çº¿æ€§è¡¨ï¼Œæ¯ä¸ªå…ƒç´ çš„åˆå§‹å€¼ä¸º1int a = v[1]; //ä¸‹æ ‡è®¿é—®v.push_back(1);v.pop_back();v.clear(); // æ¸…é™¤æ‰€æœ‰å…ƒç´ v.erase(v.begin() + 1); // åˆ é™¤ä¸€ä¸ªå…ƒç´ v.erase(v.begin() + 1, v.begin() + 5) // åˆ é™¤ä¸€æ®µå…ƒç´ v.back();v.front();v.empty();v.size();// ... æ ˆåªèƒ½åœ¨ä¸€ç«¯è¿›è¡Œæ’å…¥å’Œåˆ é™¤çš„çº¿æ€§è¡¨ï¼Œåè¿›å…ˆå‡ºï¼ˆFILOï¼‰ ä¸»è¦æ“ä½œï¼š 123456789#include &lt;stack&gt;stack&lt;int&gt; st;st.push(10);st.top();st.pop();st.empty();st.size(); æ ˆçš„ä¸€äº›åº”ç”¨ ä¸­ç¼€è¡¨è¾¾å¼è½¬åç¼€è¡¨è¾¾å¼ åç¼€è¡¨è¾¾å¼æ±‚å€¼ â€¦ é˜Ÿåˆ—åªèƒ½åœ¨ä¸€ç«¯è¿›è¡Œæ’å…¥ï¼Œå¦å¤–ä¸€æ®µè¿›è¡Œåˆ é™¤çš„çº¿æ€§è¡¨ï¼Œå…ˆè¿›å…ˆå‡ºï¼ˆLILOï¼‰ ä¸»è¦æ“ä½œ 12345678910#include &lt;queue&gt;queue&lt;int&gt; que;que.push(1);que.front();que.back();que.pop();que.size();que.empty(); é˜Ÿåˆ—ç›¸å…³çš„åº”ç”¨ çº¦ç‘Ÿå¤«ç¯é—®é¢˜ â€¦ åŒç«¯é˜Ÿåˆ—ä¸¤ç«¯éƒ½å¯ä»¥è¿›è¡Œæ’å…¥å’Œåˆ é™¤çš„çº¿æ€§è¡¨ 123456789101112131415#include &lt;deque&gt;deque&lt;int&gt; deq; // vectoråŠ å¼ºç‰ˆdeq.empty();deq.push_front(1);deq.pop_front();deq.push_back(1);deq.pop_back(;deq.back();deq.front();deq.size();deq.clear();deq.insert(); // åŒvectorçš„æ’å…¥deq.erase(deq.begin() + 4); ä¸²çš„æ¨¡å¼åŒ¹é… KMPä¸²çš„æ¨¡å¼åŒ¹é…æŒ‡çš„æ˜¯ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸²Tå’ŒPï¼Œåœ¨ä¸»ä¸²Tä¸­æ‰¾å‡ºç¬¬ä¸€æ¬¡å‡ºç°å®Œæ•´å­ä¸²Pçš„ä½ç½®ï¼Œä¸€èˆ¬çš„æš´åŠ›è§£æ³•å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223int brute_force_match(string T, string P)&#123; if (T == \"\" || P == \"\") return -1; int i = 0, j = 0; while (i &lt; T.size() &amp;&amp; j &lt; P.size()) &#123; if (T[i] == P[j]) &#123; i++; j++; &#125; else &#123; i = i - j + 1; j = 0; &#125; &#125; if (j == P.size()) return i - j; else return -1;&#125; å‡è®¾Tä¸²é•¿mï¼ŒPä¸²é•¿nï¼Œåˆ™æš´åŠ›ç®—æ³•æ—¶é—´å¤æ‚åº¦ä¸ºO(m * n)ã€‚ KMPç®—æ³•åˆ™å¯ä»¥å°†ä»¥ä¸Šçš„åŒ¹é…è¿‡ç¨‹åŠ é€Ÿè‡³O(m + n), KMPç®—æ³•çš„æ ¸å¿ƒåœ¨äºä¿æŒåŒ¹é…è¿‡ç¨‹ä¸­iæŒ‡é’ˆçš„ä½ç½®ä¸å˜ï¼Œä¿®æ”¹jæŒ‡é’ˆï¼Œä½¿å¾—æ¨¡å¼ä¸²å°½é‡ç§»åŠ¨åˆ°æœ‰æ•ˆçš„ä½ç½®ã€‚ å…·ä½“çš„è®²è§£å¯è§KMPç®—æ³•è®²è§£ ä¸¾ä¸€ä¸ªæ —å­ï¼Œä»¥ä¸»ä¸²ABCABCDHIJKå’Œæ¨¡å¼ä¸²ABCABBçš„åŒ¹é…ä¸ºä¾‹ï¼š A B C A B C D H I J K i A B C A B B j å½“iæŒ‡å‘Tä¸­ç¬¬5ä¸ªï¼ˆä»¥0å¼€å§‹æ ‡è®°ï¼‰å…ƒç´ ï¼ŒjæŒ‡å‘Pä¸­ç¬¬5ä¸ªå…ƒç´ ï¼Œå‘ç”Ÿå†²çªï¼Œæ³¨æ„åˆ°å·²ç»åŒ¹é…çš„éƒ¨åˆ†ABCABçš„å‰ç¼€ABå’Œåç¼€ABæ˜¯ä¸€è‡´çš„ï¼Œå› æ­¤å¯ä»¥è·³è¿‡å†æ¬¡åŒ¹é…è¿™ä¸€éƒ¨åˆ†çš„è¿‡ç¨‹ï¼Œç»´æŒiä¸å˜ï¼Œå°†jç§»åŠ¨åˆ°Pä¸­çš„ç¬¬äºŒä¸ªä½ç½®ç»§ç»­è¿›è¡ŒåŒ¹é…ã€‚ ä»¥ä¸Šçš„è¿‡ç¨‹éœ€è¦æ±‚å·²ç»åŒ¹é…éƒ¨åˆ†çš„å‰ç¼€å’Œåç¼€çš„æœ€é•¿å…¬å…±éƒ¨åˆ†çš„é•¿åº¦ï¼Œå¹¶ä¿å­˜åœ¨nextæ•°ç»„ä¸­ï¼Œnext[j]å³è¡¨ç¤ºå‘ç”Ÿå†²çªæ—¶jæŒ‡é’ˆåº”è¯¥ç§»åŠ¨åˆ°çš„ä½ç½®ã€‚ nextæ•°ç»„çš„å…·ä½“æ±‚æ³•å¦‚ä¸‹ï¼š 123456789101112131415161718vector&lt;int&gt; get_next(string P)&#123; vector&lt;int&gt; next(P.size()); next[0] = -1; // è§„å®šnextæ•°ç»„çš„ç¬¬0ä½ä¸º-1 int j = 0, k = -1; while (j &lt; P.size() - 1) &#123; if (k == -1 || P[k] == P[j]) &#123; j++; k++; next[j] = k; &#125; else k = next[k]; &#125; return next;&#125; æ±‚å‡ºnextæ•°ç»„ä¹‹åå³å¯åº”ç”¨KMPç®—æ³• 1234567891011121314151617181920212223int KMP_match(string T, string P)&#123; if (T == \"\" || P == \"\") return -1; vector&lt;int&gt; next = get_next(P); int i = 0, j = 0; while (i &lt; T.size() &amp;&amp; j &lt; P.size()) &#123; if (j == -1 || T[i] == P[j]) &#123; i++; j++; &#125; else &#123; j = next[j]; &#125; &#125; if (j == P.size()) return i - j; else return -1;&#125; äºŒå‰æ ‘äºŒå‰æ ‘æ˜¯ä¸€ç§æ ‘çŠ¶çš„æ•°æ®ç»“æ„ï¼ŒäºŒå‰æ ‘çš„é€’å½’éå†ç›¸å¯¹æ¯”è¾ƒç®€å• é€’å½’éå†çš„ç»Ÿä¸€æ¨¡ç‰ˆå¦‚ä¸‹ï¼š12345678910void treeTravel(ListNode *node)&#123; if (node == nullptr) return; cout &lt;&lt; node -&gt; val; // å‰åºéå† treeTravel(node -&gt; left); // cout &lt;&lt; node -&gt; val; // ä¸­åºéå† treeTravel(node -&gt; right); // cout &lt;&lt; node -&gt; val; // ååºéå†&#125; å¯¹äºäºŒå‰æ ‘çš„éé€’å½’éå†ï¼Œå‰ä¸­ååºéå†å®ç°å½¢å¼ä¸åŒï¼Œä½†ä¹Ÿå¯ä»¥ç»Ÿä¸€ä¸ºä¸€ä¸ªå½¢å¼,é‡‡ç”¨è®°å·è¿›è¡Œæ ‡è®° å…ˆç»™å‡ºå‰åºä»¥åŠä¸­åºéå†çš„éç»Ÿä¸€éé€’å½’å®ç° å‰åºéå†çš„éé€’å½’å®ç°ï¼š1234567891011121314151617void pre_travel(ListNode *node)&#123; if (node == nullptr) return; stack&lt;ListNode*&gt; st; st.push(node); while (!st.empty()) &#123; ListNode *temp = st.top(); cout &lt;&lt; temp -&gt; val; st.pop(); if (temp -&gt; right != nullptr) st.push(temp -&gt; right); if (temp -&gt; left != nullptr) st.push(temp -&gt; left); &#125;&#125; ä¸­åºéå†çš„éé€’å½’å®ç°ï¼š1234567891011121314151617void in_travel(ListNode *node)&#123; ListNode *cur = node; stack&lt;ListNode*&gt; st; while (cur != nullptr || !st.empty()) &#123; while (cur != nullptr) &#123; st.push(cur); cur = cur -&gt; left; &#125; cur = st.top(); st.pop(); cout &lt;&lt; cur -&gt; val; cur = cur -&gt; right; &#125;&#125; ååºéå†çš„éé€’å½’å®ç°ç›¸è¾ƒäºå‰åºä»¥åŠä¸­åºçš„è¾ƒä¸ºéº»çƒ¦ï¼Œä¸è¿‡å¯ä»¥å°†å‰ä¸¤è€…çš„ä»£ç ç»Ÿä¸€ä¸ºä¸€ä¸ªå½¢å¼ åç»­éå†çš„éé€’å½’å®ç°ï¼š1234567891011121314151617181920212223void post_travel(ListNode *node)&#123; if (node == nullptr) return; stack&lt;pair&lt;ListNode*, int&gt;&gt; st; st.push(make_pair(node, 0)); while (!st.empty()) &#123; ListNode *temp = st.top().first; int flag = st.top().second; st.pop(); if (flag == 0) &#123; st.push(make_pair(temp, 1)); if (temp -&gt; right != nullptr) st.push(make_pair(temp -&gt; right, 0)); if (temp -&gt; left != nullptr) st.push(make_pair(temp -&gt; left, 0)); &#125; else cout &lt;&lt; temp -&gt; val; &#125;&#125; è°ƒæ•´ä»¥ä¸Šçš„å…¥æ ˆé¡ºåºå³å¯å®ç°å‰åºä»¥åŠä¸­åºéå†ã€‚ äºŒå‰æ ‘çš„å±‚æ¬¡éå†æ¯”è¾ƒç®€å•ï¼Œç»“åˆé˜Ÿåˆ—è¿›è¡Œå¹¿æœå³å¯ã€‚ å¹¶æŸ¥é›†å¹¶æŸ¥é›†æ˜¯ä¸€ç§ç”¨äºè§£å†³å…ƒç´ åˆ†ç»„çš„æ•°æ®ç»“æ„ï¼Œä¸»è¦ç”¨äºè§£å†³å…ƒç´ åˆ†ç»„ä»¥åŠåˆå¹¶çš„é—®é¢˜ï¼Œæ”¯æŒçš„æ“ä½œåŒ…æ‹¬findä»¥åŠunionã€‚ find æŸ¥è¯¢ä¸¤ä¸ªå…ƒç´ æ˜¯å¦åœ¨åŒä¸€ä¸ªé›†åˆä¸­ union å°†ä¸¤ä¸ªä¸ç›¸äº¤çš„é›†åˆè¿›è¡Œåˆå¹¶ åˆå§‹åŒ–1234567int fa[MAX];inline void init(int n)&#123; for (int i = 1; i &lt;= n; i++) fa[i] = i;&#125; å³æœ€å¼€å§‹æ¯ä¸ªå…ƒç´ åˆ†åˆ«æ‰€å±ä¸åŒçš„é›†åˆã€‚ æŸ¥è¯¢1234567int find(int x)&#123; if(fa[x] == x) return x; else return find(fa[x]);&#125; åˆå¹¶1234inline void merge(int i, int j)&#123; fa[find(i)] = find(j);&#125; å…¶ä¸­åˆå¹¶å¯ä»¥è¿›è¡Œä¼˜åŒ–ï¼Œå³è¿›è¡Œè·¯å¾„å‹ç¼© 123456789101112131415int find(int x)&#123; if(x == fa[x]) return x; else&#123; fa[x] = find(fa[x]); //çˆ¶èŠ‚ç‚¹è®¾ä¸ºæ ¹èŠ‚ç‚¹ return fa[x]; //è¿”å›çˆ¶èŠ‚ç‚¹ &#125;&#125;// ç®€åŒ–ä¸ºä¸€è¡Œçš„å†™æ³•int find(int x)&#123; return x == fa[x] ? x : (fa[x] = find(fa[x]));&#125; å¹¶æŸ¥é›†çš„æŒ‰ç§©åˆå¹¶ä¼˜åŒ–åˆå§‹åŒ–ï¼ˆæŒ‰ç§©åˆå¹¶ï¼‰ 12345678inline void init(int n)&#123; for (int i = 1; i &lt;= n; ++i) &#123; fa[i] = i; rank[i] = 1; &#125;&#125; åˆå¹¶ï¼ˆæŒ‰ç§©åˆå¹¶ï¼‰ 12345678910inline void merge(int i, int j)&#123; int x = find(i), y = find(j); //å…ˆæ‰¾åˆ°ä¸¤ä¸ªæ ¹èŠ‚ç‚¹ if (rank[x] &lt;= rank[y]) fa[x] = y; else fa[y] = x; if (rank[x] == rank[y] &amp;&amp; x != y) rank[y]++; //å¦‚æœæ·±åº¦ç›¸åŒä¸”æ ¹èŠ‚ç‚¹ä¸åŒï¼Œåˆ™æ–°çš„æ ¹èŠ‚ç‚¹çš„æ·±åº¦+1&#125; å›¾å›¾çš„å­˜å‚¨æ–¹å¼ é‚»æ¥çŸ©é˜µ é‚»æ¥è¡¨ åå­—é“¾è¡¨ é‚»æ¥å¤šé‡è¡¨ é“¾å¼å‰å‘æ˜Ÿ â€¦ å›¾çš„éå† BFS DFS æœ€å°ç”Ÿæˆæ ‘ æ™®é‡Œå§†ç®—æ³• å…‹é²æ–¯å¡å°”ç®—æ³• æœ€çŸ­è·¯ç®—æ³• Dijkstra(å•æºæœ€çŸ­è·¯) Floyd æ‹“æ‰‘æ’åºä¾æ¬¡å¯»æ‰¾å…¥åº¦ä¸º0çš„èŠ‚ç‚¹å³å¯ æŸ¥æ‰¾é¡ºåºæŸ¥æ‰¾æ—¶é—´å¤æ‚åº¦ä¸ºO(N),å¯¹çº¿æ€§è¡¨æ— ç‰¹æ®Šé™åˆ¶ã€‚ äºŒåˆ†æŸ¥æ‰¾æ—¶é—´å¤æ‚åº¦ä¸ºO(logN),éœ€è¦çº¿æ€§è¡¨æœ‰åºã€‚ 123456789101112131415int binary_search(vector&lt;int&gt; nums, int target)&#123; int l = 0, r = nums.size() - 1; while (l &lt;= r) &#123; int mid = (l + r) / 2; if (nums[mid] == target) return mid; else if (nums[mid] &lt; target) l = mid + 1; else r = mid - 1; &#125; return -1;&#125; Bæ ‘ B+æ ‘Bæ ‘å’ŒB+æ ‘éƒ½æ˜¯ä¸€èˆ¬ç”¨äºå¤–æŸ¥æ‰¾çš„æ•°æ®ç»“æ„ã€‚ Bæ ‘ä¸€æ£µmé˜¶Bæ ‘(balanced tree of order m)æ˜¯ä¸€æ£µå¹³è¡¡çš„mè·¯æœç´¢æ ‘ã€‚å®ƒæˆ–è€…æ˜¯ç©ºæ ‘ï¼Œæˆ–è€…æ˜¯æ»¡è¶³ä¸‹åˆ—æ€§è´¨çš„æ ‘ï¼š æ ¹ç»“ç‚¹è‡³å°‘æœ‰ä¸¤ä¸ªå­å¥³ï¼› æ¯ä¸ªéæ ¹èŠ‚ç‚¹æ‰€åŒ…å«çš„å…³é”®å­—ä¸ªæ•° j æ»¡è¶³ï¼šâ”Œm/2â” - 1 &lt;= j &lt;= m - 1ï¼› é™¤æ ¹ç»“ç‚¹ä»¥å¤–çš„æ‰€æœ‰ç»“ç‚¹ï¼ˆä¸åŒ…æ‹¬å¶å­ç»“ç‚¹ï¼‰çš„åº¦æ•°æ­£å¥½æ˜¯å…³é”®å­—æ€»æ•°åŠ 1ï¼Œæ•…å†…éƒ¨å­æ ‘ä¸ªæ•° k æ»¡è¶³ï¼šâ”Œm/2â” &lt;= k &lt;= m ï¼› æ‰€æœ‰çš„å¶å­ç»“ç‚¹éƒ½ä½äºåŒä¸€å±‚ã€‚åœ¨B-æ ‘ä¸­ï¼Œæ¯ä¸ªç»“ç‚¹ä¸­å…³é”®å­—ä»å°åˆ°å¤§æ’åˆ—ï¼Œå¹¶ä¸”å½“è¯¥ç»“ç‚¹çš„å­©å­æ˜¯éå¶å­ç»“ç‚¹æ—¶ï¼Œè¯¥k-1ä¸ªå…³é”®å­—æ­£å¥½æ˜¯kä¸ªå­©å­åŒ…å«çš„å…³é”®å­—çš„å€¼åŸŸçš„åˆ†åˆ’ã€‚ ä»¥ä¸Šå†…å®¹æ‘˜è‡ªç™¾åº¦ç™¾ç§‘ã€‚ B+æ ‘to do æ’åºæ’å…¥æ’åº1234567891011void insert_sort(vector&lt;int&gt; &amp;nums)&#123; for (int i = 1; i &lt; nums.size(); i++) &#123; int temp = nums[i]; int j; for (j = i - 1; j &gt;= 0 &amp;&amp; nums[j] &gt; temp; j--) nums[j + 1] = nums[j]; nums[j + 1] = temp; &#125;&#125; æ—¶é—´å¤æ‚åº¦ä¸ºO(n^2) å¸Œå°”æ’åºå¸Œå°”æ’åºéœ€è¦é€‰æ‹©å¢é‡å¯¹æ•°æ®è¿›è¡Œåˆ†ç»„ï¼Œåˆ†å®Œç»„çš„å„éƒ¨åˆ†åˆ†åˆ«ä½¿ç”¨æ’æ’ï¼Œæœ€åç›´åˆ°å¢é‡ä¸º1 å†’æ³¡æ’åº1234567891011121314151617void bubble_sort(vector&lt;int&gt; &amp;nums)&#123; for (int i = 0; i &lt; nums.size() - 1; i++) &#123; bool exchange = false; for (int j = nums.size() - 1; j &gt; i; j--) &#123; if (nums[j] &lt; nums[j - 1]) &#123; swap(nums[j], nums[j - 1]); exchange = true; &#125; &#125; if (!exchange) return; &#125;&#125; æ—¶é—´å¤æ‚åº¦ä¸ºO(n^2) é€‰æ‹©æ’åº1234567891011void select_sort(vector&lt;int&gt; &amp;nums)&#123; for (int i = 0; i &lt; nums.size(); i++) &#123; int min_pos = i; for (int j = i + 1; j &lt; nums.size(); j++) if (nums[j] &lt; nums[min_pos]) min_pos = j; swap(nums[i], nums[min_pos]); &#125;&#125; æ—¶é—´å¤æ‚åº¦ä¸ºO(n^2) å¿«é€Ÿæ’åº1234567891011121314151617181920212223242526int partition(vector&lt;int&gt; &amp;nums, int l, int r)&#123; int temp = nums[l]; while (l &lt; r) &#123; while (l &lt; r &amp;&amp; nums[r] &gt;= temp) r--; nums[l] = nums[r]; while (l &lt; r &amp;&amp; nums[l] &lt;= temp) l++; nums[r] = nums[l]; &#125; nums[l] = temp; return l;&#125;void quick_sort(vector&lt;int&gt; &amp;nums, int l, int r)&#123; if (l &lt; r) &#123; int i = partition(nums, l, r); quick_sort(nums, l, i - 1); quick_sort(nums, i + 1, r); &#125;&#125; ä»¥ä¸Šçš„å¿«é€Ÿæ’åºæ²¡æœ‰åšéšæœºåŒ–å¤„ç†ï¼Œæ›´åŠ æ­£ç»Ÿçš„å†™æ³•åº”è¯¥éšæœºåŒ–é€‰æ‹©æ¢çº½å…ƒç´ ã€‚å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸ºO(NlogN) å †æ’åºåˆ©ç”¨å †çš„æ€§è´¨è¿›è¡Œæ’åºï¼Œstlä¸­æä¾›äº†ä¼˜å…ˆé˜Ÿåˆ—ï¼Œå¯ç›´æ¥ç”¨äºæ’åºã€‚å…³äºå…·ä½“çš„å †çš„å®ç°å¯ä»¥ç™¾åº¦ã€‚ã€‚ã€‚ å½’å¹¶æ’åº123456789101112131415161718192021222324252627282930313233343536373839404142434445void merge(int *data,int start,int end,int *result) &#123; int left_length = (end - start + 1) / 2 + 1; int left_index = start; int right_index = start + left_length; int result_index = start; while(left_index&lt;start + left_length &amp;&amp; right_index &lt;end + 1) //store data into new array &#123; if(data[left_index] &lt;= data[right_index]) result[result_index++] = data[left_index++]; else result[result_index++] = data[right_index++]; &#125; while(left_index &lt; start + left_length) result[result_index++] = data[left_index++]; while(right_index &lt;end+1) result[result_index++] = data[right_index++];&#125; void merge_sort(int *data,int start,int end,int *result)&#123; if(1 == end - start) //last only two elements &#123; if(data[start] &gt; data[end]) &#123; int temp = data[start]; data[start] = data[end]; data[end] = temp; &#125; return; &#125; else if (end == start) return; //last one element then there is no need to sort; else&#123; //continue to divide the interval merge_sort(data, start, (end - start + 1) / 2 + start, result); merge_sort(data, (end - start + 1) / 2 + start + 1, end, result); //start to merge sorted data merge(data, start, end, result); for (int i = start; i &lt;= end;++i) &#123; data[i] = result[i]; &#125; &#125;&#125;","categories":[],"tags":[{"name":"æ•°æ®ç»“æ„ä¸ç®—æ³•","slug":"æ•°æ®ç»“æ„ä¸ç®—æ³•","permalink":"http://believebest35.github.io/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/"}]},{"title":"leetcode 60 ç¬¬kä¸ªæ’åˆ—","slug":"leetcode-solution-7","date":"2020-09-05T07:14:39.000Z","updated":"2020-10-13T12:26:34.437Z","comments":true,"path":"2020/09/05/leetcode-solution-7/","link":"","permalink":"http://believebest35.github.io/2020/09/05/leetcode-solution-7/","excerpt":"Leetcode 60 ç¬¬kä¸ªæ’åˆ—leetcode 60 é¢˜ç›®æè¿°ç»™å‡ºé›†åˆ [1,2,3,â€¦,n]ï¼Œå…¶æ‰€æœ‰å…ƒç´ å…±æœ‰ n! ç§æ’åˆ—ã€‚æŒ‰å¤§å°é¡ºåºåˆ—å‡ºæ‰€æœ‰æ’åˆ—æƒ…å†µï¼Œå¹¶ä¸€ä¸€æ ‡è®°ï¼Œå½“ n = 3 æ—¶, æ‰€æœ‰æ’åˆ—å¦‚ä¸‹ï¼š â€œ123â€ â€œ132â€ â€œ213â€ â€œ231â€ â€œ312â€ â€œ321â€","text":"Leetcode 60 ç¬¬kä¸ªæ’åˆ—leetcode 60 é¢˜ç›®æè¿°ç»™å‡ºé›†åˆ [1,2,3,â€¦,n]ï¼Œå…¶æ‰€æœ‰å…ƒç´ å…±æœ‰ n! ç§æ’åˆ—ã€‚æŒ‰å¤§å°é¡ºåºåˆ—å‡ºæ‰€æœ‰æ’åˆ—æƒ…å†µï¼Œå¹¶ä¸€ä¸€æ ‡è®°ï¼Œå½“ n = 3 æ—¶, æ‰€æœ‰æ’åˆ—å¦‚ä¸‹ï¼š â€œ123â€ â€œ132â€ â€œ213â€ â€œ231â€ â€œ312â€ â€œ321â€ ç»™å®š n å’Œ kï¼Œè¿”å›ç¬¬ k ä¸ªæ’åˆ—ã€‚ è¯´æ˜ï¼š ç»™å®š n çš„èŒƒå›´æ˜¯ [1, 9]ã€‚ ç»™å®š k çš„èŒƒå›´æ˜¯[1, n!]ã€‚ ç¤ºä¾‹è¾“å…¥: n = 3, k = 3è¾“å‡º: â€œ213â€ è¾“å…¥: n = 4, k = 9è¾“å‡º: â€œ2314â€ è§£æ³•ä¾æ¬¡å›ºå®šæ¯ä¸€ä½çš„å–å€¼å³å¯,æ³¨æ„æ˜¯ä»0å¼€å§‹è®¡æ•°çš„å› æ­¤kéœ€è¦å‡1ï¼Œå½“kåˆ°0çš„æ—¶å€™å°±å¯ä»¥ç›´æ¥å°†å‰©ä¸‹çš„æ•°å­—ç›´æ¥æ¥åœ¨æœ€åã€‚ 123456789101112131415161718192021class Solution&#123;public: string getPermutation(int n, int k) &#123; vector&lt;int&gt; fac = &#123;0, 1, 2, 6, 24, 120, 720, 5040, 40320, 362880&#125;; string s = string(\"123456789\").substr(0, n); k--; string ans = \"\"; while (k &gt; 0) &#123; int id = k / fac[n - 1]; ans += s[id]; s.erase(s.begin() + id); k %= fac[n - 1]; n--; &#125; ans += s; return ans; &#125;&#125;;","categories":[],"tags":[{"name":"leetcode_solution","slug":"leetcode-solution","permalink":"http://believebest35.github.io/tags/leetcode-solution/"}]},{"title":"leetcode 329 çŸ©é˜µä¸­çš„æœ€é•¿é€’å¢è·¯å¾„","slug":"leetcode-solution-6","date":"2020-07-26T16:02:08.000Z","updated":"2020-10-13T12:26:55.116Z","comments":true,"path":"2020/07/27/leetcode-solution-6/","link":"","permalink":"http://believebest35.github.io/2020/07/27/leetcode-solution-6/","excerpt":"Leetcode 329 çŸ©é˜µä¸­çš„æœ€é•¿é€’å¢è·¯å¾„leetcode 329 é¢˜ç›®æè¿°ç»™å®šä¸€ä¸ªæ•´æ•°çŸ©é˜µï¼Œæ‰¾å‡ºæœ€é•¿é€’å¢è·¯å¾„çš„é•¿åº¦ã€‚ å¯¹äºæ¯ä¸ªå•å…ƒæ ¼ï¼Œä½ å¯ä»¥å¾€ä¸Šï¼Œä¸‹ï¼Œå·¦ï¼Œå³å››ä¸ªæ–¹å‘ç§»åŠ¨ã€‚ ä½ ä¸èƒ½åœ¨å¯¹è§’çº¿æ–¹å‘ä¸Šç§»åŠ¨æˆ–ç§»åŠ¨åˆ°è¾¹ç•Œå¤–ï¼ˆå³ä¸å…è®¸ç¯ç»•ï¼‰","text":"Leetcode 329 çŸ©é˜µä¸­çš„æœ€é•¿é€’å¢è·¯å¾„leetcode 329 é¢˜ç›®æè¿°ç»™å®šä¸€ä¸ªæ•´æ•°çŸ©é˜µï¼Œæ‰¾å‡ºæœ€é•¿é€’å¢è·¯å¾„çš„é•¿åº¦ã€‚ å¯¹äºæ¯ä¸ªå•å…ƒæ ¼ï¼Œä½ å¯ä»¥å¾€ä¸Šï¼Œä¸‹ï¼Œå·¦ï¼Œå³å››ä¸ªæ–¹å‘ç§»åŠ¨ã€‚ ä½ ä¸èƒ½åœ¨å¯¹è§’çº¿æ–¹å‘ä¸Šç§»åŠ¨æˆ–ç§»åŠ¨åˆ°è¾¹ç•Œå¤–ï¼ˆå³ä¸å…è®¸ç¯ç»•ï¼‰ ç¤ºä¾‹è¾“å…¥: nums = [9,9,4] [6,6,8] [2,1,1]è¾“å‡º: 4è§£é‡Š: æœ€é•¿é€’å¢è·¯å¾„ä¸º [1, 2, 6, 9]ã€‚ è¾“å…¥: nums = [3,4,5] [3,2,6] [2,2,1]è¾“å‡º: 4è§£é‡Š: æœ€é•¿é€’å¢è·¯å¾„æ˜¯ [3, 4, 5, 6]ã€‚æ³¨æ„ä¸å…è®¸åœ¨å¯¹è§’çº¿æ–¹å‘ä¸Šç§»åŠ¨ã€‚ æ–¹æ³•ï¼šDFSè¿™é“é¢˜æ˜æ˜¾å¯ä»¥ç”¨dfsæ¥å†™ï¼Œä¸è¿‡æœ€æœ´ç´ çš„dfsï¼ˆä¸å¸¦å‰ªæï¼‰ä¼šè¶…æ—¶ï¼Œå› æ­¤éœ€è¦ç®€å•çš„å‰ªæã€‚æˆ–è€…å¯ä»¥å†™æˆè®°å¿†åŒ–é€’å½’çš„å½¢å¼ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051class Solution&#123;public: int m, n; int ans; void dfs(vector&lt;vector&lt;int&gt;&gt; &amp;matrix, vector&lt;vector&lt;int&gt;&gt; &amp;dp, int x, int y) &#123; if (x &gt;= 1 &amp;&amp; matrix[x - 1][y] &gt; matrix[x][y] &amp;&amp; dp[x - 1][y] &lt; dp[x][y] + 1) &#123; dp[x - 1][y] = dp[x][y] + 1; ans = max(ans, dp[x - 1][y]); dfs(matrix, dp, x - 1, y); &#125; if (x &lt; m - 1 &amp;&amp; matrix[x + 1][y] &gt; matrix[x][y] &amp;&amp; dp[x + 1][y] &lt; dp[x][y] + 1) &#123; dp[x + 1][y] = dp[x][y] + 1; ans = max(ans, dp[x + 1][y]); dfs(matrix, dp, x + 1, y); &#125; if (y &gt;= 1 &amp;&amp; matrix[x][y - 1] &gt; matrix[x][y] &amp;&amp; dp[x][y - 1] &lt; dp[x][y] + 1) &#123; dp[x][y - 1] = dp[x][y] + 1; ans = max(ans, dp[x][y - 1]); dfs(matrix, dp, x, y - 1); &#125; if (y &lt; n - 1 &amp;&amp; matrix[x][y + 1] &gt; matrix[x][y] &amp;&amp; dp[x][y + 1] &lt; dp[x][y] + 1) &#123; dp[x][y + 1] = dp[x][y] + 1; ans = max(ans, dp[x][y + 1]); dfs(matrix, dp, x, y + 1); &#125; &#125; int longestIncreasingPath(vector&lt;vector&lt;int&gt;&gt;&amp; matrix) &#123; m = matrix.size(); if (m == 0) return 0; ans = 1; n = matrix[0].size(); vector&lt;vector&lt;int&gt;&gt; dp(m, vector&lt;int&gt;(n, 1)); for (int i = 0; i &lt; m; i++) for (int j = 0; j &lt; n; j++) dfs(matrix, dp, i, j); return ans; &#125;&#125;;","categories":[],"tags":[{"name":"leetcode_solution","slug":"leetcode-solution","permalink":"http://believebest35.github.io/tags/leetcode-solution/"}]},{"title":"leetcode 322 é›¶é’±å…‘æ¢ and leetcode 410 åˆ†å‰²æ•°ç»„çš„æœ€å¤§å€¼","slug":"leetcode-solution-5","date":"2020-07-25T08:03:33.000Z","updated":"2020-10-13T12:27:06.506Z","comments":true,"path":"2020/07/25/leetcode-solution-5/","link":"","permalink":"http://believebest35.github.io/2020/07/25/leetcode-solution-5/","excerpt":"Leetcode 322 é›¶é’±å…‘æ¢leetcode 322 é¢˜ç›®æè¿°ç»™å®šä¸åŒé¢é¢çš„ç¡¬å¸ coins å’Œä¸€ä¸ªæ€»é‡‘é¢ amountã€‚ç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥è®¡ç®—å¯ä»¥å‡‘æˆæ€»é‡‘é¢æ‰€éœ€çš„æœ€å°‘çš„ç¡¬å¸ä¸ªæ•°ã€‚å¦‚æœæ²¡æœ‰ä»»ä½•ä¸€ç§ç¡¬å¸ç»„åˆèƒ½ç»„æˆæ€»é‡‘é¢ï¼Œè¿”å› -1ã€‚ ç¤ºä¾‹è¾“å…¥: coins = [1, 2, 5], amount = 11è¾“å‡º: 3è§£é‡Š: 11 = 5 + 5 + 1 è¾“å…¥: coins = [2], amount = 3è¾“å‡º: -1","text":"Leetcode 322 é›¶é’±å…‘æ¢leetcode 322 é¢˜ç›®æè¿°ç»™å®šä¸åŒé¢é¢çš„ç¡¬å¸ coins å’Œä¸€ä¸ªæ€»é‡‘é¢ amountã€‚ç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥è®¡ç®—å¯ä»¥å‡‘æˆæ€»é‡‘é¢æ‰€éœ€çš„æœ€å°‘çš„ç¡¬å¸ä¸ªæ•°ã€‚å¦‚æœæ²¡æœ‰ä»»ä½•ä¸€ç§ç¡¬å¸ç»„åˆèƒ½ç»„æˆæ€»é‡‘é¢ï¼Œè¿”å› -1ã€‚ ç¤ºä¾‹è¾“å…¥: coins = [1, 2, 5], amount = 11è¾“å‡º: 3è§£é‡Š: 11 = 5 + 5 + 1 è¾“å…¥: coins = [2], amount = 3è¾“å‡º: -1 è¯´æ˜ä½ å¯ä»¥è®¤ä¸ºæ¯ç§ç¡¬å¸çš„æ•°é‡æ˜¯æ— é™çš„ã€‚ æ–¹æ³•ä¸€ï¼šDFSè¿™æ˜¯ä¸€é“å…¸å‹çš„å¯ä»¥ç”¨dfsæ¥åšçš„é¢˜ï¼Œä½†ã€‚ã€‚ã€‚ä»–Täº† 12345678910111213141516171819202122232425262728293031class Solution&#123;public: int ans; void dfs(vector&lt;int&gt; &amp;coins, int amount, int count) &#123; if (amount == 0) &#123; if (ans == -1) ans = count; else ans = min(ans, count); return; &#125; if (amount &lt; 0) return; for (int i = coins.size() - 1; i &gt;= 0; i--) dfs(coins, amount - coins[i], count + 1); &#125; int coinChange(vector&lt;int&gt;&amp; coins, int amount) &#123; // sort(coins.begin(), coins.end()); ans = -1; dfs(coins, amount, 0); return ans; &#125;&#125;; æ–¹æ³•äºŒï¼šDPDPçŠ¶æ€å¾ˆå¥½è®¾ç½®ï¼Œdp[i]å³è¡¨ç¤ºç»„æˆé‡‘é¢ä¸ºiçš„æ‰€éœ€æœ€å°é‡‘å¸ä¸ªæ•°ï¼Œå…¶ä¸­åˆå§‹åŒ–å¦‚ä¸‹ï¼š dp[0] = 0 è‹¥i = æŸç¡¬å¸é¢å€¼ï¼Œåˆ™dp[i] = 1; å…¶ä½™å‡åˆå§‹åŒ–ä¸º-1 çŠ¶æ€è½¬ç§»è¿‡ç¨‹ç›´æ¥å†™åœ¨ä»£ç é‡Œäº† 12345678910111213141516171819202122232425262728class Solution&#123;public: int coinChange(vector&lt;int&gt;&amp; coins, int amount) &#123; sort(coins.begin(), coins.end()); if (amount &lt; 0) return -1; vector&lt;int&gt; dp(amount + 1, -1); dp[0] = 0; for (int i = 0; i &lt; coins.size(); i++) if (coins[i] &lt;= amount) dp[coins[i]] = 1; for (int i = 1; i &lt;= amount; i++) &#123; if (dp[i] == 1) continue; for (int j = 0; j &lt; coins.size(); j++) &#123; if (i - coins[j] &gt;= 0 &amp;&amp; dp[i - coins[j]] != -1) dp[i] = (dp[i] == -1) ? (dp[i - coins[j]] + 1) : min(dp[i], dp[i - coins[j]] + 1); &#125; &#125; return dp[amount]; &#125;&#125;; Leetcode 410 åˆ†å‰²æ•°ç»„çš„æœ€å¤§å€¼leetcode 419 é¢˜ç›®æè¿°ç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•°æ•°ç»„å’Œä¸€ä¸ªæ•´æ•° mï¼Œä½ éœ€è¦å°†è¿™ä¸ªæ•°ç»„åˆ†æˆ m ä¸ªéç©ºçš„è¿ç»­å­æ•°ç»„ã€‚è®¾è®¡ä¸€ä¸ªç®—æ³•ä½¿å¾—è¿™ m ä¸ªå­æ•°ç»„å„è‡ªå’Œçš„æœ€å¤§å€¼æœ€å°ã€‚ æ³¨æ„:æ•°ç»„é•¿åº¦ n æ»¡è¶³ä»¥ä¸‹æ¡ä»¶: 1 â‰¤ n â‰¤ 1000 1 â‰¤ m â‰¤ min(50, n) ç¤ºä¾‹è¾“å…¥:nums = [7,2,5,10,8]m = 2 è¾“å‡º:18 è§£é‡Š:ä¸€å…±æœ‰å››ç§æ–¹æ³•å°†numsåˆ†å‰²ä¸º2ä¸ªå­æ•°ç»„ã€‚å…¶ä¸­æœ€å¥½çš„æ–¹å¼æ˜¯å°†å…¶åˆ†ä¸º[7,2,5] å’Œ [10,8]ï¼Œå› ä¸ºæ­¤æ—¶è¿™ä¸¤ä¸ªå­æ•°ç»„å„è‡ªçš„å’Œçš„æœ€å¤§å€¼ä¸º18ï¼Œåœ¨æ‰€æœ‰æƒ…å†µä¸­æœ€å°ã€‚ æ–¹æ³•åŠ¨æ€è§„åˆ’ï¼Œdp[i][j]è¡¨ç¤ºå‰iä¸ªæ•°è¢«åˆ†ä¸ºjæ®µåçš„æ‰€æœ‰æ–¹æ¡ˆä¸­å„ä¸ªå­æ•°ç»„å’Œæœ€å¤§å€¼çš„æœ€å°å€¼ã€‚ã€‚æ±‚å‰ç¼€å’Œæ¯”è¾ƒäº®çœ¼ã€‚ã€‚ã€‚ 12345678910111213141516171819202122class Solution&#123;public: int splitArray(vector&lt;int&gt;&amp; nums, int m) &#123; int n = nums.size(); vector&lt;long long&gt; pre_sum(n + 1, 0); pre_sum[1] = nums[0]; for (int i = 0; i &lt; n; i++) pre_sum[i + 1] = pre_sum[i] + nums[i]; vector&lt;vector&lt;long long&gt;&gt; dp(n + 1, vector&lt;long long&gt;(m + 1, LLONG_MAX)); //dp[i][j]è¡¨ç¤ºå‰iä¸ªæ•°è¢«åˆ†ä¸ºjæ®µåå„ä¸ªå­æ•°ç»„å’Œæœ€å¤§å€¼çš„æœ€å°å€¼ã€‚ã€‚ dp[0][0] = 0; for (int i = 1; i &lt;= n; i++) for (int j = 1; j &lt;= min(m, i); j++) for (int k = 0; k &lt; i; k++) dp[i][j] = min(dp[i][j], max(dp[k][j - 1], pre_sum[i] - pre_sum[k])); return dp[n][m]; &#125;&#125;;","categories":[],"tags":[{"name":"leetcode_solution","slug":"leetcode-solution","permalink":"http://believebest35.github.io/tags/leetcode-solution/"}]},{"title":"leetcode 1025 é™¤æ•°åšå¼ˆ","slug":"leetcode-solution-4","date":"2020-07-24T07:54:08.000Z","updated":"2020-10-13T12:27:17.429Z","comments":true,"path":"2020/07/24/leetcode-solution-4/","link":"","permalink":"http://believebest35.github.io/2020/07/24/leetcode-solution-4/","excerpt":"Leetcode 1025 é™¤æ•°åšå¼ˆleetcode 1025 é¢˜ç›®æè¿°çˆ±ä¸½ä¸å’Œé²å‹ƒä¸€èµ·ç©æ¸¸æˆï¼Œä»–ä»¬è½®æµè¡ŒåŠ¨ã€‚çˆ±ä¸½ä¸å…ˆæ‰‹å¼€å±€ã€‚ æœ€åˆï¼Œé»‘æ¿ä¸Šæœ‰ä¸€ä¸ªæ•°å­— N ã€‚åœ¨æ¯ä¸ªç©å®¶çš„å›åˆï¼Œç©å®¶éœ€è¦æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š é€‰å‡ºä»»ä¸€ xï¼Œæ»¡è¶³ 0 &lt; x &lt; N ä¸” N % x == 0 ã€‚ ç”¨ N - x æ›¿æ¢é»‘æ¿ä¸Šçš„æ•°å­— N ã€‚å¦‚æœç©å®¶æ— æ³•æ‰§è¡Œè¿™äº›æ“ä½œï¼Œå°±ä¼šè¾“æ‰æ¸¸æˆã€‚ åªæœ‰åœ¨çˆ±ä¸½ä¸åœ¨æ¸¸æˆä¸­å–å¾—èƒœåˆ©æ—¶æ‰è¿”å› Trueï¼Œå¦åˆ™è¿”å› falseã€‚å‡è®¾ä¸¤ä¸ªç©å®¶éƒ½ä»¥æœ€ä½³çŠ¶æ€å‚ä¸æ¸¸æˆã€‚","text":"Leetcode 1025 é™¤æ•°åšå¼ˆleetcode 1025 é¢˜ç›®æè¿°çˆ±ä¸½ä¸å’Œé²å‹ƒä¸€èµ·ç©æ¸¸æˆï¼Œä»–ä»¬è½®æµè¡ŒåŠ¨ã€‚çˆ±ä¸½ä¸å…ˆæ‰‹å¼€å±€ã€‚ æœ€åˆï¼Œé»‘æ¿ä¸Šæœ‰ä¸€ä¸ªæ•°å­— N ã€‚åœ¨æ¯ä¸ªç©å®¶çš„å›åˆï¼Œç©å®¶éœ€è¦æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š é€‰å‡ºä»»ä¸€ xï¼Œæ»¡è¶³ 0 &lt; x &lt; N ä¸” N % x == 0 ã€‚ ç”¨ N - x æ›¿æ¢é»‘æ¿ä¸Šçš„æ•°å­— N ã€‚å¦‚æœç©å®¶æ— æ³•æ‰§è¡Œè¿™äº›æ“ä½œï¼Œå°±ä¼šè¾“æ‰æ¸¸æˆã€‚ åªæœ‰åœ¨çˆ±ä¸½ä¸åœ¨æ¸¸æˆä¸­å–å¾—èƒœåˆ©æ—¶æ‰è¿”å› Trueï¼Œå¦åˆ™è¿”å› falseã€‚å‡è®¾ä¸¤ä¸ªç©å®¶éƒ½ä»¥æœ€ä½³çŠ¶æ€å‚ä¸æ¸¸æˆã€‚ ç¤ºä¾‹è¾“å…¥ï¼š2è¾“å‡ºï¼štrueè§£é‡Šï¼šçˆ±ä¸½ä¸é€‰æ‹© 1ï¼Œé²å‹ƒæ— æ³•è¿›è¡Œæ“ä½œã€‚ è¾“å…¥ï¼š3è¾“å‡ºï¼šfalseè§£é‡Šï¼šçˆ±ä¸½ä¸é€‰æ‹© 1ï¼Œé²å‹ƒä¹Ÿé€‰æ‹© 1ï¼Œç„¶åçˆ±ä¸½ä¸æ— æ³•è¿›è¡Œæ“ä½œã€‚ æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’å¦‚æœä¸æƒ³åŠ¨è„‘å°±æ— è„‘åŠ¨æ€è§„åˆ’ã€‚ã€‚ã€‚è®¾dp[i]è¡¨ç¤ºæ•°å­—ä¸ºiæ—¶å…ˆæ‰‹æ˜¯å¦å¿…èµ¢ã€‚æ•°å­—ä¸ºiæ—¶çš„å¿…èƒœæ˜¯ä»å…ˆå‰æŸä¸€å¿…è´¥æ€æ‰€è½¬ç§»æ¥çš„ï¼Œå› æ­¤è½¬ç§»æ–¹ç¨‹å¯ä»¥å†™ä¸ºï¼šdp[i] = true if dp[i - j] = false exists (jä¸ºiå› å­)or dp[i] = false 1234567891011121314151617class Solution&#123;public: bool divisorGame(int N) &#123; vector&lt;bool&gt; dp(N + 1, false); dp[1] = false, dp[2] = true; for (int i = 3; i &lt;= N; i++) for (int j = 1; j &lt; i; j++) if (i % j == 0 &amp;&amp; !dp[i - j]) &#123; dp[i] = true; break; &#125; return dp[N]; &#125;&#125;; æ–¹æ³•äºŒï¼šæ•°å­¦è§„å¾‹é¢ï¼Œç›´æ¥æ‰æƒ³Nèƒ½ä¸èƒ½è¢«2æ•´é™¤ï¼Œèƒ½æ•´é™¤å°±è¿”å›trueï¼Œå¦åˆ™falseã€‚è¯æ˜å¯ç”¨æ•°å­¦å½’çº³æ³•ã€‚ 12345678class Solution&#123;public: bool divisorGame(int N) &#123; return N % 2 == 0ï¼› &#125;&#125;;","categories":[],"tags":[{"name":"leetcode_solution","slug":"leetcode-solution","permalink":"http://believebest35.github.io/tags/leetcode-solution/"}]},{"title":"leetcode 287 å¯»æ‰¾é‡å¤æ•°","slug":"leetcode-solution-3","date":"2020-07-23T07:10:49.000Z","updated":"2020-10-13T12:27:26.410Z","comments":true,"path":"2020/07/23/leetcode-solution-3/","link":"","permalink":"http://believebest35.github.io/2020/07/23/leetcode-solution-3/","excerpt":"Leetcode 287 å¯»æ‰¾é‡å¤æ•°leetcode 287 é¢˜ç›®æè¿°ç»™å®šä¸€ä¸ªåŒ…å« n + 1 ä¸ªæ•´æ•°çš„æ•°ç»„ numsï¼Œå…¶æ•°å­—éƒ½åœ¨ 1 åˆ° n ä¹‹é—´ï¼ˆåŒ…æ‹¬ 1 å’Œ nï¼‰ï¼Œå¯çŸ¥è‡³å°‘å­˜åœ¨ä¸€ä¸ªé‡å¤çš„æ•´æ•°ã€‚å‡è®¾åªæœ‰ä¸€ä¸ªé‡å¤çš„æ•´æ•°ï¼Œæ‰¾å‡ºè¿™ä¸ªé‡å¤çš„æ•°ã€‚ ç¤ºä¾‹è¾“å…¥: [1,3,4,2,2]è¾“å‡º: 2 è¾“å…¥: [3,1,3,4,2]è¾“å‡º: 3","text":"Leetcode 287 å¯»æ‰¾é‡å¤æ•°leetcode 287 é¢˜ç›®æè¿°ç»™å®šä¸€ä¸ªåŒ…å« n + 1 ä¸ªæ•´æ•°çš„æ•°ç»„ numsï¼Œå…¶æ•°å­—éƒ½åœ¨ 1 åˆ° n ä¹‹é—´ï¼ˆåŒ…æ‹¬ 1 å’Œ nï¼‰ï¼Œå¯çŸ¥è‡³å°‘å­˜åœ¨ä¸€ä¸ªé‡å¤çš„æ•´æ•°ã€‚å‡è®¾åªæœ‰ä¸€ä¸ªé‡å¤çš„æ•´æ•°ï¼Œæ‰¾å‡ºè¿™ä¸ªé‡å¤çš„æ•°ã€‚ ç¤ºä¾‹è¾“å…¥: [1,3,4,2,2]è¾“å‡º: 2 è¾“å…¥: [3,1,3,4,2]è¾“å‡º: 3 è¯´æ˜ ä¸èƒ½æ›´æ”¹åŸæ•°ç»„ï¼ˆå‡è®¾æ•°ç»„æ˜¯åªè¯»çš„ï¼‰ã€‚ åªèƒ½ä½¿ç”¨é¢å¤–çš„ O(1) çš„ç©ºé—´ã€‚ æ—¶é—´å¤æ‚åº¦å°äº O(n^2) ã€‚ æ•°ç»„ä¸­åªæœ‰ä¸€ä¸ªé‡å¤çš„æ•°å­—ï¼Œä½†å®ƒå¯èƒ½ä¸æ­¢é‡å¤å‡ºç°ä¸€æ¬¡ã€‚ è§£æ³•è¿™é“é¢˜å¦‚æœæ²¡æœ‰è¯´æ˜é‡Œçš„æ¡ä»¶çš„è¯æ˜¯éå¸¸å®¹æ˜“çš„ï¼Œå¯ä»¥æ’åºï¼Œæˆ–è€…å“ˆå¸Œï¼Œä½†æ˜¯æ’åºä¿®æ”¹äº†åŸæ•°ç»„ï¼Œå“ˆå¸Œéœ€è¦O(n)çš„ç©ºé—´ã€‚å¦å¤–å¦‚æœæ²¡æœ‰ç¬¬ä¸€ä¸ªæ¡ä»¶çš„è¯å¯ä»¥è€ƒè™‘ä½¿ç”¨åŸåœ°å“ˆå¸Œã€‚ ä»¥ä¸Šçš„æ–¹æ³•ä¸èƒ½ä½¿ç”¨ï¼Œå› æ­¤å®é™…åšçš„æ—¶å€™ç”¨çš„æ˜¯äºŒåˆ†ï¼Œä¸è¿‡ä¸æ˜¯å¯¹ä¸‹æ ‡è¿›è¡ŒäºŒåˆ†ï¼Œè€Œæ˜¯å¯¹å€¼åŸŸè¿›è¡ŒäºŒåˆ†ã€‚æœ€å¼€å§‹èŒƒå›´å–åˆ°1ï½nï¼Œmid = (1 + n) / 2ï¼Œæ¯æ¬¡åˆ†åˆ«ç»Ÿè®¡å°äºmidï¼Œç­‰äºmidä»¥åŠå¤§äºmidçš„ä¸ªæ•°ï¼Œæ®æ­¤ç¼©å°ç©ºé—´ã€‚ 123456789101112131415161718192021222324252627282930class Solution&#123;public: int findDuplicate(vector&lt;int&gt;&amp; nums) &#123; int n = nums.size() - 1; int i = 1, j = n; while (i &lt; j) &#123; int less_k = 0; int large_k = 0; int count_k = 0; int mid = i + (j - i) / 2; for (auto num : nums) if (num == mid) count_k++; else if (num &lt; mid) less_k++; else large_k++; if (count_k &gt;= 2) return mid; if (less_k &gt; mid - 1) j = mid - 1; else i = mid + 1; &#125; return i; // é¢˜ç›®æ•°æ®ä¿è¯ï¼Œä¸ä¼šåœ¨è¿™é€€å‡ºã€‚ã€‚ã€‚ &#125;&#125;;","categories":[],"tags":[{"name":"leetcode_solution","slug":"leetcode-solution","permalink":"http://believebest35.github.io/tags/leetcode-solution/"}]},{"title":"STLå¸¸ç”¨å®¹å™¨","slug":"stlå¸¸ç”¨å®¹å™¨","date":"2020-07-23T03:21:30.000Z","updated":"2020-10-13T12:28:30.685Z","comments":true,"path":"2020/07/23/stlå¸¸ç”¨å®¹å™¨/","link":"","permalink":"http://believebest35.github.io/2020/07/23/stl%E5%B8%B8%E7%94%A8%E5%AE%B9%E5%99%A8/","excerpt":"è¿™é‡Œè®°å½•äº†ä¸€äº›ç”¨c++åˆ·leetcodeæ—¶å¯èƒ½ä¼šç”¨åˆ°çš„stlå®¹å™¨ç”¨æ³• åŸå‡ºå¤„ï¼Œä½œè€…wangdh vectorè¾¹é•¿æ•°ç»„ï¼Œå€å¢æ€æƒ³ ç³»ç»Ÿä¸ºæŸä¸€ä¸ªç¨‹åºåˆ†é…ç©ºé—´æ—¶ï¼Œæ‰€éœ€æ—¶é—´å’Œç©ºé—´å¤§å°æ— å…³ï¼Œä¸ç”³è¯·æ¬¡æ•°æœ‰å…³ã€‚ æ‰€ä»¥å˜é•¿æ•°ç»„å°½å¯èƒ½å‡å°‘ç”³è¯·æ¬¡æ•°ã€‚ä¸€å¼€å§‹ç”³è¯·ä¸€å®šç©ºé—´çš„å¤§å°ï¼Œå½“è¶…è¿‡å®¹é‡æ—¶ï¼Œç”³è¯·é•¿åº¦å˜ä¸ºäºŒå€çš„ç©ºé—´ï¼Œç„¶åå°†åŸå§‹ç©ºé—´çš„å…ƒç´ copyè¿‡æ¥ã€‚ å½“åˆå§‹åŒ–çš„æ—¶å€™ä¸æŒ‡å®šç©ºé—´å¤§å°ï¼Œä½†æ˜¯ä½¿ç”¨çš„ç©ºé—´æœ‰éå¸¸å¤§ä¹‹åéœ€è¦å¤šæ¬¡æ‰©å®¹ï¼Œé‚£ä¹ˆæ‰©å®¹éœ€è¦çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(N) ç›¸å½“äºæ’å…¥ä¸€ä¸ªå…ƒç´ å°±éœ€è¦å°†O(1)çš„æ—¶é—´ã€‚ç”³è¯·ç©ºé—´çš„æ¬¡æ•°æ˜¯O(log n)ã€‚","text":"è¿™é‡Œè®°å½•äº†ä¸€äº›ç”¨c++åˆ·leetcodeæ—¶å¯èƒ½ä¼šç”¨åˆ°çš„stlå®¹å™¨ç”¨æ³• åŸå‡ºå¤„ï¼Œä½œè€…wangdh vectorè¾¹é•¿æ•°ç»„ï¼Œå€å¢æ€æƒ³ ç³»ç»Ÿä¸ºæŸä¸€ä¸ªç¨‹åºåˆ†é…ç©ºé—´æ—¶ï¼Œæ‰€éœ€æ—¶é—´å’Œç©ºé—´å¤§å°æ— å…³ï¼Œä¸ç”³è¯·æ¬¡æ•°æœ‰å…³ã€‚ æ‰€ä»¥å˜é•¿æ•°ç»„å°½å¯èƒ½å‡å°‘ç”³è¯·æ¬¡æ•°ã€‚ä¸€å¼€å§‹ç”³è¯·ä¸€å®šç©ºé—´çš„å¤§å°ï¼Œå½“è¶…è¿‡å®¹é‡æ—¶ï¼Œç”³è¯·é•¿åº¦å˜ä¸ºäºŒå€çš„ç©ºé—´ï¼Œç„¶åå°†åŸå§‹ç©ºé—´çš„å…ƒç´ copyè¿‡æ¥ã€‚ å½“åˆå§‹åŒ–çš„æ—¶å€™ä¸æŒ‡å®šç©ºé—´å¤§å°ï¼Œä½†æ˜¯ä½¿ç”¨çš„ç©ºé—´æœ‰éå¸¸å¤§ä¹‹åéœ€è¦å¤šæ¬¡æ‰©å®¹ï¼Œé‚£ä¹ˆæ‰©å®¹éœ€è¦çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(N) ç›¸å½“äºæ’å…¥ä¸€ä¸ªå…ƒç´ å°±éœ€è¦å°†O(1)çš„æ—¶é—´ã€‚ç”³è¯·ç©ºé—´çš„æ¬¡æ•°æ˜¯O(log n)ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142#include&lt;iostream&gt;#include&lt;vector&gt;#include&lt;algorithm&gt;#include&lt;cstring&gt;using namespace std;int main()&#123; vector&lt;int&gt; a; // å®šä¹‰ä¸€ä¸ªvecotr vector&lt;int&gt; a(10); // åˆå§‹é•¿åº¦ä¸º10ï¼› vector&lt;int&gt; a(10, 3); // åˆå§‹é•¿åº¦ä¸º10ï¼Œ ä¸”æ¯ä¸ªå…ƒç´ åˆå§‹åŒ–ä¸º3 for(auto i : a) cout &lt;&lt; i &lt;&lt; \" \"; // éå†å…ƒç´ çš„æ–¹å¼ ï¼Œ auto å…³é”®å­—ï¼Œç³»ç»Ÿè‡ªåŠ¨æ¨æ–­å˜é‡ç±»å‹ï¼Œå˜é‡åæ¯”è¾ƒé•¿çš„æ—¶å€™å¯ä»¥ä½¿ç”¨ vector&lt;int&gt; a[10]; // å®šä¹‰äº†vectoræ•°ç»„ï¼Œæ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªvector&lt;int&gt; a.size(); // è¿”å›åˆ—è¡¨é‡Œçš„å…ƒç´ çš„ä¸ªæ•° a.empty(); // è¿”å›åˆ—è¡¨æ˜¯ä¸æ˜¯ç©º // size() å’Œempty() æ˜¯æ‰€æœ‰å®¹å™¨éƒ½æœ‰çš„ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯o(1) a.clear(); // æ¸…ç©ºï¼Œä¸æ˜¯æ‰€æœ‰çš„å®¹å™¨éƒ½æœ‰ a.front(); // è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´  a.back(); // è¿”å›æœ€åä¸€ä¸ªå…ƒç´  a.push_back(); // ä»æœ€åæ’å…¥ä¸€ä¸ªå…ƒç´  a.pop_back(); // åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´  a.begin(); a.end(); // è¿­ä»£å™¨ã€‚ å¯ä»¥çœ‹åšæŒ‡é’ˆï¼Œå¯ä»¥è§£å¼•ç”¨ a[2]; // æ”¯æŒéšæœºå¯»å€ï¼Œä¸æ•°ç»„ç›¸åŒ // ä¸‰ç§éå†æ–¹å¼ for(int i = 0; i &lt; a.size(); i ++) cout &lt;&lt; a[i] &lt;&lt; \" \"; cout &lt;&lt; endl; for(vector&lt;int&gt;::iterator i = a.begin(); i != a.end(); i ++) cout &lt;&lt; *i &lt;&lt; \" \"; for(auto i = a.begin(); i != a.end(); i ++) cout &lt;&lt; *i &lt;&lt; \" \"; // è¿­ä»£å™¨ï¼Œè§£å¼•ç”¨ cout &lt;&lt; endl; for(auto x : a) cout &lt;&lt; x &lt;&lt; \" \"; // autoå…³é”®å­—è‡ªåŠ¨æ¨æ–­ç±»å‹ cout &lt;&lt; endl; // vectoræ”¯æŒæ¯”è¾ƒï¼ŒæŒ‰ä½è¿›è¡Œå­—å…¸åºæ¯”è¾ƒ vector&lt;int&gt; a(4, 3), b(3, 4); cout &lt;&lt; (a &lt; b); return 0;&#125; pairå…ƒç»„ç±»å‹ï¼Œç›¸å½“äºPythonä¸­çš„(). å½“ä¸€ä¸ªå…ƒç´ æœ‰å¤šä¸ªå±æ€§çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨pairæ¥è¿›è¡Œå­˜å‚¨ã€‚å½“éœ€è¦æŒ‰ç…§æŸä¸ªå±æ€§æ¥æ’åºçš„æ—¶å€™ï¼Œå°±éå¸¸å¥½ã€‚ æ¯”å¦‚åˆå¹¶åŒºé—´çš„é—®é¢˜ã€‚æ¯ä¸ªåŒºé—´æœ‰å¼€å§‹å’Œç»“å°¾ä¸¤ä¸ªå±æ€§ï¼Œç„¶åéœ€è¦æŒ‰ç…§åŒºé—´çš„å¼€å§‹å¯¹åŒºé—´è¿›è¡Œæ’åºã€‚ å¯ä»¥çœ‹åšå®ç°äº†ä¸€ä¸ªç»“æ„ä½“ï¼Œä¸”å®ç°äº†æ¯”è¾ƒå™¨ã€‚ 12345678910111213141516171819202122232425262728293031// ä¸¤ç§åˆå§‹åŒ–æ–¹æ³•pair&lt;int, string&gt; p;p = make_pair(10, \"aa\");p = &#123;q, \"ab\"&#125;;// æ”¯å‡ºæ¯”è¾ƒè¿ç®—ï¼Œfirstä¸ºç¬¬ä¸€å…³é”®å­—ï¼Œsecondä¸ºç¬¬äºŒå…³é”®å­—pair&lt;int, string&gt; p = &#123;1, \"aa\"&#125;;pair&lt;int, string&gt; q = &#123;1, \"ab\"&#125;;// firstå–å‡ºç¬¬ä¸€ä¸ªå­—ï¼Œ secondå–å‡ºç¬¬äºŒä¸ªå­—cout &lt;&lt; p.first &lt;&lt; endl;cout &lt;&lt; p.second &lt;&lt; endl;cout &lt;&lt; (p &lt; q) &lt;&lt; endl;// ä¹Ÿå¯ä»¥ä½¿ç”¨pairå­˜å‚¨ä¸‰ä¸ªå±æ€§ç­‰; pair åµŒå¥—pairpair&lt;int, pair&lt;int, int&gt;&gt; p;stringå­—ç¬¦ä¸²ï¼Œsubstr(), c_str()string s = \"a\"; s += \"ab\"; // æ”¯æŒå¢é‡æ“ä½œs += 'a';cout &lt;&lt; s &lt;&lt; endl;cout &lt;&lt; s.substr(1, 2) &lt;&lt; endl; // å¯ä»¥å–å‡ºæŸä¸ªå­ä¸²ï¼Œç¬¬ä¸€ä¸ªæ˜¯èµ·å§‹indexï¼Œç¬¬äºŒä¸ªæ˜¯é•¿åº¦ã€‚ç¬¬äºŒä¸ªç¼ºçœæˆ–è€…è¶…è¿‡èŒƒå›´åˆ™è¿”å›ä¹‹åçš„å·¦å³å­—ç¬¦ä¸²cout &lt;&lt; s.substr(1) &lt;&lt; endl;cout &lt;&lt; s.substr(1, 100) &lt;&lt; endl;printf(\"%s\\n\", s.c_str()); // ä½¿ç”¨printfè¾“å‡ºçš„æ—¶å€™ï¼Œéœ€è¦æ‰¾åˆ°å­˜å‚¨å­—ç¬¦ä¸²æ•°ç»„çš„èµ·å§‹åœ°å€ã€‚c_str()å¯ä»¥è¿”å›size() | length() // è¿”å›å­—ç¬¦ä¸²çš„é•¿åº¦ s.find('a'); // è¿”å›aåœ¨sä¸­çš„ä½ç½®,å¦‚æœæ²¡æ‰¾åˆ°ï¼Œè¿”å›ä¸€ä¸ªç‰¹åˆ«çš„æ ‡å¿—c++ä¸­ç”¨nposè¡¨ç¤º(å¯ä»¥ç”¨s.npos)æ¥è¡¨ç¤º queueé˜Ÿåˆ—ï¼Œpush(), front() , pop(),back() 1234567// push() å‘é˜Ÿå°¾æ’å…¥ä¸€ä¸ªå…ƒç´ // front() è¿”å›é˜Ÿå¤´å…ƒç´ // pop() è¿”å›é˜Ÿå°¾å…ƒç´ // back() å¼¹å‡ºé˜Ÿå¤´å…ƒç´ // size() // empty()// æ²¡æœ‰clearæ“ä½œ priority_queueä¼˜å…ˆé˜Ÿåˆ—ï¼Œpush(), top(), pop() 123456789101112131415161718192021222324// å†…éƒ¨ä½¿ç”¨å †ç»´æŠ¤// é»˜è®¤æ˜¯å¤§é¡¶å †ï¼Œå’Œpythonç›¸å// ä½¿ç”¨å°é¡¶å¯¹æ–¹æ³•// 1. åœ¨æ’å…¥çš„æ—¶å€™æ’å…¥å…ƒç´ çš„ç›¸åæ•°å³å¯// 2. å¦‚ä¸‹å®šä¹‰#include&lt;vector&gt;#include&lt;queue&gt;#include&lt;iostream&gt;#include&lt;csting&gt;#include&lt;queue&gt;using namespace std;priority_queue&lt;int, vector&lt;int&gt;, greater&lt;int&gt;&gt; heap;// priority_queue&lt;int&gt; q; // å¤§é¡¶å †priority_queue&lt;int, vector&lt;int&gt;, greater&lt;int&gt;&gt; q; // å°é¡¶å †q.push(1);q.push(2);q.push(5);q.push(10);while(!q.empty())&#123; cout &lt;&lt; q.top() &lt;&lt; endl; q.pop();&#125; stackæ ˆï¼Œ push(), top(), pop() 123456#include&lt;stack&gt;// size()// empty()// push() æ ˆé¡¶åŠ å…¥ä¸€ä¸ªå…ƒç´ // top() èŒƒæ¹–æ ˆé¡¶å…ƒç´ // pop() å¼¹å‡ºæ ˆé¡¶å…ƒç´  dequeåŒç«¯é˜Ÿåˆ—ï¼Œé˜Ÿå¤´é˜Ÿå°¾éƒ½å¯ä»¥æ’å…¥åˆ é™¤å…ƒç´ ï¼Œä¹Ÿå¯ä»¥éšæœºè®¿é—®ï¼ŒåŠ å¼ºç‰ˆvectorã€‚ dequeéå¸¸å‰å®³ï¼Œå‡ ä¹æ”¯æŒå…¶ä»–å®¹å™¨æ‰€æœ‰çš„æ“ä½œï¼Œä½†æ˜¯é€Ÿåº¦å¯¹åº”çš„ä¹Ÿæ¯”è¾ƒæ…¢ã€‚ 12345678910111213#include&lt;deque&gt;size()empty()clear() // æ”¯æŒæ¸…ç©ºæ“ä½œfront() // å¯ä»¥è®¿é—®å¤´éƒ¨æˆ–å°¾éƒ¨å…ƒç´ back()// èƒ½å¤Ÿä»å¤´æˆ–è€…å°¾éƒ¨æ’å…¥æˆ–åˆ é™¤å…ƒç´ push_back()pop_back()push_front()pop_front()[] // æ”¯æŒç´¢å¼•æ“ä½œ set, map multiset, multimapåŸºäºå¹³è¡¡äºŒå‰æ ‘(çº¢é»‘æ ‘), åŠ¨æ€ç»´æŠ¤æœ‰åºåºåˆ— 1234567891011121314151617181920212223242526size();empty();clear();begin()/end(); ++ , -- è¿­ä»£å™¨æ”¯æŒè‡ªå¢è‡ªå‡ è¿”å›å‰é©±åç»§ æ—¶é—´å¤æ‚åº¦ä¹Ÿæ˜¯log nset/ multiset// multisetå¯ä»¥å­˜å‚¨å¤šä¸ªç›¸åŒçš„å…ƒç´ insert(); // æ’å…¥ä¸€ä¸ªå…ƒç´  log(n)find(x); // æŸ¥æ‰¾ä¸€ä¸ªå…ƒç´ count(x); // è¿”å›æŸä¸ªæ•°çš„ä¸ªæ•°erase(); // è¾“å…¥ä¸€ä¸ªæ•°xï¼Œåˆ™åˆ é™¤æ‰€æœ‰x O(k + log n) kæ˜¯å…ƒç´ ä¸ªæ•° è¾“å…¥ä¸€ä¸ªè¿­ä»£å™¨ï¼Œåˆ™åˆ é™¤è¿™ä¸ªè¿­ä»£å™¨lower_bound()/ upper_bound(); // lower_bound(x) è¿”å›å¤§äºç­‰äºxçš„æœ€å°çš„æ•°çš„è¿­ä»£å™¨ upper_bound(x) è¿”å›å¤§äºxçš„æœ€å°çš„æ•°çš„è¿­ä»£å™¨map/ multimap; // å°†ä¸¤ä¸ªå…ƒç´ åšæ˜ å°„ï¼Œ multi_mapæ”¯æŒä¸€ä¸ªkeyå¯¹åº”å¤šä¸ªvalueinsert(); // æ’å…¥çš„æ˜¯ä¸€ä¸ªpairerase(); // è¾“å…¥çš„å‚æ•°æ˜¯ä¸€ä¸ªpairæˆ–è€…è¿­ä»£å™¨find(); // []; // æ”¯æŒç´¢å¼•æ“ä½œ æ—¶é—´å¤æ‚åº¦O(log n)#include&lt;map&gt;map&lt;string, int&gt; a;a[\"wdh\"] = 1;cout &lt;&lt; a[\"wdh\"] &lt;&lt; endl; unordered_set, unordered_map, unordered_multiset, unordered_multimapä½¿ç”¨å“ˆå¸Œè¡¨è¿›è¡Œå­˜å‚¨ æ“ä½œå’Œä¸Šé¢çš„ç›¸åŒï¼Œæ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O(1)ã€‚å†…éƒ¨æ— ç»­ï¼Œä¸æ”¯æŒlower_bound, upper_boundã€‚ä¸æ”¯è¿­ä»£å™¨çš„++ â€“ bitsetå‹ä½ï¼Œ è¿›è¡Œä½è¿ç®—ï¼Œå¦‚çŠ¶å‹DPçš„å¯¹çŠ¶æ€çš„å„ç§ä½æ“ä½œã€‚ æ¯”å¦‚å¦‚æœå¼€å¤§å°ä¸º1024çš„boolæ•°ç»„ï¼Œé‚£ä¹ˆéœ€è¦ä½¿ç”¨1KBå†…å­˜ã€‚ ä½†æ˜¯å¦‚æœä½¿ç”¨å‹ä½ï¼Œé‚£ä¹ˆåªéœ€è¦ä½¿ç”¨125Bå†…å­˜ã€‚ è¦å¼€10000 * 10000çš„boolæ•°ç»„ï¼Œé‚£ä¹ˆéœ€è¦å¤§æ¦‚100MBå†…å­˜ï¼Œä½†æ˜¯å†…å­˜é™åˆ¶æ˜¯64MBï¼Œ è¿™ä¸ªæ—¶å€™ä½¿ç”¨å‹ä½å°±å¯ä»¥åªç”¨ 12MBå†…å­˜ã€‚ 12345678910111213bitset&lt;10000&gt; s; // ä¸€ä¸‡ä½~ &amp; | ^; // æŒ‰ä½é€»è¾‘æ“ä½œ&gt;&gt; &lt;&lt; ; // ç§»ä½æ“ä½œ==, != ; // æ¯”è¾ƒæ“ä½œ[]; // å–å‡ºæŸä¸€ä½count(); // è¿”å›æœ‰å¤šå°‘ä¸ª1any(); // åˆ¤æ–­æ˜¯å¦è‡³å°‘æœ‰ä¸€ä¸ª1none(); // åˆ¤æ–­æ˜¯å¦å…¨ä¸ºé›¶set(); // æŠŠæ‰€æœ‰ä½ç½®ä¸º1set(k, v); // å°†ç¬¬kä½å˜æˆvreset(); // å°†æ‰€æœ‰ä½å˜æˆé›¶flip(); // å°†æ‰€æœ‰ä½å–åï¼Œç­‰ä»·äº~flip(k); // å°†ç¬¬kä½å–å algorithmå®ç°äº†ä¸€äº›å¸¸ç”¨ç®—æ³• 1234567891011121314vector&lt;int&gt; a;sort(a.begin(), a.end()); // å¯¹aè¿›è¡Œå¿«é€Ÿæ’åºreverse(a.begin(), a.end()); // ç¿»è½¬ä¸€ä¸ªvectorunique(a.begin(), a.end()); // è¿”å›å»é‡ä¹‹åçš„å°¾è¿­ä»£å™¨(æŒ‡é’ˆ), å‰é—­åå¼€ï¼Œè¿”å›çš„æ˜¯å»é‡ä¹‹åæœ«å°¾å…ƒç´ çš„ä¸‹ä¸€ä¸ªä½ç½®int m =unique(a.begin(), a.end()) - a.begin(); // è®¡ç®—å»é‡ä¹‹åçš„å…ƒç´ ä¸ªæ•°mrandom_shuffle(a.begin(), a.end()); // éšæœºæ‰“ä¹±é¡ºåºnext_permutation(); // å°†ä¸¤ä¸ªè¿­ä»£å™¨(æŒ‡é’ˆ)æŒ‡å®šçš„éƒ¨åˆ†çœ‹åšä¸€ä¸ªæ’åˆ—ï¼Œæ±‚å‡ºè¿™äº›å…ƒç´ æ„æˆçš„å…¨æ’åˆ—ä¸­ï¼Œå­—å…¸åºæ’åœ¨å†™ä¸€ä¸ªçš„å…¨æ’åˆ—ã€‚å¹¶ç›´æ¥åœ¨åºåˆ—ä¸Šæ›´æ–°ã€‚è‹¥ä¸å­˜åœ¨ï¼Œåˆ™è¿”å›falseï¼Œå¦åˆ™è¿”å›trueã€‚åŒç†æœ‰prev_permutationå‡½æ•°// è¾“å‡º1 - nçš„ nï¼ä¸­å…¨æ’åˆ—int q[3] = &#123;1, 2, 3&#125;;do&#123; for(int i = 0; i &lt; 3; i ++) cout &lt;&lt; q[i] &lt;&lt; \" \"; cout &lt;&lt; endl;&#125;while(next_permutation(q, q+3));","categories":[],"tags":[{"name":"STLå¸¸ç”¨å®¹å™¨","slug":"STLå¸¸ç”¨å®¹å™¨","permalink":"http://believebest35.github.io/tags/STL%E5%B8%B8%E7%94%A8%E5%AE%B9%E5%99%A8/"}]},{"title":"leetcode 279 å®Œå…¨å¹³æ–¹æ•°","slug":"leetcode-solution-2","date":"2020-07-22T14:39:07.000Z","updated":"2020-10-13T12:27:35.868Z","comments":true,"path":"2020/07/22/leetcode-solution-2/","link":"","permalink":"http://believebest35.github.io/2020/07/22/leetcode-solution-2/","excerpt":"Leetcode 279 å®Œå…¨å¹³æ–¹æ•°leetcode 279 é¢˜ç›®æè¿°ç»™å®šæ­£æ•´æ•° nï¼Œæ‰¾åˆ°è‹¥å¹²ä¸ªå®Œå…¨å¹³æ–¹æ•°ï¼ˆæ¯”å¦‚ 1, 4, 9, 16, â€¦ï¼‰ä½¿å¾—å®ƒä»¬çš„å’Œç­‰äº nã€‚ä½ éœ€è¦è®©ç»„æˆå’Œçš„å®Œå…¨å¹³æ–¹æ•°çš„ä¸ªæ•°æœ€å°‘ã€‚ ç¤ºä¾‹è¾“å…¥: n = 12è¾“å‡º: 3è§£é‡Š: 12 = 4 + 4 + 4. è¾“å…¥: n = 13è¾“å‡º: 2è§£é‡Š: 13 = 4 + 9.","text":"Leetcode 279 å®Œå…¨å¹³æ–¹æ•°leetcode 279 é¢˜ç›®æè¿°ç»™å®šæ­£æ•´æ•° nï¼Œæ‰¾åˆ°è‹¥å¹²ä¸ªå®Œå…¨å¹³æ–¹æ•°ï¼ˆæ¯”å¦‚ 1, 4, 9, 16, â€¦ï¼‰ä½¿å¾—å®ƒä»¬çš„å’Œç­‰äº nã€‚ä½ éœ€è¦è®©ç»„æˆå’Œçš„å®Œå…¨å¹³æ–¹æ•°çš„ä¸ªæ•°æœ€å°‘ã€‚ ç¤ºä¾‹è¾“å…¥: n = 12è¾“å‡º: 3è§£é‡Š: 12 = 4 + 4 + 4. è¾“å…¥: n = 13è¾“å‡º: 2è§£é‡Š: 13 = 4 + 9. æ–¹æ³•ä¸€ï¼šæš´åŠ›æ‹¿åˆ°é¢˜ç›®åæƒ³éƒ½æ²¡æƒ³Orzï¼Œç›´æ¥dfsæš´åŠ›æœç´¢ï¼Œæœç„¶Täº†ã€‚ã€‚ã€‚TAT 123456789101112131415161718192021222324252627class Solution&#123;public: int ans; void dfs(int left, int base, int count) &#123; if (left &lt; 0) return; if (left == 0) &#123; ans = min(ans, count); return; &#125; for (int i = base; i &gt;= 1; i--) dfs(left - i * i, i, count + 1); &#125; int numSquares(int n) &#123; ans = n; dfs(n, pow(n, 1.0 / 2.0), 0); return ans; &#125;&#125;; æ–¹æ³•äºŒï¼šåŠ¨æ€è§„åˆ’è®¾dp[i]è¡¨ç¤ºå’Œä¸ºiçš„æœ€å°å¹³æ–¹æ•°çš„ä¸ªæ•°ï¼Œè½¬ç§»æ–¹ç¨‹ä¸ºï¼šdp[i] = min(dp[i], dp[i - j * j] + 1); 123456789101112131415class Solution&#123;public: int numSquares(int n) &#123; vector&lt;int&gt; dp(n + 1, 0); for (int i = 1; i &lt;= n; i++) &#123; dp[i] = i; for (int j = 1; i - j * j &gt;= 0; j++) dp[i] = min(dp[i], dp[i - j * j] + 1); &#125; return dp[n]; &#125;&#125;;","categories":[],"tags":[{"name":"leetcode_solution","slug":"leetcode-solution","permalink":"http://believebest35.github.io/tags/leetcode-solution/"}]},{"title":"leetcode å‰‘æŒ‡offer 11 æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­—","slug":"leetcode-solution-1","date":"2020-07-22T13:10:05.000Z","updated":"2020-10-13T12:27:44.518Z","comments":true,"path":"2020/07/22/leetcode-solution-1/","link":"","permalink":"http://believebest35.github.io/2020/07/22/leetcode-solution-1/","excerpt":"Leetcode å‰‘æŒ‡offer 11 æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­—å‰‘æŒ‡offer 11 on leetcode é¢˜ç›®æè¿°æŠŠä¸€ä¸ªæ•°ç»„æœ€å¼€å§‹çš„è‹¥å¹²ä¸ªå…ƒç´ æ¬åˆ°æ•°ç»„çš„æœ«å°¾ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºæ•°ç»„çš„æ—‹è½¬ã€‚è¾“å…¥ä¸€ä¸ªé€’å¢æ’åºçš„æ•°ç»„çš„ä¸€ä¸ªæ—‹è½¬ï¼Œè¾“å‡ºæ—‹è½¬æ•°ç»„çš„æœ€å°å…ƒç´ ã€‚ä¾‹å¦‚ï¼Œæ•°ç»„ [3,4,5,1,2] ä¸º [1,2,3,4,5] çš„ä¸€ä¸ªæ—‹è½¬ï¼Œè¯¥æ•°ç»„çš„æœ€å°å€¼ä¸º1ã€‚ ç¤ºä¾‹è¾“å…¥ï¼š[3,4,5,1,2]è¾“å‡ºï¼š1 è¾“å…¥ï¼š[2,2,2,0,1]è¾“å‡ºï¼š0","text":"Leetcode å‰‘æŒ‡offer 11 æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­—å‰‘æŒ‡offer 11 on leetcode é¢˜ç›®æè¿°æŠŠä¸€ä¸ªæ•°ç»„æœ€å¼€å§‹çš„è‹¥å¹²ä¸ªå…ƒç´ æ¬åˆ°æ•°ç»„çš„æœ«å°¾ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºæ•°ç»„çš„æ—‹è½¬ã€‚è¾“å…¥ä¸€ä¸ªé€’å¢æ’åºçš„æ•°ç»„çš„ä¸€ä¸ªæ—‹è½¬ï¼Œè¾“å‡ºæ—‹è½¬æ•°ç»„çš„æœ€å°å…ƒç´ ã€‚ä¾‹å¦‚ï¼Œæ•°ç»„ [3,4,5,1,2] ä¸º [1,2,3,4,5] çš„ä¸€ä¸ªæ—‹è½¬ï¼Œè¯¥æ•°ç»„çš„æœ€å°å€¼ä¸º1ã€‚ ç¤ºä¾‹è¾“å…¥ï¼š[3,4,5,1,2]è¾“å‡ºï¼š1 è¾“å…¥ï¼š[2,2,2,0,1]è¾“å‡ºï¼š0 æ–¹æ³•ä¸€ï¼šæš´åŠ›æš´åŠ›çš„æ–¹æ³•ç›¸å¯¹å¾ˆç›´è§‚ï¼Œæ¯”è¾ƒå®¹æ˜“æƒ³åˆ°ã€‚ä½†è¿™é“é¢˜æ²¡æœ‰è¯´æ˜æ¬è¿å…ƒç´ çš„ä¸ªæ•°ï¼Œå› æ­¤éœ€è¦ç‰¹åˆ¤ä¸€ä¸‹\bæ˜¯å¦æ²¡æœ‰æ¬è¿ï¼Œå³æ¯”è¾ƒæ•°ç»„å¤´å’Œæ•°ç»„å°¾å…ƒç´ å¤§å°å³å¯ã€‚è‹¥nums[0] &lt; nums[n - 1]åˆ™è¯´æ˜æ²¡æœ‰æ¬è¿ï¼Œç›´æ¥è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ å³å¯ã€‚ è‹¥æ¬è¿äº†å…ƒç´ ï¼Œè¿›è¡Œä¸€æ¬¡éå†å³å¯ï¼Œè¿”å›æ»¡è¶³nums[i] &lt; nums[i - 1]çš„å…ƒç´ å³å¯ã€‚ 1234567891011121314151617181920class Solution&#123;public: int minArray(vector&lt;int&gt;&amp; numbers) &#123; int n = numbers.size(); if (n == 0) return 0; if (n == 1) return numbers[0]; if (n == 2) return min(numbers[0], numbers[1]); if (numbers[0] &lt; numbers[n - 1]) return numbers[0]; for (int i = 1; i &lt; n; i++) if (numbers[i] &lt; numbers[i - 1]) return numbers[i]; return numbers[n - 1]; &#125;&#125;; æ˜¾ç„¶æ—¶é—´å¤æ‚åº¦ä¸ºO(n)ã€‚ æ–¹æ³•äºŒï¼šäºŒåˆ†æŸ¥æ‰¾æš´åŠ›çš„æ—¶é—´å¤æ‚åº¦è¿‡é«˜ï¼Œé€šè¿‡äºŒåˆ†æŸ¥æ‰¾å¯ä»¥å°†å¹³å‡æ—¶é—´å¤æ‚åº¦é™è‡³O(logn)ã€‚å‡å®šå·¦ç«¯å…ƒç´ ä¸‹æ ‡ä¸ºiï¼Œå³ç«¯å…ƒç´ ä¸‹æ ‡ä¸ºjï¼Œæ¯æ¬¡äºŒåˆ†åå¾—åˆ°midå…ƒç´ å¯èƒ½ä»¥ä¸‹å­˜åœ¨ä¸‰ç§æƒ…å†µ nums[mid] &lt; nums[j] è¯´æ˜è¢«æ‰¾å…ƒç´ ä½äºiå’Œmidä¹‹é—´ï¼Œå› æ­¤å°†jä¿®æ”¹ä¸ºmid nums[mid] &gt; nums[j] è¯´æ˜è¢«æ‰¾å…ƒç´ ä½äºjå’Œmidä¹‹é—´ï¼Œå› æ­¤å°†iä¿®æ”¹ä¸ºmid + 1 nums[mid] == nums[j] ç”±äºå­˜åœ¨é‡å¤å…ƒç´ ï¼Œå› æ­¤ä¸èƒ½è½»æ˜“ä¿®æ”¹iã€jï¼Œç”±äºmidå’Œjå¤„å…ƒç´ ç›¸åŒï¼Œå› æ­¤ä¸è®ºnums[j]æ˜¯å¦ä¸ºæœ€å°å…ƒç´ ï¼Œ jå·¦è¾¹åº”è¯¥å­˜åœ¨ä¸€ä¸ªâ€œæ›¿ä»£å“â€ã€‚ã€‚ã€‚å› æ­¤å°†jâ€“å³å¯ã€‚ 12345678910111213141516171819202122232425262728class Solution&#123;public: int minArray(vector&lt;int&gt;&amp; numbers) &#123; int n = numbers.size(); if (n == 0) return 0; if (n == 1) return numbers[0]; if (n == 2) return min(numbers[0], numbers[1]); if (numbers[0] &lt; numbers[n - 1]) return numbers[0]; int i = 0, j = n - 1; while (i &lt; j) &#123; int mid = i + (j - i) / 2; if (numbers[mid] &lt; numbers[j]) j = mid; else if (numbers[mid] &gt; numbers[j]) i = mid + 1; else j--; &#125; return numbers[i]; &#125;&#125;; å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸ºO(logn)ã€‚ è¿™ä¼¼ä¹æ˜¯æˆ‘å¼€å§‹å†™çš„ç¬¬ä¸€ç¯‡blogï¼Œå¸Œæœ›æˆ‘ä»¥åèƒ½å¤Ÿå°†å†™åšå®¢çš„ä¹ æƒ¯åšæŒä¸‹å»å§ï¼Œæœ€è¿‘å‘ç°è‡ªå·±å®åœ¨æ˜¯å¤ªèœäº†Orzï¼Œæ— è®ºæ˜¯ç§‘ç ”è¿˜æ˜¯ä»£ç èƒ½åŠ›éƒ½èœå¾—æŠ è„šOrzã€‚ã€‚ã€‚TAT ä¸ºæ­¤æˆ‘ä¹Ÿå¸Œæœ›è‡ªå·±å¼€å§‹æ”¹å˜å§ï¼Œä»¥åæ— è®ºæ˜¯åˆ·leetcodeï¼Œè¿˜æ˜¯è¯»è®ºæ–‡ç­‰ç­‰ï¼Œä¸æŠ€æœ¯ç›¸å…³çš„ä¸œè¥¿æˆ‘æ¸æ¸éƒ½ä¼šæ”¾åœ¨è¿™é‡Œï¼Œå¸Œæœ›è‡ªå·±åœ¨è¿™ä¸¤å¹´å·çš„é£èµ·çš„ç¯å¢ƒé‡Œè¿˜èƒ½æ‰¾åˆ°ä¸€ä¸ªè¿˜ç®—è¡Œçš„å·¥ä½œå§ã€‚ã€‚ã€‚Orz è¿™é‡Œå¯èƒ½ä¹Ÿä¼šæ”¾ä¸€äº›åæ§½å§ã€‚ã€‚ã€‚","categories":[],"tags":[{"name":"leetcode_solution","slug":"leetcode-solution","permalink":"http://believebest35.github.io/tags/leetcode-solution/"}]},{"title":"Hello World","slug":"hello-world","date":"2020-07-19T15:31:33.751Z","updated":"2020-10-13T12:28:08.020Z","comments":true,"path":"2020/07/19/hello-world/","link":"","permalink":"http://believebest35.github.io/2020/07/19/hello-world/","excerpt":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick Start","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick Start Create a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[],"tags":[]}],"categories":[],"tags":[{"name":"Java","slug":"Java","permalink":"http://believebest35.github.io/tags/Java/"},{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"http://believebest35.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"},{"name":"å¤šçº¿ç¨‹","slug":"å¤šçº¿ç¨‹","permalink":"http://believebest35.github.io/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"},{"name":"OOP","slug":"OOP","permalink":"http://believebest35.github.io/tags/OOP/"},{"name":"Linux","slug":"Linux","permalink":"http://believebest35.github.io/tags/Linux/"},{"name":"æ•°æ®ç»“æ„ä¸ç®—æ³•","slug":"æ•°æ®ç»“æ„ä¸ç®—æ³•","permalink":"http://believebest35.github.io/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/"},{"name":"leetcode_solution","slug":"leetcode-solution","permalink":"http://believebest35.github.io/tags/leetcode-solution/"},{"name":"STLå¸¸ç”¨å®¹å™¨","slug":"STLå¸¸ç”¨å®¹å™¨","permalink":"http://believebest35.github.io/tags/STL%E5%B8%B8%E7%94%A8%E5%AE%B9%E5%99%A8/"}]}